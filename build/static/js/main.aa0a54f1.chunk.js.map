{"version":3,"sources":["utils/env.js","services/account.js","services/common.js","App/globalContext/useAccount.js","services/tools.js","utils/mixs.js","App/globalContext/useGroundObjectTags.js","App/globalContext/useHeaderNav.js","App/globalContext/index.js","App/Layout/HeaderNav/index.js","App/Layout/Header.js","App/Layout/SideMenu.jsx","utils/hooks.js","services/decorators/request.js","services/datas.js","components/SkyFilter/Filters/Date.js","components/SkyFilter/Filters/Dates.js","components/SkyFilter/Filters/Input.js","components/SkyFilter/Filters/InputNum.js","components/SkyFilter/Filters/Select.js","components/TimeRanger/index.jsx","components/SkyFilter/Filters/TimeRanger.js","components/PolygonDrawer.jsx","components/AdminRegionCascader/index.jsx","utils/file-reader.js","components/SkyFilter/Filters/Space.js","components/GroundObjectTags/index.js","components/SkyFilter/Filters/MarkTag.js","components/SkyFilter/Filters/Satellite.js","services/samples.js","components/SkyFilter/Filters/WaveAggregation.js","components/SkyFilter/Filters/Title.js","components/SkyFilter/Filters/CheckList.js","components/SkyFilter/Filters/RadioList.js","components/SkyFilter/Filters/AdminRegion.js","components/SkyFilter/Filters/Custom.js","components/SkyFilter/Filters/TreeSelect.js","components/SkyFilter/Filters/index.js","components/SkyFilter/index.jsx","components/SkyFilter/Toolbar.js","pages/Datas/Download/DataDownload/index.js","pages/Datas/Download/QueryResult/ImageListModal.jsx","pages/Datas/Download/QueryResult/Filter.jsx","pages/Datas/Download/QueryResult/index.jsx","pages/Datas/Download/index.jsx","constants/downloadTaskStatus.js","pages/Datas/Tasks/TaskProgress.jsx","components/ConditionModal/index.jsx","components/TableFilter/index.js","pages/Datas/Tasks/TaskList.jsx","pages/Datas/Tasks/index.jsx","pages/Datas/Wave/Tasks/TaskList.js","pages/Datas/Wave/Tasks/CreateTask.js","pages/Datas/Wave/DataDisplay/useTaskDatas.js","utils/scroll.js","pages/Datas/Wave/DataDisplay/ImageList/Images.js","pages/hooks/useImageViewReducer.js","pages/Datas/Wave/DataDisplay/ImageList/index.js","pages/Datas/Wave/DataDisplay/ChartList/LineChart.js","pages/Datas/Wave/DataDisplay/ChartList/index.js","pages/Datas/Wave/index.js","pages/Datas/SampleTags/CreateTag.js","pages/Datas/SampleTags/SearchTag.js","pages/Datas/SampleTags/EditModal.js","pages/Datas/SampleTags/index.js","pages/Datas/RegionTags/SearchResult.js","pages/Datas/RegionTags/RegionCascader.js","pages/Datas/RegionTags/index.js","pages/Samples/Files/FileList.js","pages/Samples/Files/FileInfo.js","pages/Samples/utils.js","pages/Samples/Files/FileView.js","pages/Samples/Files/index.js","pages/Samples/Management/Filter.js","pages/Samples/Management/index.js","pages/Samples/Task/utils/data-map.js","pages/Samples/Task/List/Header.js","pages/Samples/Task/components/Table.js","pages/Samples/Task/List/Table.js","pages/Samples/Task/List/UpdateModal.js","pages/Samples/Task/List/index.js","pages/Samples/Task/utils/adapter.js","pages/Samples/Task/FormCollection/TileConfig.js","pages/Samples/Task/FormCollection/TileList.js","pages/Samples/Task/FormCollection/index.js","pages/Samples/Task/utils/reducer.js","pages/Samples/Task/utils/effect.js","pages/Samples/Task/utils/useNav.js","pages/Samples/Task/Create/index.js","pages/Samples/Task/utils/context.js","components/ImagesFilter/FormItem.js","components/ImagesFilter/index.js","pages/Samples/Task/Mark/Tile/Form/useSatellite.js","pages/Samples/Marks/Operate/hooks.js","pages/Samples/Task/Mark/Tile/Form/useCollection.js","pages/Samples/Task/Mark/Tile/Form/useHistory.js","pages/Samples/Task/Mark/Tile/Form/useFieldOperation.js","pages/Samples/Task/Mark/Tile/Form/index.js","pages/Samples/Task/Mark/Map/components/MapSync.js","pages/Samples/Task/Mark/Map/components/SampleEdit.js","pages/Samples/Task/utils/index.js","pages/Samples/Task/Mark/Map/states/useSatellite.js","pages/Samples/Task/Mark/Map/states/useMap.js","pages/Samples/Task/Mark/Map/components/CoordinateMarker.js","pages/Samples/Task/Mark/Map/components/Trigger.js","pages/Samples/Task/Mark/Map/components/ImageLayer.js","pages/Samples/Task/Mark/Map/components/TaskGeoJSON.js","pages/Samples/Task/Mark/Map/components/EditingGeoJSON.js","pages/Samples/Task/Mark/Map/components/UavToolbar.js","pages/Samples/Task/Mark/Map/components/Mouse.js","pages/Samples/Task/Mark/Map/components/ImageViewer.js","pages/Samples/Task/Mark/Map/MainMap.js","pages/Samples/Task/Mark/Map/states/useField.js","pages/Samples/Task/Mark/Map/components/CompairMap.js","pages/Samples/Task/Mark/Map/index.js","pages/Samples/Task/Mark/Tile/index.js","pages/Samples/Task/Mark/Task.js","pages/Samples/Task/Mark/index.js","pages/Samples/Task/Audit/Tile.js","pages/Samples/Task/Audit/Task.js","pages/Samples/Task/Audit/index.js","pages/Samples/Task/index.js","pages/Account/MarkColor/index.js","components/Uploader/index.js","pages/Tools/Upload/index.js","utils/uuid.js","services/standard.js","pages/Standard/Publish/Filters.js","pages/Standard/Publish/QueryResult.js","pages/Standard/Publish/StandardInfo.js","pages/Standard/Publish/index.js","pages/Standard/SqTable.js","pages/Standard/Categories/index.js","components/SqColorBar/ColorSet.js","components/SqColorBar/IntervalColorTable.js","components/SqColorBar/InsertColorTable.js","components/SqColorBar/FixedColorTable.js","components/SqColorBar/index.js","pages/Standard/Cors/CorInfo.js","constants/dateSelectorType.js","pages/Standard/Cors/CorList.js","pages/Standard/Cors/index.js","pages/Standard/Ders/DerInfo.js","pages/Standard/Ders/DerList.js","pages/Standard/Ders/index.js","pages/Standard/Enas/index.js","configs/cdn.config.js","utils/exif-verify.js","pages/Samples/DataUpload/UploadImage.js","pages/Samples/DataUpload/Drawer.js","constants/sampleImageType.js","constants/sampleImageStatus.js","pages/Samples/DataUpload/useUploadReducer.js","pages/Samples/DataUpload/index.js","services/algorithm.js","pages/Algorithm/WorkSpace/SqTable.js","pages/Algorithm/WorkSpace/SpaceList.js","pages/Algorithm/WorkSpace/Samples/DashBoard.js","pages/Algorithm/WorkSpace/Samples/SampleSetList.js","components/SortableTags/index.js","utils/event-emitter.js","components/JsonInput/index.js","constants/defaultJsonText.js","pages/Algorithm/WorkSpace/Samples/SampleSetInfo.js","pages/Algorithm/WorkSpace/Samples/SampleDataInfo.js","pages/Algorithm/WorkSpace/SpaceInfo.js","pages/Algorithm/WorkSpace/index.js","App/Layout/Content.jsx","App/Layout/index.jsx","App/index.jsx","serviceWorker.js","index.js","utils/api.js","utils/cookies.js","assets/logo-icon.png","assets/logo-white.png","utils/ls.js"],"names":["ls","global","localStorage","location","env","getItem","hostname","getURL","sky","invoke","tagCode","settings","sso","fileName","data","gridType","lon","lat","meta","useAccount","useState","profile","setProfile","tagSettings","setTagSettings","tagColors","setTagColors","getCurrentProfile","useCallback","a","getAllTagSettings","sampleService","getAllTagColors","useEffect","getAllSampleTags","upload","code","node","boundary","JSON","parse","flatTree","treeDatas","isAddPath","reduce","c","path","id","children","length","forEach","ch","copyTextToClipboard","text","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","focus","select","execCommand","message","success","error","err","removeChild","useGroundObjectTags","tags","flatedTags","tagMaps","setTagMaps","toolsService","tag","label","name","useSampleTags","tagIds","setTagIds","localTags","filter","find","map","addLocalTag","_tagIds","t","slice","set","stringify","localIdsString","get","localIds","e","console","useCommonlyUsedTags","defaultOptions","type","items","onChange","useHeaderNav","options","setOptions","active","setActive","mount","setTimeout","key","unMount","GlobalContext","createContext","GlobalContextProvider","contextValue","account","headerNav","groundObjectTags","Provider","useGlobalContext","useContext","TabPane","HeaderNav","nav","className","item","index","Item","onClick","activeKey","tab","Header","THeader","menu","username","href","overlay","icon","UserOutlined","Sider","SubMenu","SideMenu","openKeys","setOpenKeys","selectedKey","setSelectedKey","collapsed","setCollapsed","onCollapse","split","pathname","openKey","lastIndexOf","parentKey","substring","trigger","collapsible","collapsedWidth","src","logo","alt","collapsedLogo","MenuUnfoldOutlined","MenuFoldOutlined","theme","mode","selectedKeys","onOpenChange","title","TableOutlined","to","StarOutlined","FileOutlined","RobotOutlined","ToolOutlined","useQuery","URLSearchParams","useLocation","search","requestSuccess","msg","target","descriptor","originFunc","then","res","requestWarning","warning","requestError","catch","queryDownloadCondition","truckId","condition","noInfo","timeRange","shape","downloadShape","beginTime","endTime","includeMonths","dataType","description","downloadCondition","datas","time","cloudCover","toFixed","priority","updatedAt","infos","info","startTime","finishedTime","batchNumber","operation","tasks","task","createdAt","taskId","waves","w","searchType","selectedCode","Date","required","help","valueKey","_options","_label","val","RangePicker","Dates","onItemChange","_onChange","CommonInput","hideLabel","placeholder","InputNum","Option","CommonSelect","optionSource","_optionSource","s","disabled","_months","Array","from","r","i","_monthOptions","defaultRange","dates","TimeRanger","range","setRange","rangeOpen","setRangeOpen","excludeMonths","setExcludeMonths","picker","useRef","_className","monthOptions","useMemo","m","im","onRangePickerChange","months","diff","moment","format","push","parseInt","add","_m","closeRange","onOK","ref","allowClear","onFocus","open","renderExtraFooter","Group","Ranger","Toolbar","TMap","DrawTigger","setPolygon","useLeaflet","oLayer","setOLayer","onDraw","layer","layers","getLayers","removeLayer","addLayer","tool","edit","delete","geojson","toGeoJSON","onReset","onSave","off","on","PolygonDrawer","polygon","modalShow","setModalShow","onOk","htmlType","visible","okButtonProps","onCancel","maskClosable","enables","loadTopRegion","getTopRegion","regions","loadRegionChildren","getRegionChildren","loadRegion","getRegion","region","AdminRegionCascader","topCode","onSelect","setRegion","selectedCodes","setSelectedCodes","setText","loadData","selected","isLeaf","loading","Promise","all","setTopRegion","changeOnSelect","codes","selectedOptions","o","join","maxTagTextLength","toText","file","resolve","reject","reader","FileReader","readAsText","onload","result","onerror","fileReadAsText","fileList","dataTransfer","files","size","lastModified","toBase64","readAsDataURL","fileReadAsDataURL","base64","defaultSpaceOptions","Space","lonLat","setLonLat","_spaceOptions","spaceOptions","setLon","v","setLat","changeValue","geometry","onSelectFile","event","features","UploadOutlined","htmlFor","accept","GroundObjectTags","commonlyUsedEnable","rest","mergedTags","tagId","pop","onPopupVisibleChange","CommonlyUsedList","immediateEnable","setImmediateEnable","borderColor","color","g","b","tagPath","onImmediateEnableChange","enable","checked","backgroundColor","MarkTag","colon","Satellite","satellites","setSatellites","satellite","setSatellite","onSatelliteChange","queryAvailableSatellite","dataTypes","imageTime","uploadTime","ids","sampleFileIds","sampleFile","sampleFileId","samples","resourceType","lastSampleCommittedAt","taskName","waveAggregations","sample","_sample","tile","waveAggregationId","sampleIds","auditStatus","sampleDto","offset","limit","images","image","createTime","takeTime","failedReason","img","source","imageId","comment","sampleTask","params","archiveType","WaveAggregation","satelliteType","sourceOptions","setSourceOptions","samplesService","queryWaveAggregations","Title","CheckList","preValue","CloseOutlined","diabled","includes","RadioList","AdminRegion","Custom","Component","TreeSelects","treeData","_treeData","Filters","DATE","defaultValue","DATES","INPUT","Input","SELECT","Select","undefined","TIME_RANGER","SPACE","SATELLITE","MARK_TAG","WAVE_AGGREGATION","TITLE","CHECK_LIST","RADIO_LIST","ADMIN_REGION","CUSTOM","TREE_SELECT","TreeSelect","INPUT_NUM","FilterMounter","filterOptions","filterType","Filter","SkyFilter","enabledFilters","layout","_value","sections","enabledFiltersValue","sectionsValue","section","initialValues","Datadownload","filters","setFilters","setInfo","setLoading","disableButton","timeRanger","disabledDate","current","endOf","downloadBatchData","space","str","dataService","ImageListModal","dataList","addPreSelect","preDownloads","ImageItem","memo","detail","preview","CloudFilled","cloud_cover","ready","d","DataFilter","isLoading","setIsLoading","setDataList","queryDataList","Column","QueryResult","listModalShow","setListModalShow","detailModalShow","setDetailModalShow","setPreDownloads","setTaskName","itemData","setItemData","listItem","operatedDataList","removePreSelect","downloadTci","tciUrl","submitPreList","downloadConditionalData","bordered","extra","dataSource","rowKey","pagination","showTotal","showSizeChanger","dataIndex","render","remoteUrl","placement","ellipsis","sorter","valueOf","defaultSortOrder","footer","offsetBottom","window","count","overflowCount","zIndex","Datas","history","useHistory","manner","DataDownload","已完成","已暂停","已分发","待处理","下载中","失败","SubTable","batchDetails","setBatchDetails","queryBatchDetails","batchDetail","pageSize","downloadTaskStatus","ParentTable","batchInfos","defaultPageSize","expandedRowRender","EditablePopupedGeoJSON","BoundsFit","CommonInfo","captions","Name","shapes","ConditionModal","conditionModalShow","conditionModalLoading","spinning","Object","keys","k","getTableFilter","columnName","filterDropdown","setSelectedKeys","confirm","clearFilters","onPressEnter","onFilter","inputValue","toString","toLowerCase","filterIcon","filtered","SearchOutlined","classnames","mannerDic","normal","gazing","TaskList","setTasks","setBatchInfos","setDownloadCondition","setConditionModalShow","setConditionModalLoading","queryTasksByMode","updateTask","rid","allowOperation","operationTask","changeStatus","deleteTask","queryBatchInfos","total","totalCount","content","finishedCount","percent","Math","floor","status","failedCount","onConfirm","okText","cancelText","TaskProgress","Tasks","fetchTasksList","setInfos","queryTaskInfo","queryWaveInfo","deleteWaveTask","onClickTaskInfo","geometryType","operations","CreateTask","setWaves","btnLoading","setBtnLoading","multiple","cerateTask","coordinates","createWaveTask","getAllWaves","useTaskDatas","taskDatas","setTaskDatas","queryWaveDataInfo","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","scrollLeft","element","rqId","easingName","duration","_offset","ceil","performance","now","getTime","start","end","maxOffset","scrollWidth","offsetWidth","animateScroll","min","timeFunction","scrollOffset","requestAnimationFrame","cancelAnimationFrame","Images","showLargeImg","appendScroll","onWheel","list","el","clearScrollAnimation","stopPropagation","preventDefault","deltaY","deltaX","addEventListener","removeEventListener","simageUrl","limageUrl","initialState","imgUrl","reducer","state","action","useImageViewReducer","useReducer","_dispatch","useSupReducer","ImageLists","imageViewState","imageViewDispatch","scrolls","appendScrolls","scroll","url","onClose","LineCharts","margin","right","bottom","dataKey","stroke","angle","dx","dy","strokeDasharray","ChartList","taskData","DataWave","getWaveTasksList","tasksList","query","waveTask","Number","ImageList","setSelectedTag","popupClassName","popupVisible","expandTrigger","searchResult","selectedTag","goBack","itemLayout","renderItem","Meta","fullPathTitle","createFilters","updateFilters","editType","getAllSamples","tagInfo","setTagInfo","setBtnloading","createLabel","updateLabelName","String","onSubmit","disableSubmitBtn","initialWidth","initialHeight","create","update","Search","setTags","setEditType","seatchType","setSearchType","setSearchResult","getAllLabel","searchSampleTag","searchLabel","onClickUpdate","onClickCreate","compact","onSearch","EditModal","SearchTag","CreateTag","getDescendant","n","displayRender","loadFn","searchRegion","SearchResult","RegionCascader","FileList","fetchFileList","deleteIds","setDeleteIds","changeLogs","setChangeLogs","deleteFile","queryChangelogs","queryChangeLogs","logs","FileAddOutlined","DeleteOutlined","rowSelection","l","user","formItemLayout","labelCol","xs","span","sm","wrapperCol","FileInfo","fileInfo","setFileInfo","tagMapper","mapper","updateFileInfo","updateFile","remove","uploadFile","ghost","uploader","tid","parentId","getEditableSamplesFactor","tgs","tc","properties","样本id","标记人","creator","状态","地物标签","tagDescription","影像时间","useEditableSamples","getEditableSamples","FileView","setSamples","previewSampleTags","_samples","SimpleFileManagement","setFiles","queryFileList","fileId","f","queryEnable","querySamples","markTag","block","Samples","parsedSamples","TASK_STATUS","Map","TASK_MODE","IMAGE_SOURCE","withRouter","activeType","onTypeChange","checkCreateTask","service","Button","props","_columns","columns","TABLE_COLUMNS","tableProps","assign","setUpdateTask","archiveTask","sampleStats","marketCount","targetCount","unauditedCount","allowOperations","Table","setTask","fetchTasks","taskInfo","setTaskInfo","queryTaskInfoById","useTaskInfo","updateMarkTask","disableUpdateButton","_task","confirmLoading","setActiveType","_activeType","getTaskList","UpdateModal","createSampleTask","tileList","imageSource","createStateTask","mergeTileList","tiles","createFieldOperationParams","createHistoryParams","historyTagCode","configs","setConfigs","setData","deleteConfig","splice","addConfig","_configs","concat","addBtn","labelTargets","wrapClassName","createLabelList","markedCount","setTileList","curTile","setCurTile","tileConfigVisible","setTileConfigVisible","showTileConfig","baseColumns","editable","onTileClick","onConfigCancel","findIndex","onConfigOk","acc","genTileList","TileConfig","collection","genCreateForm","form","TileList","curSample","markedSamples","historySamples","auditSamples","fieldOperationData","mousePosition","effect","taskState","taskDispatch","navList","TilePolygon","useNav","useTaskReducer","step","setStep","nextDisabled","setNextDisabled","onTileListChange","getTileList","finally","toStep2","createTask","imageFilters","fitShapes","validateTask","FormCollection","flyEnable","TaskContext","TaskContextProvider","taskReducer","useTaskContext","FormItem","sampleImages","selectedImageIds","setSelectedImageIds","imageFilterShow","setImageFilterShow","setVisible","ImagesFilter","mainImagePath","setMainImagePath","setSampleImages","querySampleImages","_images","useSampleImages","satelliteImages","contrastImages","mainImageId","topLeftImageId","topRightImageId","onImageChange","onCompairImageChange","topLeftImagePath","topRightImagePath","multiMap","Comp","onTagChange","onHistoryChange","historySample","onFieldDateChange","fieldDates","queryFieldOperationData","warn","onFieldChange","getDisabledDate","date","isBefore","isAfter","fieldOperation","useFieldOperation","useSatellite","baseSsatelliteCollection","normalSatelliteCollection","COMP_MAP","appendFilter","_collection","historySampleEnable","fieldOperationEnable","useCollection","maps","MapSyncContext","curMapId","keyboard","_leaflet_id","center","getCenter","zoom","getZoom","mapId","setView","SyncTrigger","dispatch","cb","MapSync","match","localSample","setLocalSample","updateLocalSample","updateSample","save","deleteSample","createSample","imageIds","onCommonlyUsedObjectTagChange","danger","mask","reverse","getPath","imagePath","paths","LassoIcon","Icons","CoordinateMarker","coordMarkerProperties","setCoordMarkerProperties","queryIntersectTilesByPoint","lng","common","setCurSample","setMap","toggleMainImageVisible","onCreate","newSample","TqtTileLayer","uavImageData","pyramid","maxZoom","opacity","GeoJSON","taskShape","setTaskShape","getTaskShape","getRegionNode","bringToBack","geojsonStyle","weight","fillOpacity","fillColor","EditingGeoJSON","L","geoJSON","onEachFeature","feature","eachLayer","opacityonChange","imageOnShow","Trigger","setCenter","onMouseOver","onMouseMove","latlng","onMouseOut","radius","CircleMarker","RotatedMark","UavActiveMark","UavEnableMark","UavDisableMark","MobileActiveMark","MobileEnableMark","MobileDisableMark","MainMap","CurTileShape","tempSample","setTempSample","localSamples","setLocalSamples","setActiveKey","mainImageVisible","setMainImageVisible","toggleDatas","onEdit","toolEvent","emit","Icon","onActive","draw","onDeactive","disable","EditOutlined","continueCreate","opreation","useMap","imageViewerData","_setImageViewerData","setUavImageData","setImageViewerData","bigImage","imageViewerOnClose","imageViewerOnShow","onUavImageViewerClose","onMobileImageViewerClose","onUavClick","onMobileClick","onImageLayerOpacityChange","useField","fieldOperationMark","uavEnableList","uavDisableList","mobileEnableList","mobileDisableList","used","getBounds","Mouse","TaskGeoJSON","maxNativeZoom","direction","ImageLayer","bringToFront","UavToolbar","ImageViewer","CompairMap","getTask","getMarked","queryMarked","Form","onTilePolygonClick","exact","component","Task","Tile","queryForAudit","passAll","List","Create","Mark","Audit","ColorBar","rgba","newTagSettting","MarksColor","sketchPickerShow","setSketchPickerShow","setTag","operate","setOperate","saveTagSettings","deleteTagSettings","colors","rgb","Uploader","limitInfo","onDrop","setLocalFiles","mSet","UploadTool","preFiles","_files","nextFiles","clear","localFiles","mGet","rel","UUID","uuid","replace","random","toUpperCase","record","thumbnail","resolution","cdpCode","publishedRecordId","_shape","publishedRecord","operationType","wantToOnlineId","token","categories","cdp","cors","legend","cmapLegend","cdpName","pro","proCode","formEnas","enas","cmapLegentType","colorType","cor","ders","corCode","der","ena","setStandards","setTableLoading","fetchAllStandards","products","setProducts","standardService","queryAllProducts","queryFilteredTasksList","queryPublishedRecords","_tasks","cleanFilters","disabledOnline","disabledOffline","standards","tableLoading","spaceInfos","setSpaceInfos","filteredValue","batchTime","onClickSpaceInfo","standard","setOperations","deleteStandard","opreate","operatePublishedData","updateStandard","rId","operationStandard","showConfirm","ExclamationCircleOutlined","verifyDuplicateStandard","verifyDuplicateData","querySpaceInfo","spaceInfo","StandardInfo","formItems","setFormItems","fileUrl","setFileURL","setFileName","CORs","createProduct","tiffMeta","max","dataValue","valueMapper","imgTimeRange","tiffUrl","publishMethod","disabledButton","onSelectTiff","tiff","uploadTiff","_imgUrl","LoadingOutlined","StandardPublish","queryAllPublishedRecords","_standards","tableloading","SqTable","onClickBtn","StandardCategories","setCategories","category","setCategory","setConfirmLoading","categoryColumn","deleteCategory","fetchAllCategories","categoryService","getAllCategories","saveCategory","_category","disabledBtn","ColorSet","setColorBar","onPickerChange","sqColor","IntervalColor","colorData","setColorData","uneditName","deleteLegend","deleteIndex","addLegend","newData","updateColorValue","updateColorData","textAlign","marginRight","PlusOutlined","InsertColor","page","setPage","updateInsertLegendValue","updateInsertLegendColor","deleteInsertLegend","addInsertLegend","formColorData","leftValue","rightValue","num","marginLeft","FixedColor","enableAdd","deleteFixedData","addFixedData","updateColorName","maxWidth","titile","deleted","ColorTableSet","legendType","initCorValue","fixedColorData","CorInfo","fetchCorList","pros","setPros","setEnas","corInfo","setCorInfo","corLegend","setCorLegend","cmapLegendType","setCmapLegendType","setCmapLegend","saveCor","p","_enas","_cmapLegend","indexOf","corService","dateSelectorType","getAllEnas","GALLERY","DATELINE","TIMEPLAYER","CorList","corList","corColumns","cmapl","deleteCdp","deleteCor","StandardCors","setCorList","getAllCors","corId","initDerValue","DerInfo","fetchDerList","derInfo","setDerInfo","setCors","derLegend","setDerLegend","derLegendType","setDerLegendType","saveDer","derService","DerList","derList","deleteDer","derColumns","StandardDers","setDerList","getAllDers","derId","enaLevel","GLOBAL","CDP","StandardEnas","setEna","enaColumn","deleteEna","fetchAllEnas","enaService","createEna","updateEna","createOrUpdate","sqUploadUrl","sqTokenUrl","verifyKey","readAsArrayBuffer","ExifReader","load","Error","headers","UploadImage","uploadDispatch","showUploadDraw","fetchImages","setSource","verifyFormat","filesFormat","matches","exec","getFileExtendingName","asyncFunc","getToken","axios","formData","FormData","append","post","uploadImage","optionType","PictureOutlined","localFileList","handleStatusChange","setState","preProps","this","uploadState","initFileList","approxTime","errorMessage","timer","run","randomRate","handleUploadError","clearTimeout","finished","interval","uploadFinished","handlePercentChange","React","UAV_CAMERA","MOBILE_PHONE_CAMERA","FINISHED","PROCESSING","FAILED","DataUpload","setImages","useUploadReducer","drawerVisible","setDrawerVisible","queryImageList","deleteImage","updateComment","onSubmitComment","updateImageComment","sampleImageType","sampleImageStatus","onDrawerClose","ai","workSpace","workSpaceId","samplesSet","sampleSet","times","sampleSetId","sampleDataList","sampleDataId","sampleData","hideBtn","SpaceList","spaceList","fetchSpaceList","setSpace","deleteSpace","algorithmService","onUpdate","saveSpace","_space","updateSpace","createSpace","spaceColumns","DashBoard","spaceId","boardData","setBoardData","fetchDashBoardData","queryDashboard","sampleSetSize","sampleDataSize","SampleSetList","spaceName","settingList","fetchSampleSetList","deleteSetting","deleteSampleSet","deleteSampleData","settingColumns","setting","SortableItem","sortableElement","SortableContainer","sortableContainer","SortableTags","selectedTags","setSelectedTags","onSortEnd","oldIndex","newIndex","arrayMove","defaultSelectedKeys","selectedNodes","emitter","_events","handler","handlers","args","prototype","call","arguments","apply","JsonInput","param","setParam","editor","setEditor","container","querySelector","JSONEditor","defaultJsonText","balance_strat","default","strat_param","label_change","levelto","specific_label","initvalue","SampleSetInfo","sampleSetInfo","jsonText","setJsonText","sId","saveInfo","_jsonText","sid","createdBy","updateSampleSet","createSampleSet","queryTags","queryAllSampleTags","selectable","SampleDataInfo","selectedWaves","setSelectedWaves","sampleSetList","setSampleSetList","updateSampleData","createSampleData","queryWaves","queryAllWaves","querySampleSetList","sampleSetIds","SpaceInfo","setSettingList","onTabChange","querySampleDataList","WorkSpace","setSpaceList","queryWorkSpaceList","Content","TContent","services","DataTasks","RegionTags","SapmleTags","SampleFiles","SampleManagement","SampleTask","Upload","TLayout","App","locale","zhCN","Layout","Boolean","ReactDOM","getElementById","navigator","serviceWorker","registration","unregister","urls","development","uri","production","ace","metas","appName","appVersion","qcp","cookies","debug","mock","secure","throttle","timeout","Ace","config","onError","setItem","getModules","factory","Cookies","_document","_cacheKeyPrefix","_maxExpireDate","defaults","_cachedDocumentCookie","cookie","_renewCache","_cache","decodeURIComponent","_getExtendedOptions","expires","_getExpiresDate","_generateCookieString","expire","domain","_isValidDate","isNaN","Infinity","cookieString","encodeURIComponent","toUTCString","_getCacheFromString","documentCookie","cookieCache","cookiesArray","cookieKvp","_getKeyValuePairFromCookieString","separatorIndex","decodedKey","substr","_areEnabled","areEnabled","enabled","cookiesExport","define","module","exports","removeItem","itemName"],"mappings":"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","file":"static/js/main.aa0a54f1.chunk.js","sourcesContent":["const ls = global.localStorage;\nconst location = global.location;\n\nconst dev = 'http://dev-node-01.host.terraqt.net:8080';\nconst pro = 'https://new-api.terraqt.com';\n\nexport const env =\n  ls.getItem('env') === 'development'\n    ? 'development'\n    : location.hostname === 'sky-alpha.terraqt.ink' ||\n      location.hostname === 'localhost'\n    ? ls.getItem('env') === 'production'\n      ? 'production'\n      : 'development'\n    : 'production';\n\nexport function getURL() {\n  if (env === 'development') {\n    return dev;\n  } else {\n    return pro;\n  }\n}\n","import { sky } from 'src/utils/api.js';\n\nclass service {\n  // sample-mark-color-setting\n  getAllTagSettings() {\n    return sky.invoke('SampleService.getAllTagSettings');\n  }\n\n  saveTagSettings(tagCode, settings) {\n    return sky.invoke('SampleService.saveTagSettings', {\n      tagCode,\n      settings\n    });\n  }\n\n  deleteTagSettings(tagCode) {\n    return sky.invoke('SampleService.deleteTagSettings', {\n      tagCode\n    });\n  }\n\n  getAllTagColors() {\n    return sky.invoke('SampleService.getAllTagColors');\n  }\n}\n\nexport default new service();\n","import { sso, sky, meta } from 'src/utils/api.js';\n\nclass service {\n  // sso\n  getCurrentProfile() {\n    return sso.invoke('ProfileService.getCurrentProfile');\n  }\n\n  upload(fileName, data) {\n    return sky.invoke('UploadService.upload', {\n      fileName,\n      data\n    });\n  }\n\n  queryAvailableSatellite() {\n    return sky.invoke('QueryService.queryAllSpacecraft');\n  }\n\n  queryIntersectTilesByPoint(gridType, lon, lat) {\n    return meta.invoke('GridService.queryIntersectTilesByPoint', {\n      gridType,\n      lon,\n      lat\n    });\n  }\n\n  // region\n\n  // skyFilter\n}\n\nexport default new service();\n","import { useState, useEffect, useCallback } from 'react';\nimport sampleService from 'src/services/account';\nimport sso from 'src/services/common';\n\nconst useAccount = () => {\n  const [profile, setProfile] = useState({});\n  const [tagSettings, setTagSettings] = useState([]);\n  const [tagColors, setTagColors] = useState([]);\n\n  const getCurrentProfile = useCallback(async () => {\n    const profile = await sso.getCurrentProfile();\n    setProfile(profile);\n  }, []);\n\n  const getAllTagSettings = useCallback(async () => {\n    const tagSettings = await sampleService.getAllTagSettings();\n    setTagSettings(tagSettings);\n  }, []);\n\n  const getAllTagColors = useCallback(async () => {\n    const tagColors = await sampleService.getAllTagColors();\n    setTagColors(tagColors);\n  }, []);\n\n  useEffect(() => {\n    getCurrentProfile();\n    getAllTagSettings();\n    getAllTagColors();\n  }, [getAllTagColors, getAllTagSettings, getCurrentProfile]);\n\n  return {\n    profile,\n    tagSettings,\n    tagColors,\n    getCurrentProfile,\n    getAllTagSettings,\n    getAllTagColors\n  };\n};\n\nexport default useAccount;\n","import { meta, sky } from 'src/utils/api.js';\n\nclass service {\n  // 行政区域相关\n  getTopRegion() {\n    return meta.invoke('RegionService.getTopRegion');\n  }\n\n  getRegionChildren(code) {\n    return meta.invoke('RegionService.getChildren', { code });\n  }\n\n  getDescendant(code) {\n    return meta.invoke('RegionService.getDescendant', { code });\n  }\n\n  //获取region信息，包含 boundary\n  async getRegionNode(code) {\n    let node = await meta.invoke('RegionService.getRegionNode', {\n      code\n    });\n    return {\n      ...node,\n      boundary: JSON.parse(node.boundary)\n    };\n  }\n\n  // 获取 region 信息，不包含 boundary\n  getRegion(code) {\n    return meta.invoke('RegionService.getNode', {\n      code\n    });\n  }\n\n  // 数据下载\n  queryAvailableSatellite() {\n    return sky.invoke('QueryService.queryAllSpacecraft');\n  }\n\n  // 样本标签\n  getAllSampleTags = () => {\n    return sky.invoke('SampleService.getAllSampleTags');\n  };\n\n  // 文件上传\n  upload = (fileName, data) => {\n    return sky.invoke('UploadService.upload', {\n      fileName,\n      data\n    });\n  };\n}\n\nexport default new service();\n","import { isEqual } from 'lodash';\nimport { message } from 'antd';\n\nexport function flatTree(treeDatas, isAddPath) {\n  return treeDatas.reduce((a, c) => {\n    if (isAddPath) {\n      c.path = c.path || [c.id];\n      if (c.children && c.children.length) {\n        c.children.forEach(ch => {\n          ch.path = [...c.path, ch.id];\n        });\n      }\n    }\n    return c.children && c.children.length\n      ? [...a, c, ...flatTree(c.children, isAddPath)]\n      : [...a, c];\n  }, []);\n}\n\nexport function arePropsEqual(pre, next) {\n  return Object.keys(pre).every(key => isEqual(pre[key], next[key]));\n}\n\nexport function copyTextToClipboard(text) {\n  var textArea = document.createElement('textarea');\n\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.padding = 0;\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    if (successful) {\n      message.success('复制成功！');\n    } else {\n      message.error('复制失败!');\n    }\n  } catch (err) {\n    message.error('复制失败！');\n  }\n  document.body.removeChild(textArea);\n}\n\nexport function unique(arr) {\n  return Array.from(new Set(arr));\n}\n\nexport const noop = () => {};\n","import { useState, useEffect, useCallback } from 'react';\nimport { message } from 'antd';\nimport toolsService from 'src/services/tools';\nimport { flatTree } from 'src/utils/mixs';\nimport { get, set } from 'src/utils/ls';\n\nfunction useSampleTags() {\n  const [tagMaps, setTagMaps] = useState({\n    tags: [],\n    flatedTags: []\n  });\n\n  useEffect(() => {\n    (async function () {\n      try {\n        let tags = await toolsService.getAllSampleTags();\n        let flatedTags = flatTree(tags, true);\n        flatedTags.forEach(tag => {\n          let children = tag.children;\n          tag.value = tag.id;\n          tag.label = tag.name;\n          tag.children = children.length ? children : null;\n        });\n        setTagMaps({\n          tags,\n          flatedTags\n        });\n      } catch (e) {\n        message.error(e.message);\n      }\n    })();\n  }, []);\n  return tagMaps;\n}\n\nfunction useCommonlyUsedTags(tags) {\n  let [tagIds, setTagIds] = useState([]);\n\n  const localTags = tagIds.length\n    ? [\n        {\n          id: -110,\n          value: -110,\n          label: '最近使用',\n          children: tags.length\n            ? tags\n                .filter(tag => tagIds.find(id => tag.id === id))\n                .map(tag => ({ ...tag, children: null }))\n            : null\n        }\n      ]\n    : [];\n\n  const addLocalTag = useCallback(\n    id => {\n      let _tagIds = [...tagIds];\n      if (tagIds.find(t => t === id)) return;\n      // max commonly used items num is 5\n      _tagIds = _tagIds.length > 15 ? [..._tagIds.slice(1, 16), id] : [..._tagIds, id];\n      set('sky-object-tag-ids', JSON.stringify(_tagIds));\n      setTagIds(_tagIds);\n    },\n    [tagIds]\n  );\n\n  useEffect(() => {\n    try {\n      const localIdsString = get('sky-object-tag-ids');\n      const localIds = localIdsString ? JSON.parse(localIdsString) : [];\n      setTagIds(localIds);\n    } catch (e) {\n      console.error(e);\n    }\n  }, []);\n\n  return [localTags, addLocalTag];\n}\n\nconst useGroundObjectTags = () => {\n  const { tags, flatedTags } = useSampleTags();\n  const [localTags, addLocalTag] = useCommonlyUsedTags(flatedTags);\n\n  return {\n    tags,\n    flatedTags,\n    localTags,\n    addLocalTag\n  };\n};\n\nexport default useGroundObjectTags;\n","import { useState, useCallback } from 'react';\n\nconst defaultOptions = {\n  type: null,\n  items: [], // item: {name, path},\n  onChange: () => {}\n};\n\nconst useHeaderNav = () => {\n  const [options, setOptions] = useState(defaultOptions);\n  const [active, setActive] = useState(null);\n\n  const mount = useCallback(\n    options => {\n      setTimeout(() => {\n        const { onChange } = options;\n        const _onChange = key => {\n          onChange(key);\n          setActive(key);\n        };\n        setOptions({\n          ...options,\n          onChange: _onChange\n        });\n      });\n    },\n    [setOptions]\n  );\n\n  const unMount = useCallback(() => {\n    setOptions(defaultOptions);\n  }, []);\n\n  return {\n    options,\n    mount,\n    unMount,\n    active,\n    setActive\n  };\n};\n\nexport default useHeaderNav;\n","import React, { createContext, useContext } from 'react';\nimport useAccount from './useAccount';\nimport useGroundObjectTags from './useGroundObjectTags';\nimport useHeaderNav from './useHeaderNav';\n\nexport const GlobalContext = createContext({});\n\nexport const GlobalContextProvider = ({ children }) => {\n  const contextValue = {\n    account: useAccount(),\n    headerNav: useHeaderNav(),\n    groundObjectTags: useGroundObjectTags()\n  };\n\n  return (\n    <GlobalContext.Provider value={contextValue}>\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n\nexport const useGlobalContext = () => {\n  return useContext(GlobalContext);\n};\n","import React from 'react';\nimport { Tabs, Breadcrumb } from 'antd';\nimport './style.sass';\n\nconst { TabPane } = Tabs;\n\nconst HeaderNav = ({ nav }) => {\n  const { options, active } = nav;\n\n  return (\n    <div className=\"header-nav-container\">\n      {options.type === 'breadcrumb' && (\n        <Breadcrumb>\n          {options.items.map((item, index) => (\n            <Breadcrumb.Item\n              key={index}\n              onClick={() => options.onChange(item.key)}\n            >\n              {item.name}\n            </Breadcrumb.Item>\n          ))}\n        </Breadcrumb>\n      )}\n      {options.type === 'tabs' && (\n        <Tabs onChange={options.onChange} activeKey={active}>\n          {options.items.map(item => (\n            <TabPane tab={item.name} key={item.key}></TabPane>\n          ))}\n        </Tabs>\n      )}\n    </div>\n  );\n};\n\nexport default HeaderNav;\n","import React from 'react';\nimport { Layout, Menu, Dropdown, Avatar } from 'antd';\nimport HeaderNav from './HeaderNav';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { UserOutlined } from '@ant-design/icons';\nimport './style.sass';\n\nconst { Header } = Layout;\n\nconst THeader = ({ location }) => {\n  let { account, headerNav } = useGlobalContext();\n  const { profile } = account;\n\n  const menu = (\n    <Menu>\n      <Menu.Item>{profile.username}</Menu.Item>\n      <Menu.Item>\n        <a href=\"http://sso.terraqt.ink\">退出登录</a>\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <>\n      <Header id=\"header\">\n        <HeaderNav nav={headerNav} />\n        <Dropdown overlay={menu}>\n          <Avatar className=\"header-avatar\" icon={<UserOutlined />} />\n        </Dropdown>\n      </Header>\n    </>\n  );\n};\n\nexport default THeader;\n","import React, { useEffect, useState } from 'react';\nimport { Layout, Menu } from 'antd';\nimport {\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  TableOutlined,\n  FileOutlined,\n  UserOutlined,\n  ToolOutlined,\n  StarOutlined,\n  RobotOutlined\n} from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport collapsedLogo from 'assets/logo-icon.png';\nimport logo from 'assets/logo-white.png';\n\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst SideMenu = ({ location }) => {\n  const [openKeys, setOpenKeys] = useState([]);\n  const [selectedKey, setSelectedKey] = useState('');\n  const [collapsed, setCollapsed] = useState(false);\n\n  const onCollapse = (collapsed, selectedKey) => {\n    if (collapsed) {\n      setOpenKeys([]);\n    } else {\n      setOpenKeys([selectedKey.split('-')[0]]);\n    }\n    setTimeout(() => {\n      setCollapsed(collapsed);\n    });\n  };\n\n  useEffect(() => {\n    let pathname = location.pathname;\n    if (!pathname) return;\n    setSelectedKey(location.pathname);\n\n    let openKey = location.pathname.split('-')[0];\n    let index = location.pathname.lastIndexOf('/');\n    let parentKey = location.pathname.substring(0, index);\n\n    setOpenKeys([parentKey, openKey]);\n  }, [location.pathname]);\n\n  return (\n    <>\n      <Sider className=\"sidebar\" trigger={null} collapsible collapsed={collapsed} collapsedWidth=\"64\">\n        {/* logo */}\n        <div className=\"sider-logo-container\">\n          {!collapsed && <img className=\"sider-logo\" src={logo} alt=\"logo\" />}\n          {collapsed && <img className=\"sider-logo-collapsed\" src={collapsedLogo} alt=\"logo\" />}\n\n          {collapsed ? (\n            <MenuUnfoldOutlined className=\"menu-fold\" onClick={() => onCollapse(!collapsed, selectedKey)} />\n          ) : (\n            <MenuFoldOutlined className=\"menu-fold\" onClick={() => onCollapse(!collapsed, selectedKey)} />\n          )}\n        </div>\n\n        {/* menu */}\n        <Menu\n          theme=\"dark\"\n          mode=\"inline\"\n          selectedKeys={selectedKey}\n          openKeys={openKeys}\n          onOpenChange={setOpenKeys}\n          className=\"terraqt-menu\">\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/data\"\n            title={\n              <span>\n                <TableOutlined />\n                <span>数据管理</span>\n              </span>\n            }>\n            <SubMenu key=\"/app/data/satellite\" title={<span>卫星数据</span>}>\n              <Menu.Item key=\"/app/data/satellite-download\">\n                <Link to=\"/app/data/satellite-download\">数据下载</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/app/data/satellite-tasks\">\n                <Link to=\"/app/data/satellite-tasks\">任务列表</Link>\n              </Menu.Item>\n            </SubMenu>\n\n            <SubMenu key=\"/app/data/tag\" title={<span>元数据</span>}>\n              <Menu.Item key=\"/app/data/tag-samples\">\n                <Link to=\"/app/data/tag-samples\">样本标签</Link>\n              </Menu.Item>\n              <Menu.Item key=\"/app/data/tag-regions\">\n                <Link to=\"/app/data/tag-regions\">行政区划</Link>\n              </Menu.Item>\n            </SubMenu>\n\n            <Menu.Item key=\"/app/data-wave\">\n              <Link to=\"/app/data-wave\">数据调试</Link>\n            </Menu.Item>\n          </SubMenu>\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/standard\"\n            title={\n              <span>\n                <StarOutlined />\n                <span>标品管理</span>\n              </span>\n            }>\n            <Menu.Item key=\"/app/standard-publish\">\n              <Link to=\"/app/standard-publish\">发布管理</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/standard-categories\">\n              <Link to=\"/app/standard-categories\">产品分类管理</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/standard-cors\">\n              <Link to=\"/app/standard-cors\">COR管理</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/standard-ders\">\n              <Link to=\"/app/standard-ders\">DER管理</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/standard-enas\">\n              <Link to=\"/app/standard-enas\">通用能力管理</Link>\n            </Menu.Item>\n          </SubMenu>\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/sample\"\n            title={\n              <span>\n                <FileOutlined />\n                <span>样本管理</span>\n              </span>\n            }>\n            <Menu.Item key=\"/app/sample-task\">\n              <Link to=\"/app/sample-task\">样本标注</Link>\n            </Menu.Item>\n            {/* <Menu.Item key=\"/app/sample-marks\">\n              <Link to=\"/app/sample-marks\">样本标注</Link>\n            </Menu.Item> */}\n            <Menu.Item key=\"/app/sample-file\">\n              <Link to=\"/app/sample-file\">样本上传</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/sample-dataUpload\">\n              <Link to=\"/app/sample-dataUpload\">外业上传</Link>\n            </Menu.Item>\n            <Menu.Item key=\"/app/sample-management\">\n              <Link to=\"/app/sample-management\">样本查询</Link>\n            </Menu.Item>\n          </SubMenu>\n\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/algorithm\"\n            title={\n              <span>\n                <RobotOutlined />\n                <span>算法平台</span>\n              </span>\n            }>\n            <Menu.Item key=\"/app/algorithm-space\">\n              <Link to=\"/app/algorithm-space\">WorkSpace</Link>\n            </Menu.Item>\n          </SubMenu>\n\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/tools\"\n            title={\n              <span>\n                <ToolOutlined />\n                <span>常用工具</span>\n              </span>\n            }>\n            <Menu.Item key=\"/app/tools-upload\">\n              <Link to=\"/app/tools-upload\">文件上传</Link>\n            </Menu.Item>\n          </SubMenu>\n\n          <SubMenu\n            className=\"terraqt-submenu\"\n            key=\"/app/account\"\n            title={\n              <span>\n                <UserOutlined />\n                <span> 账户设置</span>\n              </span>\n            }>\n            <Menu.Item key=\"/app/account-marks-color\">\n              <Link to=\"/app/account-marks-color\">标签颜色</Link>\n            </Menu.Item>\n          </SubMenu>\n        </Menu>\n      </Sider>\n    </>\n  );\n};\n\nexport default SideMenu;\n","import { useReducer, useCallback, useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport function useSupReducer(reducer, initialState) {\n  const [state, _dispatch] = useReducer(reducer, initialState);\n\n  const dispatch = useCallback((type, value) => {\n    _dispatch({ type, value });\n  }, []);\n\n  return [state, dispatch];\n}\n","import { message } from 'antd';\n\nexport const requestSuccess = msg => {\n  return (target, name, descriptor) => {\n    const originFunc = descriptor.value;\n    descriptor.value = async (...args) =>\n      originFunc(...args).then(res => {\n        msg && message.success(msg);\n        return res;\n      });\n    return descriptor;\n  };\n};\n\nexport const requestWarning = msg => {\n  return (target, name, descriptor) => {\n    const originFunc = descriptor.value;\n    descriptor.value = async (...args) => {\n      return originFunc(...args).then(res => {\n        res.length === 0 && message.warning(msg);\n        return res;\n      });\n    };\n    return descriptor;\n  };\n};\n\nexport const requestError = msg => {\n  return (target, name, descriptor) => {\n    const originFunc = descriptor.value;\n    descriptor.value = async (...args) => {\n      return originFunc(...args).catch(e => {\n        message.error(`${msg} - ${e.message}`);\n        throw e;\n      });\n    };\n    return descriptor;\n  };\n};\n","import { sky, meta } from 'src/utils/api.js';\nimport { requestWarning, requestSuccess, requestError } from './decorators/request';\n\nclass service {\n  // data-download\n  async queryDataList(timeRange, dataType, downloadShape) {\n    let datas = await sky.invoke('QueryService.query', {\n      downloadCondition: {\n        timeRange,\n        downloadShape,\n        dataType\n      }\n    });\n    return datas.map(data => ({\n      ...data,\n      time: data.time ? data.time.slice(0, 10) : '暂无',\n      cloudCover: data.cloudCover ? data.cloudCover.toFixed(2) : '暂无'\n    }));\n  }\n\n  downloadConditionalData(name, priority, items, mode) {\n    return sky.invoke('DownloadService.downloadByIds', {\n      name,\n      priority,\n      items,\n      mode\n    });\n  }\n\n  downloadBatchData(downloadCondition, name, priority, mode) {\n    return sky.invoke('DownloadService.download', {\n      downloadCondition,\n      name,\n      priority,\n      mode\n    });\n  }\n\n  // task-list\n  async queryTasksByMode(mode) {\n    let datas = await sky.invoke('DownloadService.queryTasksByMode', { mode });\n    if (mode === 'GAZING') {\n      return datas.map(data => ({\n        ...data,\n        updatedAt: data.updatedAt ? data.updatedAt.slice(0, 10) : '暂无'\n      }));\n    }\n    return datas;\n  }\n\n  queryDownloadCondition = async truckId => {\n    let condition = await sky.invoke('DownloadService.queryDownloadCondition', {\n      truckId\n    });\n    if (!condition) {\n      return { noInfo: { message: '预选下载无时空信息~' } };\n    }\n    let timeRange = condition.timeRange;\n    let shape = condition.downloadShape;\n    return {\n      timeRange: {\n        beginTime: timeRange.beginTime.slice(0, 10),\n        endTime: timeRange.endTime.slice(0, 10),\n        includeMonths: timeRange.includeMonths.reduce((a, c) => {\n          return `${a}${c}月、`;\n        }, '')\n      },\n      dataType: condition.dataType,\n      shape: {\n        type: shape.type,\n        value: shape.type === 'SHAPE' ? JSON.parse(shape.value) : shape.value,\n        description: shape.description\n      }\n    };\n  };\n\n  async queryBatchInfos(item) {\n    let infos = await sky.invoke('DownloadService.queryBatchInfos', {\n      truckId: item.id\n    });\n    return infos.map(info => ({\n      ...info,\n      startTime: info.startTime ? info.startTime.slice(0, 10) : '暂无',\n      finishedTime: info.finishedTime ? info.finishedTime.slice(0, 10) : '暂无'\n    }));\n  }\n\n  queryBatchDetails(item) {\n    return sky.invoke('DownloadService.queryBatchDetails', {\n      batchNumber: item.batchNumber\n    });\n  }\n\n  changeStatus(item, operation) {\n    return sky.invoke('DownloadService.operate', {\n      truckId: item.id,\n      operation\n    });\n  }\n\n  // waves\n  getAllWaves() {\n    return sky.invoke('DataDebugService.getAllWaves');\n  }\n\n  createWaveTask(condition, name) {\n    return sky.invoke('DataDebugService.createTask', {\n      condition,\n      name\n    });\n  }\n\n  async getWaveTasksList() {\n    let tasks = await sky.invoke('DataDebugService.getAllTasks');\n\n    return tasks.map(task => ({\n      ...task,\n      createdAt: task.createdAt.slice(0, 10)\n    }));\n  }\n\n  async queryWaveInfo(taskId) {\n    let info = await sky.invoke('DataDebugService.getCondition', { taskId });\n    let timeRange = info.timeRange;\n    let shape = info.shape;\n    return {\n      timeRange: {\n        beginTime: timeRange.beginTime.slice(0, 10),\n        endTime: timeRange.endTime.slice(0, 10),\n        includeMonths: timeRange.includeMonths.reduce((a, c) => {\n          return `${a}${c}月、`;\n        }, '')\n      },\n      waves: info.waves.map(w => w + ',  '),\n      shape: {\n        type: shape.type,\n        value: shape.type === 'SHAPE' ? JSON.parse(shape.value) : shape.value,\n        description: shape.description\n      }\n    };\n  }\n\n  queryWaveDataInfo(taskId) {\n    return sky.invoke('DataDebugService.getResult', { taskId });\n  }\n\n  deleteWaveTask(taskId) {\n    return sky.invoke('DataDebugService.deleteTask', { taskId });\n  }\n\n  // query Region Info\n  @requestWarning('未查询到符合条件的标签!')\n  @requestError('服务端错误')\n  searchRegion(searchType, value) {\n    return meta.invoke('RegionService.searchRegion', { searchType, value });\n  }\n\n  // Sample Datas\n  @requestWarning('未查询到符合条件的标签!')\n  @requestError('服务端错误')\n  searchLabel(searchType, value) {\n    return meta.invoke('LabelService.searchLabel', { searchType, value });\n  }\n\n  @requestSuccess('更新成功')\n  @requestError('服务端错误,更新失败')\n  updateLabelName(id, name) {\n    return meta.invoke('LabelService.updateLabelName', { id, name });\n  }\n\n  @requestError('服务端错误,创建失败')\n  createLabel(selectedCode, name, position) {\n    return meta.invoke('LabelService.create', { selectedCode, name, position });\n  }\n\n  getAllLabel() {\n    return meta.invoke('LabelService.getAllLabel');\n  }\n}\n\nexport default new service();\n","import React from 'react';\nimport { Form, DatePicker } from 'antd';\n\nconst Date = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, ..._options } = options;\n  const _label = label || '选择日期';\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <DatePicker\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => onChange(valueKey, val, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default Date;\n","import React, { useCallback } from 'react';\nimport { Form, DatePicker } from 'antd';\nconst { RangePicker } = DatePicker;\n\nconst Dates = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, onChange: onItemChange = () => {}, ..._options } = options;\n  const _label = label || '时间范围';\n\n  const _onChange = useCallback((valueKey, val, value) => {\n    onItemChange(valueKey, val, value)\n    onChange(valueKey, val, value)\n  }, [onChange, onItemChange])\n\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <RangePicker\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => _onChange(valueKey, val, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default Dates;\n","import React from 'react';\nimport { Form, Input } from 'antd';\n\nconst CommonInput = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, hideLabel = false, ..._options } = options;\n  const _label = hideLabel ? null : (label || '输入内容');\n\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <Input\n        placeholder=\"请输入\"\n        {..._options}\n        value={value[valueKey]}\n        onChange={e => onChange(valueKey, e.target.value, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default CommonInput;\n","import React from 'react';\nimport { Form, InputNumber } from 'antd';\n\nconst InputNum = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, ..._options } = options;\n  const _label = label || '输入数字';\n\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <InputNumber\n        {..._options}\n        value={value[valueKey]}\n        onChange={e => onChange(valueKey, e, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default InputNum;\n","import React, { useCallback } from 'react';\nimport { Form, Select } from 'antd';\nconst { Option } = Select;\n\nconst CommonSelect = ({ value, options, onChange }) => {\n  const {\n    required,\n    help,\n    label,\n    valueKey,\n    optionSource,\n    onChange: onItemChange = () => {},\n    ..._options\n  } = options;\n  const _optionSource = optionSource || [];\n  const _label = label || '请选择';\n  const _onChange = useCallback((valueKey, val, value) => {\n    onItemChange(valueKey, val, value)\n    onChange(valueKey, val, value)\n  }, [onChange, onItemChange])\n\n  return (\n      <Form.Item label={_label} required={required} help={help}>\n      <Select\n        placeholder=\"请选择\"\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => _onChange(valueKey, val, value)}\n      >\n        {_optionSource.map(s => (\n          <Option key={s.value} value={s.value} disabled={s.disabled === true}>\n            {s.name}\n          </Option>\n        ))}\n      </Select>\n    </Form.Item>\n  );\n};\n\nexport default CommonSelect;\n","import React, {\n  useState,\n  useEffect,\n  useMemo,\n  useCallback,\n  useRef\n} from 'react';\nimport { Checkbox, DatePicker, Button } from 'antd';\nimport moment from 'moment';\nimport './style.sass';\n\nconst { RangePicker } = DatePicker;\nconst _months = Array.from({ length: 12 }, (r, i) => i + 1);\nconst _monthOptions = _months.map(i => ({\n  value: i,\n  label: `${i}月`,\n  disabled: false\n}));\n\nconst defaultRange = {\n  dates: [],\n  includeMonths: _months\n};\n\nconst TimeRanger = ({ value = null, onChange, className, ...options }) => {\n  const [range, setRange] = useState(defaultRange);\n  const [rangeOpen, setRangeOpen] = useState(false);\n  const [excludeMonths, setExcludeMonths] = useState(_months);\n  const picker = useRef(null);\n  const _className = className\n    ? `time-ranger-including ${className}`\n    : 'time-ranger-including';\n\n  const monthOptions = useMemo(() => {\n    return _monthOptions.map(m => ({\n      ...m,\n      disabled: !!(excludeMonths && excludeMonths.find(im => im === m.value))\n    }));\n  }, [excludeMonths]);\n\n  const onRangePickerChange = useCallback((dates, range) => {\n    let months = [];\n    let monthDiff = dates[1].diff(dates[0], 'month');\n    if (monthDiff < 12) {\n      let a = moment(dates[0]);\n      while (dates[1] > a || a.format('M') === dates[1].format('M')) {\n        months.push(parseInt(a.format('M')));\n        a.add(1, 'month');\n      }\n    } else {\n      months = _months;\n    }\n    setExcludeMonths(_months.filter(m => !months.find(_m => m === _m)));\n    setRange({\n      dates,\n      includeMonths: months\n    });\n  }, []);\n\n  const closeRange = useCallback(() => {\n    setRangeOpen(false);\n  }, []);\n\n  const onOK = useCallback(\n    range => {\n      onChange(range);\n      closeRange();\n    },\n    [closeRange, onChange]\n  );\n\n  useEffect(() => {\n    let val = value || {};\n    setRange({ ...defaultRange, ...val });\n  }, [value]);\n\n  return (\n    <RangePicker\n      ref={picker}\n      className={_className}\n      allowClear={false}\n      format=\"YYYY-MM-DD\"\n      placeholder={['起始日期', '截止日期']}\n      onFocus={() => setRangeOpen(true)}\n      open={rangeOpen}\n      value={range.dates}\n      onChange={onRangePickerChange}\n      {...options}\n      renderExtraFooter={() => (\n        <>\n          <Checkbox.Group\n            className=\"time-ranger-include-months\"\n            value={range.includeMonths}\n            options={monthOptions}\n            onChange={includeMonths => {\n              setRange({\n                ...range,\n                includeMonths\n              });\n            }}\n          />\n          <div className=\"time-ranger-btns\">\n            <Button\n              className=\"time-ranger-OKbtn\"\n              key=\"ok\"\n              type=\"primary\"\n              disabled={\n                (range.dates && range.dates.length) < 2 ||\n                range.includeMonths.length === 0\n              }\n              onClick={() => onOK(range)}\n            >\n              确认\n            </Button>\n            <Button key=\"cancel\" onClick={closeRange}>\n              取消\n            </Button>\n          </div>\n        </>\n      )}\n    />\n  );\n};\n\nexport default TimeRanger;\n","import React from 'react';\nimport { Form } from 'antd';\nimport TimeRanger from 'src/components/TimeRanger';\n\nconst Ranger = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, ..._options } = options;\n  const _label = label || '时间范围';\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <TimeRanger\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => onChange(valueKey, val, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default Ranger;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Button, Modal } from 'antd';\nimport { TMap, useLeaflet } from '@terraqt/garden';\nconst { Toolbar } = TMap;\n\nconst DrawTigger = ({ setPolygon }) => {\n  const { map } = useLeaflet();\n  const [ oLayer, setOLayer ] = useState(null)\n\n  const onDraw = useCallback(\n    e => {\n      let layer = e.layer || e.layers.getLayers()[0];\n      oLayer && map.removeLayer(oLayer);\n      map.addLayer(e.layer);\n      map.tool.edit.trigger(e.layer);\n      map.tool.delete.trigger(e.layer);\n      setOLayer(e.layer);\n      let geojson = layer.toGeoJSON();\n      setPolygon(geojson);\n    },\n    [setPolygon, map, oLayer]\n  );\n\n  const onReset = useCallback(() => {\n    setPolygon(null);\n    map.removeLayer(oLayer);\n    setOLayer(null);\n  }, [map, oLayer, setPolygon]);\n\n  const onSave = useCallback(async e => {\n    if (e.geojson) {\n      setPolygon(e.geojson);\n    }\n  }, [setPolygon])\n\n  useEffect(() => {\n    if (map) {\n      map.tool.off('tool.draw:polygon', onDraw);\n      map.tool.off('tool.edit:save', onSave);\n      map.tool.off('tool.delete:remove', onReset);\n\n      map.tool.on('tool.draw:polygon', onDraw);\n      map.tool.on('tool.edit:save', onSave);\n      map.tool.on('tool.delete:remove', onReset);\n      return () => {\n        map.tool.off('tool.draw:polygon', onDraw);\n        map.tool.off('tool.edit:save', onSave);\n        map.tool.off('tool.delete:remove', onReset);\n      };\n    }\n  }, [map, onDraw, onReset, onSave])\n\n  return null\n}\n\nconst PolygonDrawer = ({ onChange }) => {\n  const [polygon, setPolygon] = useState(null);\n  const [modalShow, setModalShow] = useState(false);\n\n  const onOk = useCallback(() => {\n    onChange(polygon);\n    setModalShow(false);\n  }, [onChange, polygon]);\n  \n  return (\n    <div className=\"polygon-drawer\">\n      <Button\n        type=\"default\"\n        htmlType=\"submit\"\n        onClick={() => setModalShow(true)}\n      >\n        点击圈选\n      </Button>\n      <Modal\n        className=\"sample-modal-content\"\n        title=\"请圈选区域\"\n        visible={modalShow}\n        onOk={onOk}\n        okButtonProps={{ disabled: !polygon }}\n        onCancel={() => setModalShow(false)}\n        maskClosable={false}\n      >\n        <TMap>\n          <DrawTigger setPolygon={setPolygon} />\n          <Toolbar options={{enables: ['lasso', 'edit', 'delete']}} />\n        </TMap>\n      </Modal>\n    </div>\n  );\n};\n\nexport default PolygonDrawer;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Select, Cascader } from 'antd';\nimport toolsService from 'src/services/tools';\nimport './style.sass';\n\nasync function loadTopRegion() {\n  let regions = await toolsService.getTopRegion();\n  return regions.map(item => ({\n    ...item,\n    label: item.title\n  }));\n}\n\nasync function loadRegionChildren(code) {\n  let regions = await toolsService.getRegionChildren(code);\n  return regions.map(item => ({\n    ...item,\n    label: item.title\n  }));\n}\nasync function loadRegion(code) {\n  let region = await toolsService.getRegion(code);\n  return { ...region, label: region.title };\n}\n\nconst AdminRegionCascader = ({ topCode, onSelect, placeholder, className }) => {\n  const [region, setRegion] = useState([]);\n  const [selectedCodes, setSelectedCodes] = useState([]);\n  const [text, setText] = useState(placeholder || '点击此处，选择区域');\n  const _className = className ? `sky-admin-region-input ${className}` : 'sky-admin-region-input';\n\n  const onChangeRegion = (codes, selectedOptions) => {\n    let code = codes[codes.length - 1];\n    setSelectedCodes(codes);\n    onSelect(code);\n    setText(selectedOptions.map(o => o.label).join(' / '));\n  };\n\n  const loadData = useCallback(async (selected, region) => {\n    let target = selected[selected.length - 1];\n    if (!target.isLeaf) {\n      target.loading = true;\n      let regions = await loadRegionChildren(target.value);\n      target.loading = false;\n      regions && (target.children = regions);\n      setRegion([...region]);\n    }\n  }, []);\n\n  useEffect(() => {\n    async function getRegionChildren(code) {\n      let [region, children] = await Promise.all([loadRegion(code), loadRegionChildren(code)]);\n      region.children = children.length ? children : null;\n      setRegion([region]);\n    }\n\n    async function setTopRegion() {\n      let regions = await loadTopRegion();\n      setRegion(regions);\n    }\n\n    if (topCode) {\n      getRegionChildren(topCode);\n      setSelectedCodes([topCode]);\n    } else {\n      setTopRegion();\n    }\n    setText('点击此处，选择区域');\n  }, [topCode]);\n\n  return (\n    <Cascader\n      loadData={selected => loadData(selected, region)}\n      options={region}\n      value={selectedCodes}\n      changeOnSelect\n      onChange={onChangeRegion}>\n      <Select className={_className} maxTagTextLength={10} value={text} open={false} />\n    </Cascader>\n  );\n};\n\nexport default AdminRegionCascader;\n","const toText = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsText(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst fileReadAsText = async e => {\n  const fileList = (e.dataTransfer && e.dataTransfer.files) || e.target.files;\n  if (fileList.length === 0) {\n    return false;\n  }\n\n  const files = await Promise.all(\n    Array.from(fileList).map(async file => {\n      const { name, type, size, lastModified } = file;\n      const text = await toText(file);\n      return {\n        name,\n        size,\n        type,\n        lastModified,\n        text\n      };\n    })\n  );\n  return files;\n};\n\nconst toBase64 = file =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n\nconst fileReadAsDataURL = async fileList => {\n  if (fileList.length === 0) {\n    return false;\n  }\n\n  const files = await Promise.all(\n    Array.from(fileList).map(async file => {\n      const { name, type, size, lastModified } = file;\n      const base64 = await toBase64(file);\n      return {\n        name,\n        size,\n        type,\n        lastModified,\n        base64\n      };\n    })\n  );\n  return files;\n};\n\nexport { fileReadAsText, fileReadAsDataURL };\n","import React, { useState, useCallback } from 'react';\nimport { Form, Select, Button, Input, message, InputNumber } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport PolygonDrawer from 'src/components/PolygonDrawer';\nimport AdminRegionCascader from 'src/components/AdminRegionCascader';\nimport { fileReadAsText } from 'src/utils/file-reader';\n\nconst { Option } = Select;\n\nconst defaultSpaceOptions = [\n  {\n    key: 'Tile编号',\n    value: 'TILE'\n  },\n  {\n    key: '行政区划',\n    value: 'ADMINISTRATIVE_REGION'\n  },\n  {\n    key: '手动划区',\n    value: 'SHAPE'\n  }\n];\n\nconst Space = ({ value, options, onChange }) => {\n  const [lonLat, setLonLat] = useState({ lon: null, lat: null });\n  const { required, help, label, valueKey, spaceOptions } = options;\n  const _label = label || '空间范围';\n  const _spaceOptions = spaceOptions || defaultSpaceOptions;\n\n  const setLon = useCallback(\n    (v, lonLat, value, valueKey) => {\n      setLonLat({ ...lonLat, lon: v });\n      onChange(\n        valueKey,\n        {\n          type: 'POINTER',\n          lon: v,\n          lat: lonLat.lat\n        },\n        value\n      );\n    },\n    [onChange]\n  );\n\n  const setLat = useCallback(\n    (v, lonLat, value, valueKey) => {\n      setLonLat({ ...lonLat, lat: v });\n      onChange(\n        valueKey,\n        {\n          type: 'POINTER',\n          lon: lonLat.lon,\n          lat: v\n        },\n        value\n      );\n    },\n    [onChange]\n  );\n\n  const changeValue = useCallback(\n    (t, v, value, valueKey) => {\n      onChange(\n        valueKey,\n        {\n          type: t,\n          value: t === 'SHAPE' ? JSON.stringify(v.geometry) : v\n        },\n        value\n      );\n    },\n    [onChange]\n  );\n\n  // 预处理选中的文件\n  const onSelectFile = useCallback(\n    async (event, value, valueKey) => {\n      try {\n        let geojson = await fileReadAsText(event);\n        if (JSON.parse(geojson[0].text).features) {\n          onChange(\n            valueKey,\n            {\n              type: 'GEOJSON',\n              value: JSON.stringify(\n                JSON.parse(geojson[0].text).features[0].geometry\n              )\n            },\n            value\n          );\n        } else {\n          message.error('请使用正确的 geojson 格式！');\n        }\n      } catch (e) {\n        message.error('请使用正确的 geojson 格式！');\n      }\n    },\n    [onChange]\n  );\n\n  return (\n    <Form.Item\n      className=\"sky-filters-space-item\"\n      label={_label}\n      required={required}\n      help={help}\n    >\n      <Select\n        className=\"sky-filters-space-select\"\n        placeholder=\"请选择\"\n        value={value[valueKey].type}\n        onChange={type => {\n          onChange(\n            valueKey,\n            {\n              type,\n              value: null\n            },\n            value\n          );\n        }}\n      >\n        {_spaceOptions.map(t => (\n          <Option key={t.key} value={t.value}>\n            {t.key}\n          </Option>\n        ))}\n      </Select>\n\n      {value[valueKey].type === 'TILE' && (\n        <Input\n          placeholder=\"多条请用英文 ; 隔开\"\n          value={value[valueKey].value}\n          onChange={e => changeValue('TILE', e.target.value, value, valueKey)}\n        />\n      )}\n\n      {value[valueKey].type === 'ADMINISTRATIVE_REGION' && (\n        <AdminRegionCascader\n          onSelect={e =>\n            changeValue('ADMINISTRATIVE_REGION', e, value, valueKey)\n          }\n        />\n      )}\n\n      {value[valueKey].type === 'SHAPE' && (\n        <PolygonDrawer\n          onChange={e => {\n            changeValue('SHAPE', e, value, valueKey);\n          }}\n        />\n      )}\n\n      {value[valueKey].type === 'GEOJSON' && (\n        <>\n          <Button>\n            <UploadOutlined />\n            <label className=\"sky-filters-input-file-label\" htmlFor=\"file\">\n              导入文件\n            </label>\n          </Button>\n          <input\n            className=\"sky-filters-input-file\"\n            name=\"file\"\n            id=\"file\"\n            type=\"file\"\n            accept=\".geojson\"\n            onChange={e => onSelectFile(e, value, valueKey)}\n          />\n        </>\n      )}\n      {value[valueKey].type === 'POINTER' && (\n        <>\n          <InputNumber\n            placeholder=\"经度\"\n            value={value[valueKey].lon}\n            onChange={v => setLon(v, lonLat, value, valueKey)}\n          />\n          <InputNumber\n            placeholder=\"纬度\"\n            value={value[valueKey].lat}\n            onChange={v => setLat(v, lonLat, value, valueKey)}\n          />\n        </>\n      )}\n\n      {!value[valueKey].type && <Input disabled />}\n    </Form.Item>\n  );\n};\n\nexport default Space;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { Cascader, Checkbox, Switch } from 'antd';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { get, set } from 'src/utils/ls';\nimport './style.sass';\n\nconst GroundObjectTags = ({\n  value,\n  onChange,\n  commonlyUsedEnable = false,\n  ...rest\n}) => {\n  const { groundObjectTags } = useGlobalContext();\n  const { tags, flatedTags, localTags, addLocalTag } = groundObjectTags;\n  const mergedTags = useMemo(() => [...localTags, ...tags], [tags, localTags]);\n  const target = tags.length ? flatedTags.find(t => t.id === value) : null;\n  const val = target ? target.path : [];\n\n  const _onChange = useCallback(\n    tagIds => {\n      // id = -100 is commonly used parent tag, so just ignore\n      if (tagIds.length === 1 && tagIds[0] === -110) return;\n      let tagId = tagIds.pop();\n      onChange(tagId);\n    },\n    [onChange]\n  );\n\n  const onPopupVisibleChange = useCallback(\n    visible => {\n      // visible true is next render, which will get the correct target\n      if (visible && commonlyUsedEnable && target) {\n        addLocalTag(target.id);\n      }\n    },\n    [commonlyUsedEnable, target, addLocalTag]\n  );\n\n  return (\n    <Cascader\n      options={mergedTags}\n      value={val}\n      onChange={_onChange}\n      onPopupVisibleChange={onPopupVisibleChange}\n      {...rest}\n    />\n  );\n};\n\nconst CommonlyUsedList = ({ value, onChange }) => {\n  const [immediateEnable, setImmediateEnable] = useState(false);\n  const { account } = useGlobalContext();\n  const { tagSettings } = account;\n\n  const tags = useMemo(() => {\n    return tagSettings.map(tag => {\n      let c = tag.settings && tag.settings.borderColor;\n      let color = c ? `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})` : '#fdd835';\n      return {\n        ...tag,\n        id: tag.tagCode,\n        name: tag.tagPath,\n        color\n      };\n    });\n  }, [tagSettings]);\n\n  const onImmediateEnableChange = useCallback(enable => {\n    setImmediateEnable(enable);\n    set('groundtags-submit-immediately', enable);\n  }, []);\n\n  useEffect(() => {\n    let enable = get('groundtags-submit-immediately') === 'true' ? true : false;\n    setImmediateEnable(enable);\n  }, []);\n\n  return (\n    <ul className=\"ground-object-tags-commonly\">\n      {tags.map(tag => (\n        <li key={tag.id}>\n          <Checkbox\n            value={tag.id}\n            checked={tag.id === value}\n            onChange={e => onChange(e.target.value, immediateEnable)}\n          >\n            <span\n              className=\"color-diamond\"\n              style={{ backgroundColor: tag.color }}\n            ></span>\n            <span>{tag.name}</span>\n          </Checkbox>\n        </li>\n      ))}\n      <li className=\"immediately-submit-enable\">\n        <span>开启立即提交</span>\n        <Switch checked={immediateEnable} onChange={onImmediateEnableChange} />\n      </li>\n    </ul>\n  );\n};\n\nGroundObjectTags.CommonlyUsedList = CommonlyUsedList;\n\nexport default GroundObjectTags;\n","import React, { useCallback } from 'react';\nimport { Form } from 'antd';\nimport GroundObjectTags from 'src/components/GroundObjectTags';\n\nconst MarkTag = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, colon, hideLabel, onChange: onItemChange = () => {}, ..._options } = options;\n  const _label = hideLabel ? null : (label || '地物标签');\n\n  const _onChange = useCallback((valueKey, val, value) => {\n    onItemChange(valueKey, val, value)\n    onChange(valueKey, val, value)\n  }, [onChange, onItemChange])\n\n  return (\n    <Form.Item label={_label} required={required} help={help} colon={colon}>\n      <GroundObjectTags\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => _onChange(valueKey, val, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default MarkTag;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Form, Select } from 'antd';\nimport toolsService from 'src/services/tools';\n\nconst { Option } = Select;\n\nconst Satellite = ({ value, options, onChange }) => {\n  const [satellites, setSatellites] = useState([]);\n  const [satellite, setSatellite] = useState(null);\n  const { required, help, label, valueKey } = options;\n  const _label = label || '卫星编号';\n\n  const onSatelliteChange = useCallback(\n    (name, value) => {\n      let satellite = satellites.find(s => s.name === name);\n      setSatellite(satellite);\n      onChange(valueKey, null, value);\n    },\n    [onChange, satellites, valueKey]\n  );\n\n  useEffect(() => {\n    (async function () {\n      let satellites = await toolsService.queryAvailableSatellite();\n      setSatellites(satellites);\n    })();\n  }, []);\n\n  return (\n    <Form.Item\n      className=\"sky-filters-satellite-item\"\n      label={_label}\n      required={required}\n      help={help}>\n      <Select\n        placeholder=\"请选择编号\"\n        value={satellite && satellite.name}\n        onChange={name => {\n          onSatelliteChange(name, value);\n        }}\n        allowClear>\n        {satellites.map(satellite => (\n          <Option key={satellite.name} value={satellite.name}>\n            {satellite.name}\n          </Option>\n        ))}\n      </Select>\n      <Select\n        placeholder=\"等级\"\n        value={value[valueKey]}\n        onChange={dataType => {\n          onChange('satellite', dataType, value);\n        }}>\n        {satellite &&\n          satellite.dataTypes &&\n          satellite.dataTypes.map(dataType => (\n            <Option key={dataType.dataType}>{dataType.name}</Option>\n          ))}\n      </Select>\n    </Form.Item>\n  );\n};\n\nexport default Satellite;\n","import { sky } from 'src/utils/api.js';\nimport { requestError, requestSuccess } from './decorators/request';\n\nclass service {\n  // sample-files\n  uploadFile(data) {\n    return sky.invoke('SampleService.uploadSampleFile', { data });\n  }\n\n  async queryFileList() {\n    let files = await sky.invoke('SampleService.getAllSampleFiles');\n    return files.map(file => ({\n      ...file,\n      imageTime: file.imageTime.slice(0, 10),\n      uploadTime: file.uploadTime ? file.uploadTime.slice(0, 10) : '暂无'\n    }));\n  }\n\n  deleteFile(ids) {\n    return sky.invoke('SampleService.deleteSampleFiles', {\n      sampleFileIds: ids\n    });\n  }\n\n  updateFile(file) {\n    return sky.invoke('SampleService.updateSampleFile', {\n      sampleFile: file\n    });\n  }\n\n  // preview sample-file\n  async previewSampleTags(id) {\n    let samples = await sky.invoke('SampleService.querySamplesByFile', {\n      sampleFileId: id\n    });\n    return samples.map(s => ({\n      ...s,\n      shape: JSON.parse(s.shape)\n    }));\n  }\n\n  // operate-history\n  @requestError('获取变更记录失败')\n  queryChangeLogs(id, resourceType) {\n    return sky.invoke('SampleService.queryChangeLog', {\n      id,\n      resourceType\n    });\n  }\n\n  // sample-tasks\n  @requestError('获取彩色数据失败')\n  queryWaveAggregations(dataType) {\n    return sky.invoke('SampleTaskService.queryWaveAggregations', {\n      dataType\n    });\n  }\n\n  createMarkTask(name, condition) {\n    return sky.invoke('SampleTaskService.createTask', {\n      name,\n      condition\n    });\n  }\n\n  async queryMarkTasks() {\n    let tasks = await sky.invoke('SampleTaskService.queryTasks');\n    return tasks.map(task => ({\n      ...task,\n      createdAt: task.createdAt.slice(0, 10),\n      lastSampleCommittedAt: task.lastSampleCommittedAt\n        ? task.lastSampleCommittedAt.slice(0, 10)\n        : '暂无'\n    }));\n  }\n\n  deleteMarkTask(taskId) {\n    return sky.invoke('SampleTaskService.deleteTask', { taskId });\n  }\n  \n  @requestError('保存失败')\n  updateMarkTask(taskId, taskName, timeRange, dataType, waveAggregations) {\n    return sky.invoke('SampleTaskService.updateTask', {\n      taskId,\n      taskName,\n      timeRange,\n      dataType,\n      waveAggregations\n    });\n  }\n\n  @requestSuccess('创建成功')\n  @requestError('创建失败')\n  async createSample(sample) {\n    return sky.invoke('SampleService.createSample', { sample }).then(_sample => ({\n      ..._sample,\n      shape: JSON.parse(_sample.shape)\n    }))\n  }\n\n  queryTaskMarkFilter(taskId) {\n    return sky.invoke('SampleTaskService.queryTaskMarkFilter', { taskId });\n  }\n\n  async queryTaskShape(taskId) {\n    let shape = await sky.invoke('SampleTaskService.queryTaskShape', {\n      taskId\n    });\n    let geometry = JSON.parse(shape.geometry);\n    return {\n      ...shape,\n      geometry\n    };\n  }\n\n  querySampleImages(taskId, tile, waveAggregationId) {\n    return sky.invoke('SampleTaskService.querySampleImages', {\n      taskId,\n      tile,\n      waveAggregationId\n    });\n  }\n\n  async queryTileShape(tile) {\n    let shape = await sky.invoke('SampleTaskService.queryTileShape', { tile });\n    return JSON.parse(shape);\n  }\n\n  async queryMarked(taskId, tile) {\n    let samples = await sky.invoke('SampleService.queryMarked', {\n      taskId,\n      tile\n    });\n    return samples.map(s => ({ ...s, shape: JSON.parse(s.shape) }));\n  }\n\n  async queryForAudit(taskId, tile) {\n    let samples = await sky.invoke('SampleService.queryForAudit', {\n      taskId,\n      tile\n    });\n    return samples.map(s => ({ ...s, shape: JSON.parse(s.shape) }));\n  }\n\n  @requestSuccess('审核成功')\n  @requestError('审核失败')\n  auditSamples(sampleIds, auditStatus = 'PASS') {\n    return sky.invoke('SampleService.auditSamples', { sampleIds, auditStatus });\n  }\n\n  // sample-search\n  async querySamples({ shape, beginTime, endTime, tagIds }) {\n    let samples = await sky.invoke('SampleService.querySamples', {\n      condition: {\n        shape,\n        beginTime,\n        endTime,\n        tagIds\n      }\n    });\n    return samples.map(s => ({\n      ...s,\n      shape: JSON.parse(s.shape)\n    }));\n  }\n\n  @requestSuccess('更新成功')\n  @requestError('更新失败')\n  updateSample(id, shape, imageTime, tagId) {\n    return sky.invoke('SampleService.updateSample', {\n      sampleDto: {\n        id,\n        shape,\n        imageTime,\n        tag: {\n          id: tagId\n        }\n      }\n    }).then((sample) => ({\n      ...sample,\n      shape: JSON.parse(sample.shape)\n    }))\n  }\n\n  @requestSuccess('删除成功')\n  @requestError('删除失败')\n  deleteSample(ids) {\n    return sky.invoke('SampleService.deleteSamples', { sampleIds: ids });\n  }\n\n  async queryImageList() {\n    let images = await sky.invoke('AssistantImageService.queryImageList', {\n      offset: 0,\n      limit: 1000\n    });\n\n    return images.map(image => ({\n      ...image,\n      createTime: image.createTime.slice(0, 10),\n      takeTime: image.takeTime ? image.takeTime.slice(0, 10) : '-',\n      failedReason: image.failedReason ? image.failedReason : '-'\n    }));\n  }\n\n  uploadImage(img, source) {\n    return sky.invoke('AssistantImageService.uploadImage', {\n      img,\n      source\n    });\n  }\n\n  updateImageComment(imageId, comment) {\n    return sky.invoke('AssistantImageService.updateImageComment', {\n      imageId,\n      comment\n    });\n  }\n\n  deleteImage(imageId) {\n    return sky.invoke('AssistantImageService.deleteImage', { imageId });\n  }\n\n  @requestError('获取列表失败')\n  getTaskList = (archiveType) => {\n    return sky.invoke('SampleTaskService.getByArchiveType', { archiveType })\n  }\n\n  @requestSuccess('保存成功')\n  updateTask(taskId, taskName, timeRange, dataType, waveAggregations) {\n    return sky.invoke('SampleTaskService.updateTask', {\n      taskId,\n      taskName,\n      timeRange,\n      dataType,\n      waveAggregations\n    });\n  }\n\n  @requestSuccess('新建成功')\n  @requestError('新建失败')\n  createTask(sampleTask) {\n    return sky.invoke('SampleTaskService.createSampleTask', { sampleTask })\n  }\n\n  @requestSuccess('归档成功')\n  @requestError('归档失败')\n  archiveTask(taskId) {\n    return sky.invoke('SampleTaskService.archiveTask', { taskId })\n  }\n\n  @requestSuccess('删除成功')\n  @requestError('删除失败')\n  deleteTask(taskId) {\n    return sky.invoke('SampleTaskService.deleteTask', { taskId });\n  }\n\n  @requestError('权限错误')\n  checkCreateTask() {\n    return Promise.resolve(null)\n  }\n\n  @requestError('获取 tile 列表失败')\n  getTileList(shape) {\n    return sky.invoke('SampleTaskService.queryTiles', { shape })\n  }\n\n  @requestError('获取任务详情失败')\n  getTask(taskId) {\n    return sky.invoke('SampleTaskService.queryTaskByTaskId', { taskId })\n  }\n\n  @requestError('获取详情失败')\n  queryTaskInfoById(taskId) {\n    return sky.invoke('SampleTaskService.queryTaskInfoById', { taskId }).then((res) => ({\n      ...res,\n      shape: {\n        type: res.shape.type,\n        value: res.shape.type === 'SHAPE' ? JSON.parse(res.shape.value) : res.shape.value,\n        description: res.shape.description\n      }\n    }))\n  }\n\n  @requestError('获取外业数据失败')\n  queryFieldOperationData(params) {\n    return sky.invoke('AssistantImageService.queryFieldOperationData', params)\n  }\n\n}\n\nexport default new service();\n","import React, { useState, useEffect } from 'react';\nimport { Form, Select } from 'antd';\nimport samplesService from 'src/services/samples';\nconst { Option } = Select;\n\nconst WaveAggregation = ({ value, options, onChange }) => {\n  const {\n    required,\n    help,\n    label,\n    valueKey,\n    satelliteType,\n    ..._options\n  } = options;\n  const _label = label || '请选择';\n\n  const [sourceOptions, setSourceOptions] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      if (!satelliteType) return;\n      const waveAggregations = await samplesService.queryWaveAggregations(\n        satelliteType\n      );\n      setSourceOptions(\n        waveAggregations.map(w => ({\n          name: w.description,\n          value: w.id,\n          key: w.id\n        }))\n      );\n    })();\n  }, [satelliteType]);\n\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <Select\n        placeholder=\"请选择\"\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => onChange(valueKey, val, value)}\n      >\n        {sourceOptions.map(s => (\n          <Option key={s.value} value={s.value} disabled={s.disabled === true}>\n            {s.name}\n          </Option>\n        ))}\n      </Select>\n    </Form.Item>\n  );\n};\n\nexport default WaveAggregation;\n","import React, { useCallback } from 'react';\nimport { Form, Switch } from 'antd';\n\nconst Title = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, colon, className = '', onChange: onItemChange = () => {} } = options;\n\n  const _label = label || '标题';\n\n  const _onChange = useCallback((valueKey, val, value) => {\n    onItemChange(valueKey, val, value)\n    onChange(valueKey, val, value)\n  }, [onChange, onItemChange])\n\n  return (\n    <Form.Item\n      className={`toolbar-item-title ${className}`}\n      label={_label}\n      required={required}\n      help={help}\n      colon={colon}>\n      {valueKey && (\n        <Switch\n          size=\"small\"\n          checked={value[valueKey]}\n          onChange={val => _onChange(valueKey, val, value)}\n        />\n      )}\n    </Form.Item>\n  );\n};\n\nexport default Title;\n","import React, { useCallback } from 'react';\nimport { Form, Checkbox, Empty } from 'antd';\nimport { CloseOutlined } from '@ant-design/icons';\n\nconst CheckList = ({ options, children, value, onChange }) => {\n  const {\n    className,\n    required,\n    help,\n    label,\n    valueKey,\n    optionSource = []\n  } = options;\n\n  const _label = label || '标题';\n\n  const _onChange = useCallback(\n    (key, checked, valueKey, value) => {\n      let preValue = value[valueKey];\n      let val = checked ? [...preValue, key] : preValue.filter(v => v !== key);\n      onChange(valueKey, val, value);\n    },\n    [onChange]\n  );\n\n  return (\n    <Form.Item\n      className={className}\n      label={_label}\n      required={required}\n      help={help}\n      style={{\n        position: 'relative'\n      }}\n    >\n      {value && !!value[valueKey].length && (\n        <span\n          className=\"sky-filters-clear\"\n          onClick={() => {\n            onChange(valueKey, [], value);\n          }}\n        >\n          <CloseOutlined />\n        </span>\n      )}\n      {!optionSource.length && <Empty />}\n      {!!optionSource.length && (\n        <ul className=\"sky-filters-checklist\">\n          {optionSource.map(s => (\n            <li key={s.value} title=\"清除\">\n              <Checkbox\n                diabled={s.disabled}\n                onChange={e =>\n                  _onChange(s.value, e.target.checked, valueKey, value)\n                }\n                checked={value && value[valueKey].includes(s.value)}\n              >\n                {s.name}\n              </Checkbox>\n            </li>\n          ))}\n        </ul>\n      )}\n    </Form.Item>\n  );\n};\n\nexport default CheckList;\n","import React, { useCallback } from 'react';\nimport { Form, Radio, Empty } from 'antd';\nimport { CloseOutlined } from '@ant-design/icons';\n\nconst RadioList = ({ options, children, value, onChange }) => {\n  const {\n    className,\n    valueKey,\n    required,\n    help,\n    label,\n    optionSource = [],\n    onChange: onItemChange = () => {},\n  } = options;\n  const _label = label || '标题';\n\n  const _onChange = useCallback((valueKey, val, value) => {\n    onItemChange(valueKey, val, value)\n    onChange(valueKey, val, value)\n  }, [onChange, onItemChange])\n\n  return (\n    <Form.Item\n      className={className}\n      label={_label}\n      required={required}\n      help={help}\n      style={{ position: 'relative' }}\n    >\n      {value && !!value[valueKey] && (\n        <span\n          className=\"sky-filters-clear\"\n          onClick={() => {\n            _onChange(valueKey, null, value);\n          }}\n        >\n          <CloseOutlined />\n        </span>\n      )}\n      {!optionSource.length && <Empty />}\n      {!!optionSource.length && (\n        <ul className=\"sky-filters-radiolist\">\n          <Radio.Group\n            value={value[valueKey]}\n            onChange={e => _onChange(valueKey, e.target.value, value)}\n          >\n            {optionSource.map(s => (\n              <li key={s.value}>\n                <Radio disabled={s.disabled} value={s.value}>\n                  {s.name}\n                </Radio>\n              </li>\n            ))}\n          </Radio.Group>\n        </ul>\n      )}\n    </Form.Item>\n  );\n};\n\nexport default RadioList;\n","import React from 'react';\nimport { Form } from 'antd';\nimport AdminRegionCascader from 'src/components/AdminRegionCascader';\n\nconst AdminRegion = ({ topCode, value, onChange, placeholder, options }) => {\n  const { required, help, label, valueKey, ..._options } = options;\n  const _label = label || '行政区域';\n\n  return (\n    <Form.Item label={_label} required={required} help={help}>\n      <AdminRegionCascader\n        topCode={topCode}\n        onSelect={val => onChange(valueKey, val, value)}\n        placeholder={placeholder}\n        {..._options}\n      />\n    </Form.Item>\n  );\n};\n\nexport default AdminRegion;\n","import React from 'react';\n\nconst Custom = ({ Component, value, onChange, options }) => {\n  return <Component {...options} />;\n};\n\nexport default Custom;\n","import React from 'react';\nimport { Form, TreeSelect } from 'antd';\n\nconst TreeSelects = ({ value, options, onChange }) => {\n  const { required, help, label, valueKey, treeData = [], ..._options } = options;\n  const _label = label || '选择波段';\n  const _treeData = treeData;\n\n  return (\n    <Form.Item label={_label} required={required}>\n      <TreeSelect\n        placeholder=\"请选择\"\n        treeData={_treeData}\n        {..._options}\n        value={value[valueKey]}\n        onChange={val => onChange(valueKey, val, value)}\n      />\n    </Form.Item>\n  );\n};\n\nexport default TreeSelects;\n","import React from 'react';\nimport Date from './Date';\nimport Dates from './Dates';\nimport Input from './Input';\nimport InputNum from './InputNum';\nimport Select from './Select';\nimport TimeRanger from './TimeRanger';\nimport Space from './Space';\nimport MarkTag from './MarkTag';\nimport Satellite from './Satellite';\nimport WaveAggregation from './WaveAggregation';\nimport Title from './Title';\nimport CheckList from './CheckList';\nimport RadioList from './RadioList';\nimport AdminRegion from './AdminRegion';\nimport Custom from './Custom';\nimport TreeSelect from './TreeSelect';\n\nconst filterTypes = [\n  'DATES',\n  'DATE',\n  'INPUT',\n  'TIME_RANGER',\n  'SPACE',\n  'SATELLITE',\n  'MARK_TAG',\n  'WAVE_AGGREGATION',\n  'TITLE',\n  'CHECK_LIST',\n  'RADIO_LIST',\n  'ADMIN_REGION',\n  'CUSTOM',\n  'TREE_SELECT',\n  'INPUT_NUM'\n];\n\nconst _months = Array.from({ length: 12 }, (r, i) => i + 1);\n\nconst Filters = {\n  DATE: {\n    Component: Date,\n    defaultValue: null\n  },\n  DATES: {\n    Component: Dates,\n    defaultValue: []\n  },\n  INPUT: {\n    Component: Input,\n    defaultValue: null\n  },\n  SELECT: {\n    Component: Select,\n    defaultValue: undefined\n  },\n  TIME_RANGER: {\n    Component: TimeRanger,\n    defaultValue: {\n      dates: [],\n      includeMonths: _months\n    }\n  },\n  SPACE: {\n    Component: Space,\n    defaultValue: {\n      type: null,\n      value: null\n    }\n  },\n  SATELLITE: {\n    Component: Satellite,\n    defaultValue: null\n  },\n  MARK_TAG: {\n    Component: MarkTag,\n    defaultValue: null\n  },\n  WAVE_AGGREGATION: {\n    Component: WaveAggregation,\n    defaultValue: []\n  },\n  TITLE: {\n    Component: Title,\n    defaultValue: false\n  },\n  CHECK_LIST: {\n    Component: CheckList,\n    defaultValue: []\n  },\n  RADIO_LIST: {\n    Component: RadioList,\n    defaultValue: null\n  },\n  ADMIN_REGION: {\n    Component: AdminRegion,\n    defaultValue: null\n  },\n  CUSTOM: {\n    defaultValue: null,\n    Component: Custom\n  },\n  TREE_SELECT: {\n    Component: TreeSelect,\n    defaultValue: undefined\n  },\n  INPUT_NUM: {\n    Component: InputNum,\n    defaultValue: null\n  }\n};\n\nfilterTypes.forEach(type => {\n  Filters[type].options = {\n    required: false,\n    help: null,\n    label: null,\n    valueKey: null\n  };\n});\n\nconst FilterMounter = ({ filterOptions, value, onChange }) => {\n  const { filterType, Component, ..._options } = filterOptions;\n  const Filter = Filters[filterType];\n  const options = { ...Filter.options, ..._options };\n\n  return (\n    <Filter.Component\n      Component={Component}\n      options={options}\n      value={value}\n      onChange={onChange}\n    ></Filter.Component>\n  );\n};\n\nexport { Filters, FilterMounter };\n","import React, { useMemo, useCallback } from 'react';\nimport { Form } from 'antd';\nimport './style.sass';\nimport { Filters, FilterMounter } from './Filters';\nimport Toolbar from './Toolbar';\n\nconst SkyFilter = ({\n  value,\n  onChange = () => {},\n  enabledFilters = [],\n  layout,\n  className\n}) => {\n  const _className = className ? `sky-filters ${className}` : 'sky-filters';\n\n  const defaultValue = useMemo(() => {\n    return enabledFilters.reduce(\n      (a, c) => ({ ...a, [c.valueKey]: Filters[c.filterType].defaultValue }),\n      {}\n    );\n  }, [enabledFilters]);\n\n  const _value = useMemo(\n    () => ({\n      ...defaultValue,\n      ...value\n    }),\n    [defaultValue, value]\n  );\n\n  const _onChange = useCallback(\n    (key, value, preValue) => {\n      let _value = {\n        ...preValue,\n        ...{\n          [key]: value\n        }\n      };\n      onChange(_value, key);\n    },\n    [onChange]\n  );\n\n  return (\n    <Form className={_className} layout={layout}>\n      {enabledFilters.map(options => (\n        <FilterMounter\n          key={options.valueKey}\n          filterOptions={options}\n          value={_value}\n          onChange={_onChange}\n        />\n      ))}\n    </Form>\n  );\n};\n\nSkyFilter.Toolbar = Toolbar;\nSkyFilter.Filters = Filters;\nSkyFilter.FilterMounter = FilterMounter;\n\nexport default SkyFilter;\n","import React, { useMemo, useCallback } from 'react';\nimport { Form } from 'antd';\nimport { Filters, FilterMounter } from './Filters';\n\nconst Toolbar = ({\n  value,\n  onChange = () => {},\n  sections = [],\n  layout,\n  className\n}) => {\n  const _className = className\n    ? `sky-filters-toolbar ${className}`\n    : 'sky-filters-toolbar';\n\n  const defaultValue = useMemo(() => {\n    const enabledFilters = sections.reduce(\n      (a, c) => [...a, ...c.enabledFilters],\n      []\n    );\n    const enabledFiltersValue = enabledFilters.reduce(\n      (a, c) => ({ ...a, [c.valueKey]: Filters[c.filterType].defaultValue }),\n      {}\n    );\n\n    const sectionsValue = sections\n      .filter(s => s.valueKey)\n      .reduce(\n        (a, c) => ({\n          [c.valueKey]: false\n        }),\n        []\n      );\n\n    return {\n      ...sectionsValue,\n      ...enabledFiltersValue\n    };\n  }, [sections]);\n\n  const _value = useMemo(\n    () => ({\n      ...defaultValue,\n      ...value\n    }),\n    [defaultValue, value]\n  );\n\n  const _onChange = useCallback(\n    (key, value, preValue) => {\n      let _value = {\n        ...preValue,\n        [key]: value\n      };\n      onChange(key, _value);\n    },\n    [onChange]\n  );\n\n  return (\n    <Form className={_className} layout={layout}>\n      {sections.map((section, index) => (\n        <div className=\"sky-filters-toolbar-item\" key={index}>\n          <FilterMounter\n            filterOptions={section}\n            value={_value}\n            onChange={_onChange}\n          />\n          {section.enabledFilters.map(filterOptions => (\n            <FilterMounter\n              key={filterOptions.valueKey}\n              filterOptions={filterOptions}\n              value={_value}\n              onChange={_onChange}\n            />\n          ))}\n        </div>\n      ))}\n    </Form>\n  );\n};\n\nexport default Toolbar;\n","import React, { useState, useMemo, useCallback } from 'react';\nimport { Form, Button, message, Card, Radio } from 'antd';\nimport dataService from 'src/services/datas';\nimport moment from 'moment';\nimport SkyFilter from 'src/components/SkyFilter';\n\nconst initialValues = {\n  mode: 'NORMAL',\n  taskName: null,\n  priority: null\n};\n\nconst Datadownload = () => {\n  const [filters, setFilters] = useState();\n  const [info, setInfo] = useState(initialValues);\n  const [loading, setLoading] = useState(false);\n\n  const disableButton = useMemo(() => {\n    return (\n      !filters ||\n      !filters.timeRanger.dates ||\n      !filters.timeRanger.dates.length ||\n      !filters.timeRanger.includeMonths ||\n      !filters.satellite\n    );\n  }, [filters]);\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        filterType: 'INPUT',\n        valueKey: 'name',\n        label: '任务名称',\n        required: true\n      },\n      {\n        filterType: 'TIME_RANGER',\n        valueKey: 'timeRanger',\n        required: true,\n        disabledDate: current => {\n          return info.mode === 'NORMAL' ? current > moment().endOf('day') : null;\n        }\n      },\n      {\n        filterType: 'SPACE',\n        valueKey: 'shape',\n        required: true\n      },\n      {\n        filterType: 'SATELLITE',\n        valueKey: 'satellite',\n        required: true\n      }\n    ],\n    [info.mode]\n  );\n\n  const downloadBatchData = useCallback(async function (info, filters) {\n    if (info.mode === 'GAZING') {\n      info.priority = 'LOW';\n    } else if (info.mode === 'NORMAL') {\n      info.priority = 'NORMAL';\n    }\n\n    try {\n      setLoading(true);\n      let timeRanger = filters.timeRanger;\n      let dataType = filters.satellite;\n      let space = { ...filters.shape };\n      if (space.type === 'TILE') {\n        space.value = JSON.stringify(space.value.split(';').filter(str => str.length));\n      }\n      await dataService.downloadBatchData(\n        {\n          timeRange: {\n            beginTime: timeRanger.dates[0].format('YYYY-MM-DDT00:00:00'),\n            endTime: timeRanger.dates[1].format('YYYY-MM-DDT23:59:59'),\n            includeMonths: timeRanger.includeMonths\n          },\n          downloadShape: space,\n          dataType\n        },\n        filters.name,\n        info.priority,\n        info.mode\n      );\n      message.success('任务创建成功!');\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  return (\n    <Card title=\"创建任务\" size=\"small\" className=\"create-task-card\">\n      <Form.Item label=\"下载模式\" required={true}>\n        <Radio.Group\n          value={info.mode}\n          onChange={e => {\n            setInfo({ ...info, mode: e.target.value });\n          }}>\n          <Radio value={'NORMAL'}>常规模式</Radio>\n          <Radio value={'GAZING'}>凝视模式</Radio>\n        </Radio.Group>\n      </Form.Item>\n      <SkyFilter onChange={setFilters} value={filters} enabledFilters={enabledFilters} />\n      <Form.Item>\n        <Button\n          className=\"data-filters-submit-btn\"\n          disabled={disableButton}\n          type=\"primary\"\n          onClick={() => downloadBatchData(info, filters)}\n          loading={loading}>\n          创建\n        </Button>\n      </Form.Item>\n    </Card>\n  );\n};\n\nexport default Datadownload;\n","import React, { useState, useMemo, memo } from 'react';\nimport { Button } from 'antd';\nimport { CloudFilled } from '@ant-design/icons';\nimport './style.sass';\n\nconst ImageListModal = ({ dataList, addPreSelect, preDownloads }) => {\n  const [modalShow, setModalShow] = useState(false);\n\n  const ImageItem = memo(function ({ item }) {\n    /* eslint-disable */\n    let detail = useMemo(() => (item.detail ? JSON.parse(item.detail) : null), [\n      item\n    ]);\n\n    return item ? (\n      <li>\n        {detail.preview ? <img src={detail.preview} alt=\"\" /> : <h3>无影像</h3>}\n        <div>卫星编号: {item.dataType}</div>\n        <div>影像时间: {item.time}</div>\n        <div>\n          <CloudFilled />: {detail && detail.cloud_cover}\n        </div>\n        <Button\n          type=\"default\"\n          disabled={item.ready === true}\n          onClick={() => {\n            addPreSelect(item, dataList, preDownloads);\n          }}\n        >\n          加入预选\n        </Button>\n      </li>\n    ) : (\n      <div></div>\n    );\n  });\n\n  return (\n    <>\n      <Button\n        type=\"link\"\n        disabled={dataList.length === 0}\n        onClick={() => setModalShow(true)}\n      >\n        图片模式\n      </Button>\n      {modalShow && (\n        <div className=\"image-modal\">\n          <div className=\"image-modal-head\">\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                setModalShow(false);\n              }}\n            >\n              退出\n            </Button>\n          </div>\n          <ul className=\"image-lists\">\n            {dataList.map(d => (\n              <ImageItem key={d.id} item={d} />\n            ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\nexport default ImageListModal;\n","import React, { useState, useMemo, useCallback } from 'react';\nimport { Form, Button, Card, message } from 'antd';\nimport SkyFilter from 'src/components/SkyFilter';\nimport dataService from 'src/services/datas';\nimport moment from 'moment';\n\nconst enabledFilters = [\n  {\n    filterType: 'TIME_RANGER',\n    valueKey: 'timeRanger',\n    required: true,\n    disabledDate: current => {\n      return current > moment().endOf('day');\n    }\n  },\n  {\n    filterType: 'SPACE',\n    valueKey: 'shape',\n    required: true\n  },\n  {\n    filterType: 'SATELLITE',\n    valueKey: 'satellite',\n    required: true\n  }\n];\n\nconst DataFilter = ({ isLoading, setIsLoading, setDataList }) => {\n  const [filters, setFilters] = useState(null);\n  const disableButton = useMemo(() => {\n    return (\n      !filters || !filters.timeRanger.dates.length || !filters.timeRanger.includeMonths.length || !filters.satellite\n    );\n  }, [filters]);\n\n  // 获取筛选数据\n  const queryDataList = useCallback(\n    async filters => {\n      try {\n        if (filters) {\n          setIsLoading(true);\n          let timeRanger = filters.timeRanger;\n          let space = { ...filters.shape };\n\n          if (space.type === 'TILE') {\n            space.value = JSON.stringify(space.value.split(';').filter(str => str.length));\n          }\n          let dataList = await dataService.queryDataList(\n            {\n              beginTime: timeRanger.dates[0].format('YYYY-MM-DDT00:00:00'),\n              endTime: timeRanger.dates[1].format('YYYY-MM-DDT23:59:59'),\n              includeMonths: timeRanger.includeMonths\n            },\n            filters.satellite,\n            space\n          );\n          setDataList(dataList);\n        }\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [setDataList, setIsLoading]\n  );\n\n  return (\n    <div className=\"data-filter\">\n      <Card title=\"筛选条件\" size=\"small\">\n        <SkyFilter layout=\"inline\" value={filters} enabledFilters={enabledFilters} onChange={setFilters} />\n        <Form.Item>\n          <Button\n            className=\"data-filters-submit-btn\"\n            type=\"primary\"\n            disabled={disableButton}\n            onClick={() => {\n              queryDataList(filters);\n            }}\n            loading={isLoading}>\n            查询\n          </Button>\n        </Form.Item>\n      </Card>\n    </div>\n  );\n};\n\nexport default DataFilter;\n","import React, { useState, useCallback } from 'react';\nimport { Button, Badge, Table, Affix, Modal, Input, message, Tooltip, Card } from 'antd';\nimport dataService from 'src/services/datas';\nimport { copyTextToClipboard } from 'src/utils/mixs';\nimport './style.sass';\nimport ImageListModal from './ImageListModal';\nimport Filter from './Filter';\nimport moment from 'moment';\nimport ReactJson from 'react-json-view';\n\nconst { Column } = Table;\n\nconst QueryResult = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [listModalShow, setListModalShow] = useState(false);\n  const [detailModalShow, setDetailModalShow] = useState(false);\n  const [dataList, setDataList] = useState([]);\n  const [preDownloads, setPreDownloads] = useState([]);\n  const [taskName, setTaskName] = useState(null);\n  const [itemData, setItemData] = useState({});\n\n  const addPreSelect = useCallback((listItem, dataList, preDownloads) => {\n    setPreDownloads([...preDownloads, { ...listItem, ready: true }]);\n    let operatedDataList = dataList.map(d => {\n      return d.id === listItem.id ? { ...d, ready: true } : d;\n    });\n    setDataList(operatedDataList);\n  }, []);\n\n  const removePreSelect = useCallback((listItem, dataList, preDownloads) => {\n    let operatedDataList = dataList.map(d => {\n      return d.id === listItem.id ? { ...d, ready: false } : d;\n    });\n    setDataList(operatedDataList);\n    setPreDownloads(preDownloads.filter(d => d.id !== listItem.id));\n  }, []);\n\n  const downloadTci = useCallback(tciUrl => {\n    if (tciUrl) {\n      return <a href={tciUrl}>点击下载</a>;\n    }\n    return '暂无';\n  }, []);\n\n  // 提交预选列表\n  const submitPreList = async function () {\n    try {\n      await dataService.downloadConditionalData(\n        taskName,\n        'NORMAL',\n        preDownloads.map(item => {\n          return { id: item.id, dataType: item.dataType };\n        }),\n        'NORMAL'\n      );\n      message.success('任务创建成功!');\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setListModalShow(false);\n      setPreDownloads([]);\n      setTaskName('');\n    }\n  };\n\n  return (\n    <div className=\"data-result\">\n      <Filter setDataList={setDataList} isLoading={isLoading} setIsLoading={setIsLoading} />\n      <Card\n        className=\"data-result-card\"\n        size=\"small\"\n        title=\"查询结果\"\n        bordered={false}\n        extra={<ImageListModal dataList={dataList} preDownloads={preDownloads} addPreSelect={addPreSelect} />}>\n        <Table\n          size=\"small\"\n          className=\"data-result-table\"\n          dataSource={dataList}\n          rowKey={data => data.id}\n          loading={isLoading}\n          pagination={{\n            showTotal: () => `共${dataList.length}条`,\n            showSizeChanger: true\n          }}>\n          <Column title=\"数据ID\" dataIndex=\"id\" key=\"id\" width={320} />\n          <Column title=\"卫星编号\" dataIndex=\"dataType\" key=\"dataType\" />\n          <Column\n            title=\"数据源地址\"\n            key=\"remoteUrl\"\n            render={item => (\n              <Tooltip title={item.remoteUrl} placement=\"top\">\n                <Button\n                  type=\"link\"\n                  disabled={item.remoteUrl === null}\n                  onClick={() => copyTextToClipboard(item.remoteUrl)}>\n                  复制链接\n                </Button>\n              </Tooltip>\n            )}\n          />\n          <Column\n            ellipsis\n            title=\"下载状态\"\n            dataIndex=\"ossUrl\"\n            key=\"ossUrl\"\n            render={item => {\n              return item === null || item === '' ? (\n                '未下载'\n              ) : (\n                <Tooltip title={item ? item : null} placement=\"top\">\n                  <Button type=\"link\" onClick={() => copyTextToClipboard(item)}>\n                    已下载\n                  </Button>\n                </Tooltip>\n              );\n            }}\n          />\n          <Column title=\"云量\" ellipsis dataIndex=\"cloudCover\" key=\"cloudCover\" />\n          <Column title=\"真彩图\" ellipsis dataIndex=\"tciUrl\" render={tciUrl => downloadTci(tciUrl)} />\n\n          <Column\n            title=\"数据时间\"\n            dataIndex=\"time\"\n            key=\"time\"\n            sorter={(a, b) => moment(a.time).valueOf() - moment(b.time).valueOf()}\n            defaultSortOrder=\"descend\"\n          />\n          <Column\n            title=\"操作\"\n            key=\"action\"\n            width={180}\n            render={item => (\n              <>\n                <Button\n                  type=\"link\"\n                  onClick={() => {\n                    setItemData({\n                      ...itemData,\n                      detail: JSON.parse(item.detail)\n                    });\n                    setDetailModalShow(true);\n                  }}>\n                  查看详情\n                </Button>\n\n                <Button\n                  type=\"link\"\n                  disabled={item.ready === true}\n                  onClick={() => {\n                    addPreSelect(item, dataList, preDownloads);\n                  }}>\n                  加入预选\n                </Button>\n              </>\n            )}\n          />\n        </Table>\n      </Card>\n      <Modal\n        className=\"data-result-detail-modal\"\n        title=\"数据详情\"\n        visible={detailModalShow}\n        onCancel={() => {\n          setItemData({});\n          setDetailModalShow(false);\n        }}\n        footer={[\n          <Button key=\"submit\" type=\"primary\" onClick={() => setDetailModalShow(false)}>\n            确认\n          </Button>\n        ]}>\n        <ReactJson src={itemData} />\n      </Modal>\n\n      <Affix className=\"data-result-preselect-btn\" offsetBottom={20} target={() => window}>\n        <Badge count={preDownloads.length} overflowCount={9}>\n          <Button type=\"dashed\" onClick={() => setListModalShow(true)}>\n            预选列表\n          </Button>\n        </Badge>\n      </Affix>\n\n      <Modal\n        title=\"预选列表\"\n        zIndex={100}\n        width=\"70%\"\n        visible={listModalShow}\n        onCancel={() => setListModalShow(false)}\n        footer={[\n          <Button key=\"back\" onClick={() => setListModalShow(false)}>\n            返回\n          </Button>,\n          <Input\n            className=\"data-result-preselect-name\"\n            key=\"input\"\n            placeholder=\"请创建任务名,再下载\"\n            value={taskName}\n            onChange={e => {\n              setTaskName(e.target.value);\n            }}\n          />,\n          <Button\n            className=\"data-result-preselect-OKbtn\"\n            key=\"submit\"\n            type=\"primary\"\n            disabled={preDownloads.length === 0 || !taskName}\n            onClick={submitPreList}\n            loading={isLoading}>\n            确认下载\n          </Button>\n        ]}>\n        <Table dataSource={preDownloads} rowKey={data => data.id} size=\"small\">\n          <Column title=\"数据ID\" dataIndex=\"id\" key=\"id\" />\n          <Column title=\"卫星编号\" dataIndex=\"dataType\" key=\"dataType\" />\n          <Column title=\"数据源\" ellipsis dataIndex=\"remoteUrl\" key=\"remoteUrl\" />\n          <Column title=\"存储路径\" ellipsis dataIndex=\"ossUrl\" key=\"ossUrl\" />\n          <Column title=\"云量\" ellipsis dataIndex=\"cloudCover\" key=\"cloudCover\" />\n          <Column title=\"数据时间\" dataIndex=\"time\" key=\"time\" />\n          <Column\n            title=\"操作\"\n            key=\"action\"\n            render={item => (\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  removePreSelect(item, dataList, preDownloads);\n                }}>\n                取消预选\n              </Button>\n            )}\n          />\n        </Table>\n      </Modal>\n    </div>\n  );\n};\n\nexport default QueryResult;\n","import React, { useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport DataDownload from './DataDownload';\nimport QueryResult from './QueryResult';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport './style.sass';\n\nconst Datas = () => {\n  const history = useHistory();\n  const query = useQuery();\n  const manner = query.get('manner') || 'query';\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount, active, setActive } = headerNav;\n  const onChange = useCallback(\n    key => {\n      history.push(`/app/data/satellite-download?manner=${key}`);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'tabs',\n      items: [\n        {\n          name: '查询',\n          key: 'query'\n        },\n        {\n          name: '直接下载',\n          key: 'query-download'\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    setActive(manner);\n  }, [manner, setActive]);\n\n  return (\n    <>\n      {active === 'query' && <QueryResult />}\n      {active === 'query-download' && <DataDownload />}\n    </>\n  );\n};\n\nexport default Datas;\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport default {\n  已完成: <Tag color=\"success\">已完成</Tag>,\n  已暂停: <Tag color=\"warning\">已暂停</Tag>,\n  已分发: <Tag color=\"geekblue\">已分发</Tag>,\n  待处理: <Tag color=\"default\">待处理</Tag>,\n  下载中: <Tag color=\"processing\">下载中</Tag>,\n  失败: <Tag color=\"red\">失败</Tag>\n};\n","import React, { useState, useEffect } from 'react';\nimport dataService from 'src/services/datas';\nimport downloadTaskStatus from 'src/constants/downloadTaskStatus';\nimport { Table, message } from 'antd';\n\nconst { Column } = Table;\n\nconst SubTable = ({ data }) => {\n  const [batchDetails, setBatchDetails] = useState();\n\n  useEffect(() => {\n    (async function () {\n      try {\n        let batchDetail = await dataService.queryBatchDetails(data);\n        setBatchDetails(batchDetail);\n      } catch (e) {\n        message.error(e.message);\n      }\n    })();\n  }, [data]);\n\n  return (\n    <Table\n      size=\"small\"\n      dataSource={batchDetails}\n      rowKey={r => r.id}\n      pagination={{\n        pageSize: 5,\n        showSizeChanger: false\n      }}\n    >\n      <Column title=\"ID\" dataIndex=\"id\" key=\"id\" />\n      <Column title=\"卫星编号\" dataIndex=\"dataType\" key=\"dataType\" />\n      <Column title=\"srcURL\" dataIndex=\"srcUrl\" key=\"srcUrl\" ellipsis={true} />\n      <Column\n        title=\"destURL\"\n        dataIndex=\"destUrl\"\n        key=\"destUrl\"\n        ellipsis={true}\n      />\n      <Column\n        title=\"状态\"\n        dataIndex=\"status\"\n        key=\"status\"\n        render={s => downloadTaskStatus[s]}\n      />\n    </Table>\n  );\n};\n\nconst ParentTable = ({ batchInfos }) => {\n  // 展示子表格\n  const expandedRowRender = item => {\n    return <SubTable data={item} />;\n  };\n\n  return (\n    <Table\n      size=\"small\"\n      dataSource={batchInfos}\n      rowKey={item => item.id}\n      pagination={{\n        showTotal: () => `共${batchInfos.length}条`,\n        showSizeChanger: true,\n        defaultPageSize: 30\n      }}\n      expandedRowRender={expandedRowRender}\n    >\n      <Column title=\"ID\" dataIndex=\"id\" key=\"id\" />\n      <Column\n        title=\"状态\"\n        dataIndex=\"status\"\n        key=\"status\"\n        render={s => downloadTaskStatus[s]}\n      />\n      <Column title=\"总数\" dataIndex=\"total\" key=\"total\" />\n      <Column title=\"已完成\" dataIndex=\"finished\" key=\"finished\" />\n      <Column title=\"开始时间\" dataIndex=\"startTime\" key=\"startTime\" />\n      <Column title=\"结束时间\" dataIndex=\"finishedTime\" key=\"finishedTime\" />\n    </Table>\n  );\n};\n\nexport default ParentTable;\n","import React from 'react';\nimport { Modal, Spin } from 'antd';\nimport { TMap } from '@terraqt/garden';\nimport './style.sass';\n\nconst { EditablePopupedGeoJSON, BoundsFit, Toolbar } = TMap;\n\nconst TimeRange = data => {\n  return (\n    <>\n      <span>\n        {data.beginTime}~{data.endTime}\n      </span>\n      <div className=\"condition-months\">\n        <span>\n          涉及月份：\n          {data.includeMonths}\n        </span>\n      </div>\n    </>\n  );\n};\n\nconst CommonInfo = data => {\n  return <span>{data}</span>;\n};\n\nconst Space = data => {\n  return data.type === 'SHAPE' ? (\n    <TMap className=\"condition-info-map\">\n      <Toolbar options={{enables: [] }}/>\n      <EditablePopupedGeoJSON data={data.value} />\n      <BoundsFit shapes={[data.value]} />\n    </TMap>\n  ) : data.type === 'TILE' ? (\n    <>{data.value}</>\n  ) : data.type === 'ADMINISTRATIVE_REGION' ? (\n    <>{data.description}</>\n  ) : null;\n};\n\nconst NoInfo = data => {\n  return <span>{data.message} </span>;\n};\n\nconst captions = {\n  timeRange: { Name: '时间范围:', Component: TimeRange },\n  dataType: { Name: '卫星编号:', Component: CommonInfo },\n  waves: { Name: '选择波段:', Component: CommonInfo },\n  waveAggregations: { Name: '彩色合成:', Component: CommonInfo },\n  shape: { Name: '空间范围:', Component: Space },\n  description: { Name: '任务描述:', Component: CommonInfo },\n  noInfo: { Name: null, Component: NoInfo },\n};\n\nconst ConditionModal = ({\n  infos,\n  onCancel,\n  conditionModalShow,\n  conditionModalLoading\n}) => {\n  return (\n    <Modal\n      title=\"任务时空信息\"\n      visible={conditionModalShow}\n      onCancel={() => {\n        onCancel();\n      }}\n      footer={null}\n    >\n      <div className=\"condition-modal-loading\">\n        <Spin spinning={conditionModalLoading}>\n          {infos && (\n            <ul className=\"condition-info\">\n              {Object.keys(infos).map(k =>\n                captions[k] && infos[k] ? (\n                  <li key={k}>\n                    <span>{captions[k].Name}</span>\n                    <span>{captions[k].Component(infos[k])}</span>\n                  </li>\n                ) : null\n              )}\n            </ul>\n          )}\n        </Spin>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConditionModal;\n","import React from 'react';\nimport { Input, Button } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport classnames from 'classnames';\nimport './style.sass';\n\nconst getTableFilter = columnName => ({\n  filterDropdown: options => {\n    const { setSelectedKeys, selectedKeys, confirm, clearFilters } = options;\n\n    return (\n      <div className=\"filter-list-dropdown\">\n        <Input\n          className=\"dropdown-input\"\n          placeholder={`按${columnName}筛选`}\n          value={selectedKeys ? selectedKeys[0] : null}\n          onChange={e =>\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\n          }\n          onPressEnter={confirm}\n        />\n        <Button\n          className=\"dropdown-OK\"\n          type=\"primary\"\n          onClick={confirm}\n          size=\"small\"\n        >\n          确认\n        </Button>\n        <Button className=\"dropdown-cancel\" onClick={clearFilters} size=\"small\">\n          重置\n        </Button>\n      </div>\n    );\n  },\n\n  onFilter: (inputValue, datas) =>\n    datas[columnName]\n      .toString()\n      .toLowerCase()\n      .includes(inputValue.toLowerCase()),\n\n  filterIcon: filtered => {\n    return (\n      <SearchOutlined\n        className={classnames(filtered ? 'table-filter-icon' : undefined)}\n      />\n    );\n  }\n});\n\nexport default getTableFilter;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Card,\n  Table,\n  Button,\n  Modal,\n  Progress,\n  Popover,\n  message,\n  Popconfirm\n} from 'antd';\nimport dataService from 'src/services/datas';\nimport TaskProgress from './TaskProgress';\nimport ConditionModal from 'src/components/ConditionModal';\nimport getTableFilter from 'src/components/TableFilter';\n\nconst { Column } = Table;\nconst mannerDic = {\n  normal: 'NORMAL',\n  gazing: 'GAZING'\n};\n\nconst TaskList = ({ manner }) => {\n  const [tasks, setTasks] = useState();\n  const [batchInfos, setBatchInfos] = useState();\n  const [modalShow, setModalShow] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [itemData, setItemData] = useState({});\n  const [downloadCondition, setDownloadCondition] = useState(null);\n  const [conditionModalShow, setConditionModalShow] = useState(false);\n  const [conditionModalLoading, setConditionModalLoading] = useState(false);\n\n  // 获取下载列表\n  useEffect(() => {\n    (async function () {\n      try {\n        let tasks = await dataService.queryTasksByMode(mannerDic[manner]);\n        setTasks(tasks);\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [manner]);\n\n  const queryDownloadCondition = useCallback(async id => {\n    try {\n      let condition = await dataService.queryDownloadCondition(id);\n      setDownloadCondition(condition);\n      setConditionModalLoading(false);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  const onClick = id => {\n    queryDownloadCondition(id);\n    setConditionModalShow(true);\n    setConditionModalLoading(true);\n  };\n\n  // 更新某行action\n  const updateTask = (rid, operation) => {\n    setTasks(\n      tasks.map(id => {\n        if (id === rid) {\n          return {\n            ...id,\n            allowOperation: operation === 'PAUSE' ? 'RESUME' : 'PAUSE'\n          };\n        } else {\n          return id;\n        }\n      })\n    );\n  };\n\n  // 更改任务状态\n  const operationTask = async function (id, operation) {\n    try {\n      await dataService.changeStatus(id, operation);\n      updateTask(id, operation);\n      message.success(`${operation}`);\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  const deleteTask = async function (target, tasks) {\n    try {\n      await dataService.changeStatus(target, 'DELETE');\n      setTasks(tasks.filter(t => t.id !== target.id));\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  // 查询批量信息\n  const queryBatchInfos = useCallback(async function (item) {\n    try {\n      let batchInfos = await dataService.queryBatchInfos(item);\n      setBatchInfos(batchInfos);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  const onCancel = () => {\n    setDownloadCondition(null);\n    setConditionModalShow(null);\n  };\n\n  return (\n    <div className=\"task-list\">\n      <Card>\n        <Table\n          size=\"small\"\n          dataSource={tasks}\n          rowKey={items => items.id}\n          loading={loading}\n          pagination={{\n            showTotal: total => `共${total}条`,\n            showSizeChanger: true,\n            defaultPageSize: 30\n          }}\n        >\n          <Column title=\"任务ID\" dataIndex=\"id\" key=\"id\" />\n          <Column\n            title=\"任务名称\"\n            dataIndex=\"name\"\n            key=\"name\"\n            {...getTableFilter('name')}\n          />\n          <Column\n            title=\"任务时空信息\"\n            render={task => (\n              <Button\n                type=\"link\"\n                onClick={() => {\n                  onClick(task.id);\n                }}\n              >\n                查看\n              </Button>\n            )}\n          ></Column>\n          <Column\n            title=\"任务进度\"\n            key=\"progress\"\n            render={task =>\n              task.totalCount === 0 ? (\n                '无任务'\n              ) : (\n                <Popover\n                  content={\n                    <span>\n                      {task.finishedCount} / {task.totalCount}\n                    </span>\n                  }\n                >\n                  <Progress\n                    percent={Math.floor(\n                      (task.finishedCount / task.totalCount) * 100\n                    )}\n                    status={task.failedCount === 0 ? null : 'exception'}\n                  />\n                </Popover>\n              )\n            }\n          />\n\n          {manner === 'gazing' ? (\n            <Column\n              title=\"最后更新时间\"\n              key=\"updatedAt\"\n              dataIndex=\"updatedAt\"\n            />\n          ) : null}\n\n          <Column title=\"创建者\" key=\"creator\" dataIndex=\"creator\" />\n          <Column\n            title=\"操作\"\n            key=\"action\"\n            render={item => (\n              <>\n                <Button\n                  type=\"link\"\n                  onClick={() => {\n                    setModalShow(true);\n                    setItemData(itemData);\n                    queryBatchInfos(item);\n                  }}\n                >\n                  查看进度\n                </Button>\n                <Button\n                  type=\"link\"\n                  disabled={item.allowOperation !== 'PAUSE'}\n                  onClick={() => {\n                    operationTask(item, 'PAUSE');\n                  }}\n                >\n                  暂停\n                </Button>\n                <Button\n                  type=\"link\"\n                  disabled={item.allowOperation !== 'RESUME'}\n                  onClick={() => {\n                    operationTask(item, 'RESUME');\n                  }}\n                >\n                  重启\n                </Button>\n                <Popconfirm\n                  title=\"确认删除?\"\n                  onConfirm={() => {\n                    deleteTask(item, tasks);\n                  }}\n                  okText=\"删除\"\n                  cancelText=\"取消\"\n                >\n                  <Button type=\"link\">删除</Button>\n                </Popconfirm>\n              </>\n            )}\n          />\n        </Table>\n\n        {/* task info modal */}\n\n        <ConditionModal\n          infos={downloadCondition}\n          onCancel={onCancel}\n          conditionModalLoading={conditionModalLoading}\n          conditionModalShow={conditionModalShow}\n        />\n\n        {/* task progress modal */}\n        <Modal\n          width={850}\n          title=\"详情\"\n          visible={modalShow}\n          onCancel={() => {\n            setItemData({});\n            setModalShow(false);\n          }}\n          footer={[\n            <Button\n              key=\"submit\"\n              type=\"primary\"\n              onClick={() => setModalShow(false)}\n            >\n              确认\n            </Button>\n          ]}\n        >\n          <h3>执行进度:</h3>\n          <TaskProgress batchInfos={batchInfos} />\n        </Modal>\n      </Card>\n    </div>\n  );\n};\n\nexport default TaskList;\n","import React, { useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport TaskList from './TaskList';\nimport './style.sass';\n\nconst Tasks = () => {\n  const history = useHistory();\n  const query = useQuery();\n  const manner = query.get('manner') || 'normal';\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount, active, setActive } = headerNav;\n\n  const onChange = useCallback(\n    manner => {\n      history.push(`/app/data/satellite-tasks?manner=${manner}`);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'tabs',\n      items: [\n        {\n          name: '常规模式',\n          key: 'normal'\n        },\n        {\n          name: '凝视模式',\n          key: 'gazing'\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    setActive(manner);\n  }, [manner, setActive]);\n\n  return (\n    <>\n      {active === 'normal' && <TaskList manner=\"normal\" />}\n      {active === 'gazing' && <TaskList manner=\"gazing\" />}\n    </>\n  );\n};\n\nexport default Tasks;\n","import React, { useState, useCallback } from 'react';\nimport { Card, Table, Button, Popconfirm, message } from 'antd';\nimport { Link } from 'react-router-dom';\nimport dataService from 'src/services/datas';\nimport ConditionModal from 'src/components/ConditionModal';\n\nconst { Column } = Table;\n\nconst TaskList = ({ loading, tasks, fetchTasksList }) => {\n  const [infos, setInfos] = useState();\n  const [conditionModalShow, setConditionModalShow] = useState(false);\n  const [conditionModalLoading, setConditionModalLoading] = useState(false);\n\n  const queryTaskInfo = useCallback(async id => {\n    try {\n      let detail = await dataService.queryWaveInfo(id);\n      setInfos(detail);\n      setConditionModalLoading(false);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  const onClickTaskInfo = id => {\n    queryTaskInfo(id);\n    setConditionModalShow(true);\n    setConditionModalLoading(true);\n  };\n\n  const deleteTask = useCallback(\n    async id => {\n      try {\n        await dataService.deleteWaveTask(id);\n        fetchTasksList();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [fetchTasksList]\n  );\n  const onCancel = () => {\n    setInfos({});\n    setConditionModalShow(false);\n  };\n\n  return (\n    <div className=\"wave-tasks-list\">\n      <Card>\n        <Table\n          size=\"small\"\n          dataSource={tasks}\n          rowKey={tasks => tasks.id}\n          pagination={{\n            showTotal: () => `共${tasks.length}条`,\n            showSizeChanger: true,\n            defaultPageSize: 30\n          }}\n          loading={loading}\n        >\n          <Column title=\"任务名称\" dataIndex=\"name\" key=\"name\" />\n          <Column\n            title=\"任务信息\"\n            dataIndex=\"id\"\n            key=\"id\"\n            render={id => (\n              <Button\n                type=\"link\"\n                onClick={() => {\n                  onClickTaskInfo(id);\n                }}\n              >\n                详情\n              </Button>\n            )}\n          />\n          <Column title=\"创建时间\" dataIndex=\"createdAt\" key=\"createdAt\" />\n          <Column\n            title=\"操作\"\n            key=\"action\"\n            render={task => {\n              return (\n                <>\n                  <Link\n                    to={`/app/data-wave?type=${task.geometryType}&id=${task.id}&name=${task.name}`}\n                  >\n                    <Button type=\"link\" disabled={!task.operations[0].enable}>\n                      查看\n                    </Button>\n                  </Link>\n                  <Popconfirm\n                    title=\"确认删除?\"\n                    onConfirm={() => {\n                      deleteTask(task.id);\n                    }}\n                    okText=\"删除\"\n                    cancelText=\"取消\"\n                  >\n                    <Button type=\"link\" disabled={!task.operations[1].enable}>\n                      删除\n                    </Button>\n                  </Popconfirm>\n                </>\n              );\n            }}\n          />\n        </Table>\n      </Card>\n\n      {/* 任务详情 */}\n\n      <ConditionModal\n        infos={infos}\n        conditionModalShow={conditionModalShow}\n        conditionModalLoading={conditionModalLoading}\n        onCancel={onCancel}\n      />\n    </div>\n  );\n};\n\nexport default TaskList;\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport SkyFilter from 'src/components/SkyFilter';\nimport { Form, Card, Button, message } from 'antd';\nimport dataService from 'src/services/datas';\n\nconst CreateTask = ({ fetchTasksList, setLoading }) => {\n  const [filters, setFilters] = useState(null);\n  const [waves, setWaves] = useState([]);\n  const [btnLoading, setBtnLoading] = useState(false);\n  const enabledFilters = useMemo(\n    () => [\n      {\n        filterType: 'TIME_RANGER',\n        valueKey: 'timeRange',\n        required: true\n      },\n      {\n        filterType: 'SPACE',\n        valueKey: 'space',\n        required: true,\n        spaceOptions: [\n          {\n            key: '手动划区',\n            value: 'SHAPE'\n          },\n          {\n            key: 'GeoJson',\n            value: 'GEOJSON'\n          },\n          {\n            key: '经纬度',\n            value: 'POINTER'\n          }\n        ]\n      },\n      {\n        filterType: 'TREE_SELECT',\n        valueKey: 'waves',\n        treeData: waves,\n        required: true,\n        multiple: true\n      },\n      {\n        filterType: 'INPUT',\n        valueKey: 'name',\n        label: '任务名称',\n        required: true\n      }\n    ],\n    [waves]\n  );\n\n  const cerateTask = useCallback(\n    async filters => {\n      try {\n        if (filters) {\n          setBtnLoading(true);\n          setLoading(true);\n          let timeRange = filters.timeRange;\n          let space = filters.space.value;\n          if (filters.space.type === 'POINTER') {\n            space = JSON.stringify({\n              type: 'Point',\n              coordinates: [filters.space.lon, filters.space.lat]\n            });\n          }\n\n          await dataService.createWaveTask(\n            {\n              timeRange: {\n                beginTime: timeRange.dates[0].format('YYYY-MM-DDT00:00:00'),\n                endTime: timeRange.dates[1].format('YYYY-MM-DDT23:59:59'),\n                includeMonths: timeRange.includeMonths\n              },\n              shape: {\n                type: 'SHAPE',\n                value: space\n              },\n              waves: filters.waves\n            },\n            filters.name\n          );\n\n          fetchTasksList();\n        }\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setBtnLoading(false);\n        setLoading(false);\n      }\n    },\n    [fetchTasksList, setLoading]\n  );\n\n  const disableButton = useMemo(() => {\n    return (\n      !filters ||\n      !filters.timeRange.dates ||\n      !filters.timeRange.dates.length ||\n      !filters.timeRange.includeMonths ||\n      !filters.waves ||\n      !filters.waves.length ||\n      !filters.name\n    );\n  }, [filters]);\n\n  useEffect(() => {\n    (async function () {\n      let waves = await dataService.getAllWaves();\n      setWaves(waves);\n    })();\n  }, []);\n\n  return (\n    <Card className=\"create-task-card\">\n      <SkyFilter\n        enabledFilters={enabledFilters}\n        layout=\"inline\"\n        value={filters}\n        onChange={filters => {\n          setFilters(filters);\n        }}\n      />\n      <Form.Item>\n        <Button\n          className=\"waves-submit-button\"\n          type=\"primary\"\n          disabled={disableButton}\n          onClick={() => {\n            cerateTask(filters);\n          }}\n          loading={btnLoading}\n        >\n          创建\n        </Button>\n      </Form.Item>\n    </Card>\n  );\n};\n\nexport default CreateTask;\n","import { useState, useEffect } from 'react';\nimport dataService from 'src/services/datas';\n\nconst useTaskDatas = taskId => {\n  const [taskDatas, setTaskDatas] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      if (!taskId) return;\n      let taskDatas = await dataService.queryWaveDataInfo(taskId);\n      setTaskDatas(taskDatas);\n    })();\n  }, [taskId]);\n\n  return {\n    taskDatas\n  };\n};\n\nexport default useTaskDatas;\n","const easings = {\n  linear(t) {\n    return t;\n  },\n  easeInQuad(t) {\n    return t * t;\n  },\n  easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  easeInCubic(t) {\n    return t * t * t;\n  },\n  easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  easeInOutCubic(t) {\n    return t < 0.5\n      ? 4 * t * t * t\n      : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  easeInQuart(t) {\n    return t * t * t * t;\n  },\n  easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  easeInOutQuart(t) {\n    return t < 0.5\n      ? 8 * t * t * t * t\n      : 1 - 8 * --t * t * t * t;\n  },\n  easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  easeInOutQuint(t) {\n    return t < 0.5\n      ? 16 * t * t * t * t * t\n      : 1 + 16 * --t * t * t * t * t;\n  }\n};\n\n// element\n// offset\n// easingName\n// duration\nexport function scrollLeft(\n  element,\n  offset,\n  easingName = 'linear',\n  duration = 250\n) {\n  let _offset = Math.ceil(offset);\n  let startTime =\n    'now' in window.performance\n      ? performance.now()\n      : new Date().getTime();\n  let start = Math.ceil(element.scrollLeft);\n  let end = Math.ceil(element.scrollLeft) + _offset;\n  let maxOffset = Math.ceil(\n    element.scrollWidth - element.offsetWidth\n  );\n\n  let rqId;\n  const animateScroll = function() {\n    let now =\n      'now' in window.performance\n        ? performance.now()\n        : new Date().getTime();\n    let time = Math.min(1, (now - startTime) / duration);\n    let timeFunction = easings[easingName](time);\n\n    let scrollOffset = Math.ceil(\n      start + timeFunction * _offset\n    );\n\n    if (scrollOffset > maxOffset) {\n      return (element.scrollLeft = maxOffset);\n    }\n\n    if (scrollOffset < 0) {\n      return (element.scrollLeft = 0);\n    }\n\n    element.scrollLeft = scrollOffset;\n    if (scrollOffset === end) return;\n\n    rqId = window.requestAnimationFrame(animateScroll);\n  };\n  animateScroll();\n\n  return () => {\n    rqId && window.cancelAnimationFrame(rqId);\n  };\n}\n","import React, { useEffect, useRef } from 'react';\nimport { scrollLeft } from 'src/utils/scroll';\n\nconst Images = ({ img, showLargeImg, appendScroll, onWheel }) => {\n  const list = useRef(null);\n\n  useEffect(() => {\n    let el = list.current;\n\n    if (el) {\n      // reset scroll left\n      let clearScrollAnimation = scrollLeft(\n        el,\n        -el.scrollLeft,\n        'easeInOutCubic',\n        0\n      );\n\n      // add mouse whell scroll process\n      let scroll = e => {\n        e.stopPropagation();\n        e.preventDefault();\n        if (el.deltaY !== 0) {\n          clearScrollAnimation = scrollLeft(el, e.deltaY, 'easeInOutCubic', 0);\n        }\n        if (el.deltaX !== 0) {\n          clearScrollAnimation = scrollLeft(el, e.deltaX, 'easeInOutCubic', 0);\n        }\n      };\n      appendScroll(scroll);\n      el.addEventListener('wheel', onWheel);\n\n      return () => {\n        el.removeEventListener('wheel', onWheel);\n        // clear scroll left animation\n        clearScrollAnimation();\n      };\n    }\n  }, [appendScroll, onWheel]);\n  return (\n    <div className=\"wave-img-list\" key={img.simageUrl} ref={list}>\n      {img.data.map(i => (\n        <div\n          className=\"wave-img-list-simg\"\n          key={i.simageUrl + i.limageUrl}\n          onClick={() => {\n            showLargeImg(i);\n          }}\n        >\n          <img\n            src={`https://tile-cdn.terraqt.com/${i.simageUrl}`}\n            alt=\"img\"\n            key={i.simageUrl}\n          />\n          <div className=\"wave-img-list-time\" key={i.limageUrl}>\n            {i.time}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Images;\n","import { useSupReducer } from 'src/utils/hooks';\n\nconst initialState = {\n  modalShow: false,\n  imgUrl: ''\n};\n\nconst reducer = (state, action) => {\n  const { type, value } = action;\n\n  if (type === 'imageShow') {\n    return { ...state, modalShow: true, imgUrl: value };\n  }\n\n  if (type === 'imageHide') {\n    return { ...state, modalShow: false, imgUrl: '' };\n  }\n\n  return state;\n};\n\nconst useImageViewReducer = () => {\n  const [state, dispatch] = useSupReducer(reducer, initialState);\n  return [state, dispatch];\n};\n\nexport default useImageViewReducer;\n","import React, { useEffect, useCallback, useRef } from 'react';\nimport { Card } from 'antd';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport useTaskDatas from '../useTaskDatas';\nimport Images from './Images';\nimport { ImageViewer } from '@terraqt/garden';\nimport useImageViewReducer from 'src/pages/hooks/useImageViewReducer';\n\nconst ImageLists = ({ taskId }) => {\n  const [imageViewState, imageViewDispatch] = useImageViewReducer();\n  const { taskDatas } = useTaskDatas(taskId);\n  const scrolls = useRef([]);\n\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n  const history = useHistory();\n  const query = useQuery();\n  const taskName = query.get('name');\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  const appendScrolls = useCallback(scroll => {\n    scrolls.current = [...scrolls.current, scroll];\n  }, []);\n\n  const onWheel = useCallback(e => {\n    scrolls.current.forEach(s => s(e));\n  }, []);\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: '数据调试',\n          key: '/app/data-wave'\n        },\n        {\n          name: taskName,\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, taskName, unMount]);\n\n  const showLargeImg = useCallback(\n    i => {\n      let imgUrl = `https://tile-cdn.terraqt.com/${i.limageUrl}`;\n      imageViewDispatch('imageShow', imgUrl);\n    },\n    [imageViewDispatch]\n  );\n\n  return (\n    <>\n      {taskDatas.map(k => (\n        <Card className=\"wave-img-list-card\" title={k.title} key={k.title}>\n          <Images\n            img={k}\n            showLargeImg={showLargeImg}\n            appendScroll={scroll => {\n              appendScrolls(scroll);\n            }}\n            onWheel={e => {\n              onWheel(e, scrolls);\n            }}\n          />\n        </Card>\n      ))}\n      <ImageViewer\n        visible={imageViewState.modalShow}\n        url={imageViewState.imgUrl}\n        onClose={() => {\n          imageViewDispatch('imageHide');\n        }}\n      />\n    </>\n  );\n};\n\nexport default ImageLists;\n","import React from 'react';\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  CartesianGrid,\n  ResponsiveContainer\n} from 'recharts';\n\nconst LineCharts = ({ data }) => {\n  return (\n    <ResponsiveContainer>\n      <LineChart\n        data={data}\n        margin={{\n          top: 8,\n          right: 2,\n          left: 2,\n          bottom: 28\n        }}\n      >\n        <Line type=\"monotone\" dataKey=\"value\" stroke=\"#0c9797\" />\n        <XAxis dataKey=\"time\" angle={28} dx={64} dy={40} />\n        <YAxis />\n        <CartesianGrid strokeDasharray=\"4 6\" />\n        <Tooltip />\n      </LineChart>\n    </ResponsiveContainer>\n  );\n};\nexport default LineCharts;\n","import React, { useCallback, useEffect } from 'react';\nimport { Card } from 'antd';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport LineChart from './LineChart';\nimport useTaskDatas from '../useTaskDatas';\n\nconst ChartList = ({ taskId }) => {\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n  const history = useHistory();\n  const query = useQuery();\n  const taskName = query.get('name');\n  const { taskDatas } = useTaskDatas(taskId);\n  const taskData = taskDatas || [];\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: '数据调试',\n          key: '/app/data-wave'\n        },\n        {\n          name: taskName,\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, taskName, unMount]);\n\n  return taskData.map(k => (\n    <Card className=\"wave-chart-card\" title={k.title} key={k.title}>\n      <LineChart data={k.data} />\n    </Card>\n  ));\n};\n\nexport default ChartList;\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport TaskList from './Tasks/TaskList';\nimport CreateTask from './Tasks/CreateTask';\nimport ImageList from './DataDisplay/ImageList';\nimport ChartList from './DataDisplay/ChartList';\nimport { useQuery } from 'src/utils/hooks';\nimport { message } from 'antd';\nimport dataService from 'src/services/datas';\nimport './style.sass';\n\nconst DataWave = () => {\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchTasksList = useCallback(async () => {\n    try {\n      setLoading(true);\n      let tasksList = await dataService.getWaveTasksList();\n      setTasks(tasksList);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  let query = useQuery();\n  let type = query.get('type');\n  let taskId = query.get('id');\n\n  const waveTask = useMemo(() => {\n    return tasks.find(t => t.id === Number(taskId)) || {};\n  }, [taskId, tasks]);\n\n  useEffect(() => {\n    fetchTasksList();\n  }, [fetchTasksList]);\n\n  return type === 'POLYGON' ? (\n    <ImageList taskId={waveTask.id} />\n  ) : type === 'POINT' ? (\n    <ChartList taskId={waveTask.id} />\n  ) : (\n    <div className=\"task-create\">\n      <CreateTask fetchTasksList={fetchTasksList} setLoading={setLoading} />\n      <TaskList\n        tasks={tasks}\n        fetchTasksList={fetchTasksList}\n        loading={loading}\n        setLoading={setLoading}\n      />\n    </div>\n  );\n};\n\nexport default DataWave;\n","import React from 'react';\nimport { Cascader } from 'antd';\n\nexport default ({ setSelectedTag, tags }) => {\n  return (\n    <div className=\"sample-tag-background\">\n      <Cascader\n        className=\"create-tag-cascader\"\n        popupClassName=\"sample-tag-menu\"\n        popupVisible=\"true\"\n        options={tags}\n        expandTrigger=\"hover\"\n        changeOnSelect\n        onChange={value => setSelectedTag(value[value.length - 1])}\n      />\n    </div>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { Card, List, Button, Radio } from 'antd';\n\nimport { useHistory } from 'react-router-dom';\n\nexport default ({ searchResult, setSelectedTag, selectedTag }) => {\n  const history = useHistory();\n\n  const goBack = useCallback(() => {\n    setSelectedTag(null);\n    history.push('/app/data/tag-samples');\n  }, [history, setSelectedTag]);\n\n  return (\n    <Card className=\"sample-search-result-card\">\n      <Radio.Group\n        className=\"result-list\"\n        value={selectedTag}\n        onChange={e => {\n          setSelectedTag(e.target.value);\n        }}>\n        <List\n          dataSource={searchResult}\n          itemLayout=\"horizontal\"\n          footer={\n            <Button className=\"back-btn\" type=\"primary\" onClick={goBack}>\n              返回列表\n            </Button>\n          }\n          renderItem={item => (\n            <List.Item>\n              <Radio value={item.id} />\n              <List.Item.Meta title={item.fullPathTitle} />\n            </List.Item>\n          )}\n        />\n      </Radio.Group>\n    </Card>\n  );\n};\n","import React, { useCallback, useState, useMemo } from 'react';\nimport SkyFilter from 'src/components/SkyFilter';\nimport dataService from 'src/services/datas';\nimport { DraggableModal, DraggableModalProvider } from 'ant-design-draggable-modal';\n\nconst createFilters = [\n  {\n    label: '标签名称',\n    filterType: 'INPUT',\n    valueKey: 'name',\n    required: true\n  },\n  {\n    label: '标签层级',\n    filterType: 'RADIO_LIST',\n    valueKey: 'position',\n    required: true,\n    optionSource: [\n      { value: 'CHILD', name: '当前选中子级' },\n      { value: 'BROTHER', name: '当前选中同级' }\n    ]\n  }\n];\n\nconst updateFilters = [\n  {\n    label: '标签名称',\n    filterType: 'INPUT',\n    valueKey: 'name',\n    required: true\n  }\n];\n\nexport default ({ editType, modalShow, setModalShow, setSelectedTag, selectedTag, getAllSamples }) => {\n  const [tagInfo, setTagInfo] = useState({});\n  const [btnLoading, setBtnloading] = useState(false);\n\n  const modalTitle = { create: '新建', update: '编辑' };\n\n  const createLabel = useCallback(async () => {\n    setBtnloading(true);\n    try {\n      let code = selectedTag.split('/')[0];\n      await dataService.createLabel(code, tagInfo.name, tagInfo.position);\n      getAllSamples();\n      setTagInfo({});\n    } finally {\n      setBtnloading(false);\n      setModalShow(false);\n    }\n  }, [getAllSamples, selectedTag, setModalShow, tagInfo.name, tagInfo.position]);\n\n  const updateLabelName = useCallback(async () => {\n    setBtnloading(true);\n\n    let id = String(selectedTag).includes('/') ? selectedTag.split('/')[1] : Number(selectedTag);\n    try {\n      await dataService.updateLabelName(id, tagInfo.name);\n      getAllSamples();\n    } finally {\n      setTagInfo({});\n      setBtnloading(false);\n      setModalShow(false);\n    }\n  }, [getAllSamples, selectedTag, setModalShow, tagInfo.name]);\n\n  const onSubmit = useCallback(() => {\n    editType === 'create' ? createLabel() : updateLabelName();\n  }, [createLabel, editType, updateLabelName]);\n\n  const onCancel = useCallback(() => {\n    setSelectedTag(null);\n    setModalShow(false);\n  }, [setModalShow, setSelectedTag]);\n\n  const disableSubmitBtn = useMemo(() => {\n    return !tagInfo.name;\n  }, [tagInfo.name]);\n\n  return (\n    <DraggableModalProvider>\n      <DraggableModal\n        initialWidth={500}\n        initialHeight={250}\n        title={modalTitle[editType]}\n        visible={modalShow}\n        onOk={onSubmit}\n        onCancel={onCancel}\n        okButtonProps={{\n          disabled: disableSubmitBtn,\n          loading: btnLoading\n        }}>\n        <SkyFilter\n          enabledFilters={editType === 'create' ? createFilters : updateFilters}\n          value={tagInfo}\n          onChange={setTagInfo}\n        />\n      </DraggableModal>\n    </DraggableModalProvider>\n  );\n};\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { Button, Input, Select } from 'antd';\nimport { flatTree } from 'src/utils/mixs';\nimport { useQuery } from 'src/utils/hooks';\nimport { useHistory } from 'react-router-dom';\n\nimport CreateTag from './CreateTag';\nimport SearchTag from './SearchTag';\nimport EditModal from './EditModal';\n\nimport dataService from 'src/services/datas';\nimport './style.sass';\n\nconst { Option } = Select;\nconst { Search } = Input;\n\nconst options = [\n  { name: '名称', value: 'NAME' },\n  { name: '编号', value: 'CODE' }\n];\n\nexport default () => {\n  const [tags, setTags] = useState([]);\n  const [editType, setEditType] = useState(null);\n  const [seatchType, setSearchType] = useState('NAME');\n  const [searchResult, setSearchResult] = useState([]);\n\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [modalShow, setModalShow] = useState(false);\n\n  const history = useHistory();\n  let query = useQuery();\n  let type = query.get('type');\n\n  const getAllSamples = useCallback(async () => {\n    let tags = await dataService.getAllLabel();\n    let flatedlabels = flatTree(tags, true);\n    flatedlabels.forEach(tag => {\n      let children = tag.children;\n      tag.value = tag.code + '/' + tag.id;\n      tag.label = tag.title;\n      tag.key = tag.id;\n      tag.children = children.length ? children : null;\n    });\n    setTags(tags);\n  }, []);\n\n  const searchSampleTag = useCallback(\n    async value => {\n      let searchResult = await dataService.searchLabel(seatchType, value);\n      setSearchResult(searchResult);\n      history.push('/app/data/tag-samples?type=search');\n    },\n    [history, seatchType]\n  );\n\n  const onClickUpdate = useCallback(() => {\n    setModalShow(true);\n    setEditType('update');\n  }, []);\n\n  const onClickCreate = useCallback(() => {\n    setModalShow(true);\n    setEditType('create');\n  }, []);\n\n  useEffect(() => {\n    getAllSamples();\n  }, [getAllSamples]);\n\n  return (\n    <>\n      <div className=\"label-top-tools\">\n        <div>\n          <Button\n            className=\"tag-create-btn\"\n            type=\"primary\"\n            onClick={onClickCreate}\n            disabled={!selectedTag || type === 'search'}>\n            新增\n          </Button>\n          <Button className=\"tag-edit-btn\" type=\"primary\" onClick={onClickUpdate} disabled={!selectedTag}>\n            编辑\n          </Button>\n        </div>\n        <Input.Group compact className=\"input-group\">\n          <Select value={seatchType} onChange={type => setSearchType(type)}>\n            {options.map(options => (\n              <Option value={options.value} key={options.value}>\n                {options.name}\n              </Option>\n            ))}\n          </Select>\n          <Search\n            className=\"sample-tag-search\"\n            placeholder=\"请输入\"\n            allowClear\n            onSearch={value => {\n              setSelectedTag(null);\n              searchSampleTag(value);\n            }}\n          />\n        </Input.Group>\n      </div>\n      <EditModal\n        modalShow={modalShow}\n        setModalShow={setModalShow}\n        selectedTag={selectedTag}\n        setSelectedTag={setSelectedTag}\n        editType={editType}\n        getAllSamples={getAllSamples}\n      />\n      {type === 'search' ? (\n        <SearchTag searchResult={searchResult} selectedTag={selectedTag} setSelectedTag={setSelectedTag} />\n      ) : (\n        <CreateTag setSelectedTag={setSelectedTag} tags={tags} />\n      )}\n    </>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { List, Button, Card } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nexport default ({ tags, loading }) => {\n  const history = useHistory();\n\n  const goBack = useCallback(() => {\n    history.push('/app/data/tag-regions');\n  }, [history]);\n\n  return (\n    <Card className=\"region-tag-card\">\n      <List\n        className=\"serach-result-list\"\n        dataSource={tags}\n        itemLayout=\"horizontal\"\n        loading={loading}\n        footer={\n          <Button className=\"back-btn\" type=\"primary\" onClick={goBack}>\n            返回列表\n          </Button>\n        }\n        renderItem={item => (\n          <List.Item>\n            <List.Item.Meta title={item.fullPathTitle} />\n          </List.Item>\n        )}\n      />\n    </Card>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Cascader } from 'antd';\nimport { flatTree } from 'src/utils/mixs';\n\nimport toolsService from 'src/services/tools';\n\nasync function getRegion(code) {\n  let [region, children] = await Promise.all([toolsService.getRegion(code), toolsService.getDescendant(code)]);\n  region.children = children;\n  flatTree([region]).forEach(n => {\n    n.label = n.title;\n  });\n  return [region];\n}\n\nasync function getDescendant(code) {\n  let region = await toolsService.getDescendant(code);\n  flatTree(region).forEach(n => {\n    n.label = n.title;\n  });\n  return region;\n}\n\n// Just show the latest item.\nconst displayRender = label => {\n  return label[label.length - 1];\n};\n\nexport default () => {\n  const [region, setRegion] = useState([]);\n\n  // initial region picker\n  useEffect(() => {\n    const loadRegion = async code => {\n      const loadFn = code === 'WORLD' ? getDescendant : getRegion;\n      const region = await loadFn(code);\n      setRegion(region);\n    };\n\n    const code = 'WORLD';\n    loadRegion(code);\n  }, []);\n\n  return (\n    <div className=\"region-tag-background\">\n      <Cascader\n        className=\"region-tag-cascader\"\n        popupClassName=\"region-tag-menu\"\n        popupVisible=\"true\"\n        options={region}\n        expandTrigger=\"hover\"\n        displayRender={displayRender}\n      />\n    </div>\n  );\n};\n","import React, { useState, useCallback } from 'react';\nimport { Input, Select } from 'antd';\nimport { useQuery } from 'src/utils/hooks';\nimport { useHistory } from 'react-router-dom';\n\nimport SearchResult from './SearchResult';\nimport RegionCascader from './RegionCascader';\n\nimport dataService from 'src/services/datas';\nimport './style.sass';\n\nconst { Option } = Select;\nconst { Search } = Input;\n\nconst options = [\n  { name: '名称', value: 'NAME' },\n  { name: '编号', value: 'CODE' }\n];\n\nexport default () => {\n  const [tags, setTags] = useState([]);\n  const [searchType, setSearchType] = useState('NAME');\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n  let query = useQuery();\n  let type = query.get('type');\n\n  const searchRegion = useCallback(\n    async value => {\n      setLoading(true);\n      try {\n        await dataService.searchRegion(searchType, value).then(tags => setTags(tags));\n        history.push('/app/data/tag-regions?type=search');\n      } finally {\n        setLoading(false);\n      }\n    },\n    [searchType, history]\n  );\n\n  return (\n    <>\n      <div className=\"region-tag-tools\">\n        <Input.Group className=\"region-tag-search\" compact>\n          <Select\n            value={searchType}\n            onChange={type => {\n              setSearchType(type);\n            }}>\n            {options.map(options => (\n              <Option value={options.value} key={options.value}>\n                {options.name}\n              </Option>\n            ))}\n          </Select>\n          <Search className=\"search-input\" placeholder=\"请输入\" allowClear onSearch={value => searchRegion(value)} />\n        </Input.Group>\n      </div>\n      {type === 'search' ? <SearchResult tags={tags} loading={loading} /> : <RegionCascader />}\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport {\n  Table,\n  Button,\n  Card,\n  Modal,\n  message,\n  Timeline,\n  Popconfirm\n} from 'antd';\nimport { FileAddOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport sampleService from 'src/services/samples';\nimport moment from 'moment';\n\nconst { Column } = Table;\n\nconst FileList = ({ files, fetchFileList, loading, setLoading }) => {\n  const [modalShow, setModalShow] = useState(false);\n  const [deleteIds, setDeleteIds] = useState([]);\n  const [changeLogs, setChangeLogs] = useState([]);\n\n  // 删除文件\n  const deleteFile = async function (id) {\n    try {\n      setLoading(true);\n      await sampleService.deleteFile(id ? [id] : deleteIds);\n      message.success('删除成功');\n      fetchFileList();\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  //获取文件操作记录\n  const queryChangelogs = async function (id) {\n    try {\n      let logs = await sampleService.queryChangeLogs(id, 'SAMPLE_FILE');\n      setChangeLogs(logs);\n      setModalShow(true);\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  return (\n    <>\n      <Card className=\"sample-file-card\">\n        <span>\n          <Link to=\"/app/sample-file?type=info\">\n            <Button type=\"primary\">\n              <FileAddOutlined />\n              新增文件\n            </Button>\n          </Link>\n          <Button\n            className=\"file-list-delete-btn\"\n            disabled={deleteIds.length === 0}\n            onClick={() => {\n              deleteFile();\n            }}\n          >\n            <DeleteOutlined />\n            批量删除\n          </Button>\n        </span>\n\n        <Table\n          size=\"small\"\n          className=\"sample-file-table\"\n          dataSource={files}\n          rowKey={files => files.id}\n          pagination={{\n            showTotal: () => `共${files.length}条`,\n            showSizeChanger: true,\n            defaultPageSize: 30\n          }}\n          rowSelection={{ setDeleteIds, onChange: setDeleteIds }}\n          loading={loading}\n        >\n          <Column\n            title=\"ID\"\n            dataIndex=\"id\"\n            key=\"id\"\n            render={(text, item) => (\n              <Link to={`/app/sample-file?type=map&id=${item.id}`}>{text}</Link>\n            )}\n          />\n          <Column\n            className=\"file-list-column-fileName\"\n            title=\"文件名称\"\n            dataIndex=\"fileName\"\n            key=\"fileName\"\n          />\n          <Column title=\"影像时间\" dataIndex=\"imageTime\" key=\"imageTime\" />\n          <Column title=\"上传时间\" dataIndex=\"uploadTime\" key=\"uploadTime\" />\n          <Column title=\"上传用户\" dataIndex=\"uploader\" key=\"uploader\" />\n          <Column\n            title=\"操作\"\n            key=\"action\"\n            render={(text, item) => (\n              <>\n                {/* <Link to={`/app/sample-file?type=info&id=${item.id}`}>\n                  <Button type=\"link\">编辑</Button>\n                </Link> */}\n                <Button\n                  type=\"link\"\n                  onClick={() => {\n                    queryChangelogs(item.id);\n                  }}\n                >\n                  变更记录\n                </Button>\n                <Popconfirm\n                  title=\"确认删除?\"\n                  onConfirm={() => {\n                    deleteFile(item.id);\n                  }}\n                  okText=\"删除\"\n                  cancelText=\"取消\"\n                >\n                  <Button type=\"link\">删除</Button>\n                </Popconfirm>\n              </>\n            )}\n          />\n        </Table>\n      </Card>\n      <Modal\n        width={450}\n        title=\"详情\"\n        visible={modalShow}\n        onCancel={() => {\n          setModalShow(false);\n        }}\n        footer={[\n          <Button\n            key=\"submit\"\n            type=\"primary\"\n            onClick={() => setModalShow(false)}\n          >\n            确认\n          </Button>\n        ]}\n      >\n        <Timeline>\n          {changeLogs.length < 1 && <span>暂无操作记录</span>}\n          {changeLogs.map(l => (\n            <Timeline.Item key={l.time}>\n              <span className=\"operation-record-user\">{l.user}</span>\n              <span>{l.description}</span> <br />\n              <span>{moment(l.time).format('YYYY-HH-MM hh:mm:ss')}</span>\n            </Timeline.Item>\n          ))}\n        </Timeline>\n      </Modal>\n    </>\n  );\n};\n\nexport default FileList;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Form, Card, Button, Input, DatePicker, message, Table } from 'antd';\nimport GroundObjectTags from 'src/components/GroundObjectTags';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { get, set, remove } from 'src/utils/ls';\nimport { fileReadAsText } from 'src/utils/file-reader';\nimport sampleService from 'src/services/samples';\nimport moment from 'moment';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 4 }\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 18 }\n  }\n};\nconst { Column } = Table;\n\nconst FileInfo = ({ file, fetchFileList }) => {\n  const { headerNav } = useGlobalContext();\n  const [fileInfo, setFileInfo] = useState(file);\n  const history = useHistory();\n  const { mount, unMount } = headerNav;\n\n  const tagMapper = useMemo(() => {\n    let mapper = fileInfo.tagMapper || {};\n    return Object.keys(mapper).map(k => ({\n      tag: Number(k),\n      mapper: mapper[k]\n    }));\n  }, [fileInfo]);\n\n  const goBack = () => {\n    history.push('/app/sample-file?type=list');\n  };\n\n  const updateFileInfo = async function () {\n    try {\n      await sampleService.updateFile(fileInfo);\n      fetchFileList();\n      remove('file-info');\n      message.success('提交成功~');\n      goBack();\n    } catch (e) {\n      message.error(e.message ? e.message : '服务器未知错误');\n    }\n  };\n\n  // 预处理选中的文件\n  const onSelectFile = async function (event) {\n    let geojson = await fileReadAsText(event);\n    if (JSON.parse(geojson[0].text).features) {\n      uploadFile(geojson[0].text);\n    } else {\n      message.error('请使用正确的 geojson 格式！');\n    }\n  };\n\n  //post json，获取 tagMapper，fileId等 返回值\n  const uploadFile = async function (data) {\n    try {\n      let file = await sampleService.uploadFile(data);\n      setFileInfo(file);\n      set('file-info', JSON.stringify(file));\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  const cancel = () => {\n    remove('file-info');\n    goBack();\n  };\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: '样本上传',\n          key: '/app/sample-file?type=list'\n        },\n        {\n          name: '新增文件',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    let fileInfo = JSON.parse(get('file-info'));\n    if (fileInfo) {\n      setFileInfo(fileInfo);\n    }\n  }, []);\n\n  useEffect(() => {\n    file.id && setFileInfo(file);\n  }, [file]);\n\n  return (\n    <Card className=\"file-info-card\">\n      <Form {...formItemLayout}>\n        <Form.Item label=\"文件选择\" required=\"true\">\n          <Button type=\"primary\" ghost disabled={!!fileInfo.id}>\n            <UploadOutlined />\n            <label htmlFor=\"file\" className=\"input-file-label\">\n              上传标注文件\n            </label>\n          </Button>\n          <input\n            className=\"input-file\"\n            name=\"file\"\n            id=\"file\"\n            type=\"file\"\n            accept=\".geojson\"\n            onChange={onSelectFile}\n          />\n        </Form.Item>\n        <Form.Item label=\"文件名称\" required=\"true\">\n          <Input\n            className=\"form-item\"\n            placeholder=\"请输入\"\n            value={fileInfo.fileName}\n            onChange={e => {\n              setFileInfo({ ...fileInfo, fileName: e.target.value });\n            }}\n          />\n        </Form.Item>\n\n        <Form.Item label=\"影像时间\" required=\"true\">\n          <DatePicker\n            className=\"form-item\"\n            value={fileInfo.imageTime ? moment(fileInfo.imageTime) : null}\n            onChange={t => {\n              setFileInfo({ ...fileInfo, imageTime: t.format().slice(0, 19) });\n            }}\n          />\n        </Form.Item>\n        <Form.Item label=\"操作人员\" required=\"true\">\n          <Input\n            className=\"form-item\"\n            placeholder=\"请输入您的姓名\"\n            disabled={file.uploader !== undefined}\n            value={fileInfo.uploader}\n            onChange={e => {\n              setFileInfo({ ...fileInfo, uploader: e.target.value });\n            }}\n          />\n        </Form.Item>\n\n        <Form.Item label=\"映射关系\">\n          {/* 表格组件 */}\n          <Table\n            dataSource={tagMapper}\n            rowKey={tagMapper => tagMapper.tag}\n            className=\"tag-table\"\n            bordered\n            pagination={{\n              defaultPageSize: 30,\n              showSizeChanger: true\n            }}\n          >\n            <Column title=\"标签\" dataIndex=\"tag\" key=\"tag\" />\n            <Column\n              title=\"地物标签\"\n              dataIndex=\"crop\"\n              key=\"crop\"\n              render={(t, r) => {\n                let tid = r.mapper && r.mapper.id;\n\n                return (\n                  <GroundObjectTags\n                    value={tid}\n                    onChange={val => {\n                      fileInfo.tagMapper[r.tag] = {\n                        id: val,\n                        parentId: null,\n                        name: null,\n                        children: null,\n                        code: null\n                      };\n                      setFileInfo({ ...fileInfo });\n                    }}\n                    changeOnSelect\n                  />\n                );\n              }}\n            />\n          </Table>\n        </Form.Item>\n        <Form.Item\n          wrapperCol={{\n            sm: { span: 14, offset: 4 }\n          }}\n          required=\"true\"\n        >\n          <Button type=\"primary\" onClick={updateFileInfo}>\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={cancel}>\n            取消\n          </Button>\n        </Form.Item>\n      </Form>\n    </Card>\n  );\n};\n\nexport default FileInfo;\n","import { useRef, useEffect } from 'react';\nimport moment from 'moment';\nimport { useGlobalContext } from 'src/App/globalContext';\n\nexport function transferPolygon(geometry) {\n  return geometry.type === 'MultiPolygon'\n    ? {\n        type: 'Polygon',\n        coordinates: geometry.coordinates[0]\n      }\n    : geometry;\n}\n\nfunction getEditableSamplesFactor(tagColors) {\n  return samples =>\n    samples.map(s => {\n      let tgs = tagColors.find(tc => tc.tagCode === (s.tag && s.tag.code));\n      let c = tgs && tgs.settings && tgs.settings.borderColor;\n      let color = c ? `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})` : '#fdd835';\n\n      return {\n        ...s,\n        data: {\n          type: 'Feature',\n          properties: {\n            id: s.id\n          },\n          geometry: transferPolygon(s.shape)\n        },\n        properties: {\n          样本id: s.id,\n          标记人: s.creator,\n          状态: s.status,\n          地物标签: s.tagDescription,\n          影像时间: moment(s.imageTime).format('YYYY-MM-DD')\n        },\n        style: {\n          color\n        }\n      };\n    });\n}\n\nexport function useEditableSamples() {\n  const { account } = useGlobalContext();\n  const { tagColors } = account;\n  const getEditableSamples = useRef(getEditableSamplesFactor(tagColors));\n\n  useEffect(() => {\n    getEditableSamples.current = getEditableSamplesFactor(tagColors);\n  }, [tagColors]);\n\n  return getEditableSamples.current;\n}\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport { useQuery } from 'src/utils/hooks';\nimport { TMap } from 'garden';\nimport sampleService from 'src/services/samples';\nimport { useEditableSamples } from '../utils';\n\nconst { EditablePopupedGeoJSON, BoundsFit } = TMap;\n\nconst FileView = () => {\n  const query = useQuery();\n  const history = useHistory();\n  const getEditableSamples = useEditableSamples();\n  const { headerNav } = useGlobalContext();\n\n  const id = query.get('id');\n  const { mount, unMount } = headerNav;\n\n  const [samples, setSamples] = useState([]);\n  const shapes = useMemo(() => samples.map(s => s.data), [samples]);\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: '样本上传',\n          key: '/app/sample-file?type=list'\n        },\n        {\n          name: '预览',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    (async function () {\n      let _samples = await sampleService.previewSampleTags(id);\n      setSamples(getEditableSamples(_samples));\n    })();\n  }, [getEditableSamples, id]);\n\n  return (\n    <TMap className=\"file-tmap\">\n      <BoundsFit shapes={shapes}></BoundsFit>\n      {samples.map(s => (\n        <EditablePopupedGeoJSON\n          key={s.id}\n          data={s.data}\n          properties={s.properties}\n          style={s.style}\n        />\n      ))}\n    </TMap>\n  );\n};\n\nexport default FileView;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useQuery } from 'src/utils/hooks';\nimport Filelist from './FileList';\nimport FileInfo from './FileInfo';\nimport FileView from './FileView';\nimport './style.sass';\nimport sampleService from 'src/services/samples';\nimport { message } from 'antd';\n\nconst SimpleFileManagement = () => {\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchFileList = useCallback(async () => {\n    try {\n      setLoading(true);\n      let fileList = await sampleService.queryFileList();\n      setFiles(fileList);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  let query = useQuery();\n  let type = query.get('type');\n  let fileId = query.get('id');\n\n  const file = useMemo(() => {\n    return files.find(f => f.id === Number(fileId)) || {};\n  }, [files, fileId]);\n\n  useEffect(() => {\n    fetchFileList();\n  }, [fetchFileList]);\n\n  return type === 'info' ? (\n    <FileInfo file={file} fetchFileList={fetchFileList} />\n  ) : type === 'map' ? (\n    <FileView />\n  ) : (\n    <Filelist\n      files={files}\n      fetchFileList={fetchFileList}\n      loading={loading}\n      setLoading={setLoading}\n    />\n  );\n};\n\nexport default SimpleFileManagement;\n","import React, { useMemo, useState, useCallback } from 'react';\nimport { Card, Button, message } from 'antd';\nimport SkyFilter from 'src/components/SkyFilter';\nimport sampleService from 'src/services/samples';\n\nconst enabledFilters = [\n  {\n    filterType: 'DATES',\n    valueKey: 'dates'\n  },\n  {\n    filterType: 'SPACE',\n    valueKey: 'shape',\n    required: true\n  },\n  {\n    filterType: 'MARK_TAG',\n    valueKey: 'markTag',\n    changeOnSelect: true,\n    commonlyUsedEnable: true\n  }\n];\n\nconst Filter = ({ setSamples }) => {\n  const [filters, setFilters] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const queryEnable = useMemo(() => {\n    return filters.shape && filters.shape.value;\n  }, [filters]);\n\n  const querySamples = useCallback(async () => {\n    setLoading(true);\n    let [beginTime, endTime] = filters.dates\n      ? filters.dates.map(d => d.format().slice(0, 19))\n      : [];\n    let space = { ...filters.shape };\n    if (space.type === 'TILE') {\n      space.value = JSON.stringify(\n        space.value.split(';').filter(str => str.length)\n      );\n    }\n\n    let condition = {\n      beginTime,\n      endTime,\n      tagIds: filters.markTag ? [filters.markTag] : null,\n      shape: space\n    };\n\n    try {\n      let samples = await sampleService.querySamples(condition);\n      if (samples.length === 0) {\n        return message.info('未查询到符合搜索条件的样本！');\n      }\n      setSamples(samples);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters, setSamples]);\n\n  return (\n    <Card className=\"sample-query-filters\">\n      <SkyFilter\n        value={filters}\n        enabledFilters={enabledFilters}\n        onChange={setFilters}\n        layout=\"vertical\"\n      />\n      <Button\n        type=\"primary\"\n        block\n        disabled={!queryEnable}\n        onClick={querySamples}\n        loading={loading}\n      >\n        查询\n      </Button>\n    </Card>\n  );\n};\n\nexport default Filter;\n","import React, { useState, useMemo } from 'react';\nimport { TMap } from '@terraqt/garden';\nimport Filter from './Filter';\nimport { useEditableSamples } from '../utils';\nimport './style.sass';\n\nconst { Toolbar, EditablePopupedGeoJSON, BoundsFit } = TMap;\n\nconst Samples = () => {\n  const [samples, setSamples] = useState([]);\n  const getEditableSamples = useEditableSamples();\n\n  const parsedSamples = useMemo(() => {\n    return getEditableSamples(samples);\n  }, [getEditableSamples, samples]);\n\n  const shapes = useMemo(() => parsedSamples.map(s => s.data), [parsedSamples]);\n\n  return (\n    <div className=\"sample-query-container\">\n      <Filter setSamples={setSamples} />\n      <TMap className=\"sample-map\">\n        <Toolbar options={{enables: []}} />\n\n        {parsedSamples.map(s => (\n          <EditablePopupedGeoJSON\n            key={s.id}\n            data={s.data}\n            properties={s.properties}\n            style={s.style}\n          />\n        ))}\n\n        <BoundsFit shapes={shapes}></BoundsFit>\n      </TMap>\n    </div>\n  );\n};\n\nexport default Samples;\n","export const TASK_STATUS = new Map([\n  ['NORMAL', '进行中'],\n  ['ARCHIVED', '已归档'],\n])\n\nexport const TASK_MODE = new Map([\n  ['NORMAL', '普通'],\n  ['RANGE', '区间'],\n])\n\nexport const IMAGE_SOURCE = new Map([\n  ['SATELLITE_IMAGE', '卫星'],\n  ['FIELD_OPERATION_IMAGE', '外业'],\n])","import React, { useCallback } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Button, Form, Radio } from 'antd';\nimport { TASK_STATUS } from '../utils/data-map';\nimport service from 'src/services/samples';\n\nconst Header = ({ activeType, onTypeChange, history }) => {\n  const onChange = useCallback((e) => {\n    const type = e.target.value\n    onTypeChange(type)\n  }, [onTypeChange])\n  \n  const checkCreateTask = useCallback(async () => {\n    try {\n      await service.checkCreateTask()\n      history.push('/app/sample-task/create')\n    } catch (e) {}\n  }, [history])\n  \n  return <Form.Item>\n    <div className=\"list-header\">\n      <Button type=\"primary\" onClick={checkCreateTask}>新建任务</Button>\n      <div>\n        <Radio.Group onChange={onChange} value={activeType}>\n          { [...TASK_STATUS].map(([value, label]) => <Radio.Button key={value} value={value}>{label}</Radio.Button>) }\n        </Radio.Group>\n      </div>\n    </div>\n  </Form.Item>\n};\n\nexport default withRouter(Header);\n","import React, { useMemo } from 'react';\nimport { Table } from 'antd';\n\nimport '../style.sass';\n\nexport default props => {\n  const { dataSource, loading, columns: _columns, pagination = false, rowKey = 'id' } = props;\n\n  const TABLE_COLUMNS = new Map([\n    // ['ellipsis-text', genEllipsisText],\n  ]);\n\n  const columns = useMemo(\n    () =>\n      _columns.map(item => {\n        const { type, render: _render } = item;\n\n        const render = _render || TABLE_COLUMNS.get(type) || (value => value || '-');\n\n        return {\n          ...item,\n          render\n        };\n      }),\n    [TABLE_COLUMNS, _columns]\n  );\n\n  const tableProps = useMemo(() => {\n    return Object.assign(\n      {},\n      { size: 'small' },\n      {\n        columns,\n        dataSource,\n        pagination,\n        loading,\n        rowKey\n      }\n    );\n  }, [columns, dataSource, loading, pagination, rowKey]);\n\n  return <Table {...tableProps} />;\n};\n","import React, { useMemo } from 'react';\nimport { Button, Progress, Popover, Popconfirm } from 'antd';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nimport getTableFilter from 'src/components/TableFilter';\nimport Table from '../components/Table';\nimport { TASK_MODE } from '../utils/data-map';\n\nconst TaskList = props => {\n  const { tasks, loading, onClickTaskInfo, setUpdateTask, deleteTask, archiveTask } = props;\n\n  const columns = useMemo(\n    () => [\n      {\n        title: '任务名称',\n        dataIndex: 'name',\n        ...getTableFilter('name')\n      },\n      {\n        title: '任务信息',\n        dataIndex: 'id',\n        render: (t, info) => (\n          <Button type=\"link\" onClick={() => onClickTaskInfo(t)}>\n            查看\n          </Button>\n        )\n      },\n      {\n        title: '总样本数量',\n        dataIndex: 'sampleStats',\n        render: sampleStats => `${sampleStats.marketCount}/${sampleStats.targetCount}`\n      },\n      {\n        title: '待审核',\n        render: data => data.sampleStats.unauditedCount || '-'\n      },\n      {\n        title: '任务模式',\n        dataIndex: 'mode',\n        render: mode => TASK_MODE.get(mode)\n      },\n      {\n        title: '创建时间',\n        dataIndex: 'createdAt',\n        render: createdAt => moment(createdAt).format('YYYY-MM-DD')\n      },\n      {\n        title: '底图处理',\n        render: data =>\n          data.totalCount ? (\n            <Popover\n              content={\n                <span>\n                  {data.finishedCount} / {data.totalCount}\n                </span>\n              }>\n              <Progress percent={Math.floor((data.finishedCount / data.totalCount) * 100)} />\n            </Popover>\n          ) : (\n            '-'\n          )\n      },\n      {\n        title: '操作',\n        render: (text, task) => (\n          <>\n            {task.allowOperations.includes('AUDIT') && (\n              <Link to={`/app/sample-task/audit/${task.id}?taskName=${task.name}`}>\n                <Button type=\"link\">审核</Button>\n              </Link>\n            )}\n\n            {task.allowOperations.includes('MARK') && (\n              <Link to={`/app/sample-task/mark/${task.id}?taskName=${task.name}`}>\n                <Button type=\"link\">标注</Button>\n              </Link>\n            )}\n\n            {task.allowOperations.includes('EDIT') && (\n              <Button type=\"link\" onClick={() => setUpdateTask(task)}>\n                编辑\n              </Button>\n            )}\n\n            {task.allowOperations.includes('ARCHIVED') && (\n              <Popconfirm\n                title=\"确认归档?\"\n                onConfirm={() => {\n                  archiveTask(task.id);\n                }}\n                okText=\"归档\"\n                cancelText=\"取消\">\n                <Button type=\"link\">归档</Button>\n              </Popconfirm>\n            )}\n\n            {task.allowOperations.includes('DELETE') && (\n              <Popconfirm\n                title=\"确认删除?\"\n                onConfirm={() => {\n                  deleteTask(task.id);\n                }}\n                okText=\"删除\"\n                cancelText=\"取消\">\n                <Button type=\"link\">删除</Button>\n              </Popconfirm>\n            )}\n          </>\n        )\n      }\n    ],\n    [deleteTask, archiveTask, onClickTaskInfo, setUpdateTask]\n  );\n\n  return (\n    <Table\n      dataSource={tasks}\n      pagination={{\n        showTotal: total => `共${total}条`,\n        showSizeChanger: true,\n        defaultPageSize: 30\n      }}\n      loading={loading}\n      columns={columns}\n    />\n  );\n};\n\nexport default TaskList;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport {\n  Modal,\n  message\n} from 'antd';\nimport moment from 'moment';\nimport SkyFilter from 'src/components/SkyFilter';\nimport service from 'src/services/samples';\n\nconst useTaskInfo = taskId => {\n  const [taskInfo, setTaskInfo] = useState({});\n\n  useEffect(() => {\n    (async () => {\n      if (!taskId) {\n        return setTaskInfo({});\n      }\n      let info = await service.queryTaskInfoById(taskId);\n      setTaskInfo(info);\n    })();\n  }, [taskId]);\n\n  return [taskInfo, setTaskInfo];\n};\n\nexport default function({ task, setTask, fetchTasks }) {\n  const [taskInfo] = useTaskInfo(task && task.id);\n  const [updateTask, setUpdateTask] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        filterType: 'TIME_RANGER',\n        valueKey: 'timeRange',\n        required: true\n      },\n      {\n        filterType: 'INPUT',\n        valueKey: 'name',\n        label: '任务名称',\n        required: true\n      }\n    ],\n    []\n  );\n\n  const updateMarkTask = useCallback(\n    async (task, updateTask, taskInfo) => {\n      try {\n        setLoading(true);\n        await service.updateTask(\n          task.id,\n          updateTask.name,\n          {\n            beginTime: updateTask.timeRange.dates[0].format().slice(0, 19),\n            endTime: updateTask.timeRange.dates[1].format().slice(0, 19),\n            includeMonths: updateTask.includeMonths\n          },\n          taskInfo.dataType,\n          updateTask.waveAggregations ? updateTask.waveAggregations.map(id => ({ id })) : updateTask.waveAggregations\n        );\n        setTask(null);\n        fetchTasks();\n        message.success('修改成功!');\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [fetchTasks, setTask]\n  );\n\n  const disableUpdateButton = useMemo(() => {\n    return (\n      !updateTask.timeRange ||\n      !updateTask.timeRange.dates.length ||\n      !updateTask.name \n    );\n  }, [updateTask.timeRange, updateTask.name]);\n\n  useEffect(() => {\n    if (task && Object.keys(taskInfo).length) {\n      const _task = {\n        timeRange: {\n          dates: [\n            moment(taskInfo.timeRange.beginTime),\n            moment(taskInfo.timeRange.endTime)\n          ],\n          includeMonths: taskInfo.timeRange.includeMonths\n        },\n        waveAggregations: taskInfo.waveAggregations ? taskInfo.waveAggregations.map(w => w.id) : taskInfo.waveAggregations,\n        name: task.name\n      };\n\n      setUpdateTask(_task);\n    }\n  }, [task, taskInfo]);\n\n  return (\n    <Modal\n      title=\"编辑\"\n      visible={!!task}\n      maskClosable={false}\n      onCancel={() => {\n        setTask(null);\n      }}\n      okButtonProps={{ disabled: disableUpdateButton }}\n      onOk={() => {\n        updateMarkTask(task, updateTask, taskInfo);\n      }}\n      zIndex={100}\n      confirmLoading={loading}\n    >\n      <SkyFilter\n        onChange={setUpdateTask}\n        value={updateTask}\n        enabledFilters={enabledFilters}\n      />\n    </Modal>\n  );\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { message, Card } from 'antd';\nimport ConditionModal from 'src/components/ConditionModal';\nimport Header from './Header';\nimport Table from './Table';\nimport UpdateModal from './UpdateModal';\nimport sampleService from 'src/services/samples';\n\nconst TaskList = (props) => {\n  const [activeType, setActiveType] = useState('NORMAL');\n  const [updateTask, setUpdateTask] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [infos, setInfos] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [conditionModalShow, setConditionModalShow] = useState(false);\n  const [conditionModalLoading, setConditionModalLoading] = useState(false);\n\n  const fetchTasks = useCallback(async (_activeType) => {\n    const type = _activeType || activeType\n    try {\n      setLoading(true);\n      const tasks = await sampleService.getTaskList(type)\n      setTasks(tasks);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [activeType]);\n\n  const queryTaskInfo = useCallback(async id => {\n    if (!id) return setInfos(null);\n\n    let info = await sampleService.queryTaskInfoById(id);\n    setConditionModalLoading(false);\n    setInfos({\n      ...info,\n      waveAggregations: info.waveAggregations\n        ? info.waveAggregations.map(w => w.description)\n        : null,\n      timeRange: {\n        beginTime: info.timeRange.beginTime.slice(0, 10),\n        endTime: info.timeRange.endTime.slice(0, 10),\n        includeMonths: info.timeRange.includeMonths.reduce((a, c) => {\n          return `${a}${c}月、`;\n        }, '')\n      }\n    });\n  }, []);\n\n  const onClickTaskInfo = useCallback(async id => {\n    setConditionModalLoading(true);\n    setConditionModalShow(true);\n    try {\n      await queryTaskInfo(id);\n    } catch (err) {\n      setConditionModalShow(false);\n    }\n  }, [queryTaskInfo])\n\n  const onCancel = useCallback(() => {\n    setInfos({});\n    setConditionModalShow(false);\n  }, [])\n\n  const deleteTask = useCallback(async taskId => {\n    await sampleService.deleteTask(taskId);\n    fetchTasks();\n  }, [fetchTasks]);\n\n  const archiveTask = useCallback(async taskId => {\n    await sampleService.archiveTask(taskId);\n      fetchTasks();\n  }, [fetchTasks]);\n\n  const onTypeChange = useCallback(async activeType => {\n    setActiveType(activeType)\n    fetchTasks(activeType)\n  }, [fetchTasks]);\n\n  useEffect(() => {\n    fetchTasks()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className=\"sample-task-list-container\">\n      <Card>\n        <Header activeType={activeType} onTypeChange={onTypeChange} />\n        <Table\n          tasks={tasks}\n          loading={loading} \n          onClickTaskInfo={onClickTaskInfo}\n          setUpdateTask={setUpdateTask}\n          deleteTask={deleteTask}\n          archiveTask={archiveTask}\n        />\n      </Card>\n\n      <ConditionModal\n        infos={infos}\n        onCancel={onCancel}\n        conditionModalShow={conditionModalShow}\n        conditionModalLoading={conditionModalLoading}\n      />\n\n      <UpdateModal\n        task={updateTask}\n        setTask={setUpdateTask}\n        fetchTasks={fetchTasks}\n      />\n    </div>\n  );\n};\n\nexport default TaskList;\n","import moment from 'moment';\n\nexport const createSampleTask = (task, tileList) => {\n  let { name, description, mode, timeRange, shape, satellite, waveAggregations, imageSource } = task\n  const { dates: [ beginTime, endTime ], includeMonths } = timeRange\n  \n  if (shape.type === 'TILE') {\n    shape = {\n      ...shape,\n      value: JSON.stringify(shape.value.split(';'))\n    }\n  }\n  return {\n    name,\n    description,\n    mode,\n    tileList,\n    condition: {\n      timeRange: {\n        beginTime: beginTime && beginTime.format('YYYY-MM-DDTHH:mm:ss'),\n        endTime: endTime && endTime.format('YYYY-MM-DDTHH:mm:ss'),\n        includeMonths\n      },\n      shape,\n      dataType: satellite,\n      waveAggregations: waveAggregations.map(id => ({ id })),\n      imageSource\n    }\n  }\n}\n\nexport const createStateTask = (sampleTask) => {\n  const { id, name, description, mode, condition: { timeRange, shape, dataType, waveAggregations, imageSource } } = sampleTask\n\n  const { beginTime, endTime, includeMonths } = timeRange\n\n  return {\n    id,\n    name,\n    description,\n    mode,\n    timeRange: {\n      beginTime: moment(beginTime),\n      endTime: moment(endTime),\n      includeMonths\n    },\n    shape: {\n      ...shape,\n      value: shape.type === 'SHAPE' ? JSON.parse(shape.value) : shape.value,\n    },\n    satellite: dataType,\n    waveAggregations,\n    imageSource: imageSource === 'GOOGLE_EARTH' ? 'FIELD_OPERATION_IMAGE' : imageSource\n  }\n}\n\nexport const formatTileList = (tileList) => {\n  return tileList.map(item => {\n    return {\n      ...item,\n      shape: JSON.parse(item.shape)\n    }\n  })\n}\n\nexport const mergeTileList = (tileList, tiles) => {\n  return tileList.map(i => {\n    const { shape } = tiles.find(item => item.tile === i.tile)\n    return {\n      ...i,\n      shape: JSON.parse(shape)\n    }\n  })\n}\n\nexport const createFieldOperationData = (fieldOperationData) => {\n  return fieldOperationData.map(item => ({\n    ...item,\n    shape: JSON.parse(item.shape)\n  }))\n}\n\nexport const createFieldOperationParams = (tile, dates) => {\n  const [ beginTime, endTime ] = dates\n  return {\n    shape: {\n      type: 'TILE',\n      value: `[\"${tile}\"]`,\n    },\n    timeRange: {\n      beginTime: beginTime.format('YYYY-MM-DDTHH:mm:ss'),\n      endTime: endTime.format('YYYY-MM-DDTHH:mm:ss'),\n    }\n  }\n}\n\nexport const createHistoryParams = ({tile, historyTagCode, beginTime, endTime}) => {\n  return {\n    shape: {\n      type: 'TILE',\n      value: `[\"${tile}\"]`,\n    },\n    beginTime: beginTime.format('YYYY-MM-DDTHH:mm:ss'),\n    endTime: endTime.format('YYYY-MM-DDTHH:mm:ss'),\n    tagIds: historyTagCode ? [historyTagCode] : []\n  }\n}\n","import React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { Modal, Button } from 'antd';\nimport { cloneDeep } from 'lodash';\n\nimport SkyFilter from 'src/components/SkyFilter';\nimport Table from '../components/Table';\n\nconst { FilterMounter } = SkyFilter;\n\nexport default (props) => {\n  const { visible, onCancel, onOk, item } = props;\n  const [ configs, setConfigs ] = useState([{id: 1}])\n  const title = useMemo(() => item ? `${item.tile} - 设置样本`: '统一设置样本', [item])\n\n  const setData = useCallback((data, index) => {\n    configs[index] = {...configs[index], ...data}\n    setConfigs([...configs])\n  }, [configs])\n\n  const deleteConfig = useCallback((index) => {\n    configs.splice(index, 1)\n    setConfigs([...configs])\n  }, [configs])\n\n  const columns = useMemo(() => {\n    return [\n      {\n        title: '地物标签',\n        dataIndex: 'label',\n        render: (value, data, index) => {\n        return <FilterMounter\n          key=\"label\"\n          filterOptions={{\n            label: ' ',\n            filterType: 'MARK_TAG',\n            valueKey: 'label',\n            required: false,\n            changeOnSelect: true,\n            hideLabel: true\n          }}\n          value={data}\n          onChange={(key, value) =>\n            setData({...data, [key]: value }, index)\n          }\n        />}\n      },\n      {\n        title: '样本总量',\n        dataIndex: 'targetCount',\n        render: (value, data, index) => <FilterMounter\n        key=\"targetCount\"\n        filterOptions={{\n          label: ' ',\n          filterType: 'INPUT',\n          valueKey: 'targetCount',\n          required: false,\n          hideLabel: true\n        }}\n        value={data}\n        onChange={(key, value) =>\n          setData({...data, [key]: value }, index)\n        }\n      />\n      },\n      {\n        title: '操作',\n        render: (value, data, index) => index ? <Button type=\"link\" onClick={() => deleteConfig(index)}>删除</Button> : null\n      },\n    ]\n  }, [deleteConfig, setData])\n\n  const addConfig = useCallback(() => {\n    const _configs = configs.concat([{}])\n    setConfigs(_configs)\n  }, [configs])\n\n  const addBtn = useMemo(() => {\n    return <div className='add-btn' onClick={addConfig}>+ 新增</div>\n  }, [addConfig])\n\n  const onSubmit = useCallback(() => {\n    onOk(configs)\n  }, [configs, onOk])\n\n  useEffect(() => {\n    if(item) {\n      if (item.labelTargets) setConfigs(cloneDeep(item.labelTargets))\n      else setConfigs([{}])\n    } else {\n      setConfigs([{}])\n    }\n  }, [item])\n\n  return (\n    <Modal\n      zIndex={401}\n      title={title}\n      visible={visible}\n      onCancel={onCancel}\n      onOk={onSubmit}\n      wrapClassName=\"tile-config-modal\" >\n      <Table columns={columns} dataSource={configs} />\n      {addBtn}\n    </Modal>\n  );\n};\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport { Form, Button, Tooltip } from 'antd';\nimport { cloneDeep } from 'lodash';\nimport Table from '../components/Table';\nimport TileConfig from './TileConfig';\n\nimport '../style.sass';\n\nconst genTileList = dataSource => {\n  const tileList = cloneDeep(dataSource);\n  return tileList.map(item => {\n    const targetCount = (item.labelTargets || []).reduce((acc, target) => {\n      return acc + parseInt(target.targetCount || 0);\n    }, 0);\n    return {\n      ...item,\n      targetCount\n    };\n  });\n};\n\nconst createLabelList = (labelTargets = []) => {\n  return labelTargets.map((item, index) => (\n    <div className=\"label-target\" key={index}>\n      <span className=\"label\">{item.name}</span>\n      <span className=\"count\">\n        {item.markedCount} / {item.targetCount}\n      </span>{' '}\n    </div>\n  ));\n};\n\nexport default props => {\n  const { dataSource, options, onChange } = props;\n  const [tileList, setTileList] = useState([]);\n  const [curTile, setCurTile] = useState(null);\n  const [tileConfigVisible, setTileConfigVisible] = useState(false);\n\n  const showTileConfig = useCallback((data = null) => {\n    setCurTile(data);\n    setTileConfigVisible(true);\n  }, []);\n\n  const columns = useMemo(() => {\n    const baseColumns = [\n      {\n        title: 'Tile 编号',\n        render: data =>\n          options.editable ? (\n            data.tile\n          ) : (\n            <Button type=\"link\" onClick={() => options.onTileClick(null, data.tile)}>\n              {data.tile}\n            </Button>\n          )\n      },\n      {\n        title: '总样本数量',\n        render: data => {\n          return options.editable ? (\n            data.targetCount\n          ) : (\n            <Tooltip placement=\"top\" title={createLabelList(data.labelTargets)}>\n              <span>\n                {data.markedCount} / {data.targetCount}\n              </span>\n            </Tooltip>\n          );\n        }\n      }\n    ];\n    if (options.editable) {\n      baseColumns.push({\n        title: '操作',\n        render: data => {\n          return (\n            <Button type=\"link\" onClick={() => showTileConfig(data)}>\n              编辑\n            </Button>\n          );\n        }\n      });\n    } else {\n      baseColumns.push({\n        title: '待审核',\n        dataIndex: 'unauditedCount'\n      });\n    }\n\n    return baseColumns;\n  }, [options, showTileConfig]);\n\n  const onConfigCancel = useCallback(() => {\n    setCurTile(null);\n    setTileConfigVisible(false);\n  }, []);\n\n  const setConfigs = useCallback(\n    configs => {\n      if (curTile) {\n        const index = tileList.findIndex(item => item.tile === curTile.tile);\n        tileList[index].labelTargets = configs;\n        return tileList;\n      } else {\n        return tileList.map(item => ({\n          ...item,\n          labelTargets: configs\n        }));\n      }\n    },\n    [tileList, curTile]\n  );\n\n  const onConfigOk = useCallback(\n    configs => {\n      const tileList = setConfigs(configs);\n      onChange(tileList);\n      setCurTile(null);\n      setTileConfigVisible(false);\n    },\n    [onChange, setConfigs]\n  );\n\n  useEffect(() => {\n    setTileList(genTileList(dataSource));\n  }, [dataSource]);\n\n  return (\n    <>\n      {options.editable && (\n        <Form.Item>\n          <Button type=\"primary\" onClick={() => showTileConfig()}>\n            统一设置\n          </Button>\n        </Form.Item>\n      )}\n\n      <Table columns={columns} dataSource={tileList} rowKey=\"tile\" />\n      <TileConfig\n        visible={tileConfigVisible}\n        onCancel={onConfigCancel}\n        onOk={onConfigOk}\n        item={curTile}\n      />\n    </>\n  );\n};\n","import React,{ useCallback } from 'react'\nimport { isEmpty } from 'lodash'\nimport SkyFilter from 'src/components/SkyFilter';\nimport TileList from './TileList';\n\nexport default (props) => {\n  const { footer, collection = [], filters, setFilters, width = 400 } = props\n\n  const genCreateForm = useCallback((item) => <SkyFilter\n    enabledFilters={item.form.enabledFilters}\n    layout='inline'\n    onChange={(filters) => setFilters(filters)}\n    value={filters}\n  />, [filters, setFilters])\n\n  return <div className=\"form-collection-container\" style={{ width: `${width}px` }}>\n    <div className=\"collection-list\">\n      { collection.map((item, index) => (\n        !isEmpty(item) && <div className=\"collection-item\" key={index}>\n          { item.title && <div className=\"collection-title\">{item.title}</div> }\n\n          { item.form.type === 'sky-filter' && genCreateForm(item) }\n\n          { item.form.type === 'tile-list' && <TileList options={item.form} dataSource={item.form.dataSource} onChange={item.form.onChange} /> }\n\n        </div> \n      ))}\n    </div>\n    { footer && <div className=\"collection-footer\">\n      {footer}\n    </div> }\n  </div>\n}","import { useReducer, useCallback } from 'react'\nimport effect from './effect'\n\nconst initialState = {\n  task: {\n    imageSource: 'SATELLITE_IMAGE',\n    mode: 'NORMAL'\n  },\n  tileList: [],\n  filters: {},\n  curSample: {},\n  markedSamples: [],\n  historySamples: [],\n  auditSamples: [],\n  fieldOperationData: [],\n  curTile: {},\n  mousePosition: [0, 0],\n}\n\nconst reducer = (state, action) => {\n  const { type, value } = action\n  if (type === 'setTask') {\n    const task = effect(value)\n    return {...state, task: { ...state.task, ...task } }\n  } else if (type === 'setTileList') {\n    return {...state, tileList: value }\n  } else if (type === 'setFilters') {\n    return {...state, filters: { ...state.filters, ...value } }\n  } else if (type === 'setMarkedSamples') {\n    return {...state, markedSamples: value }\n  } else if (type === 'setHistorySamples') {\n    return {...state, historySamples: value }\n  } else if (type === 'setAuditSamples') {\n    return {...state, auditSamples: value }\n  } else if (type === 'setCurSample') {\n    return {...state, curSample: value }\n  } else if (type === 'setFieldOperationData') {\n    return {...state, fieldOperationData: value }\n  } else if (type === 'setCurTile') {\n    return {...state, curTile: value }\n  } else if (type === 'resetFilters') {\n    return {...state, filters: {}, fieldOperationData: [] }\n  } else if (type === 'setMousePosition') {\n    return {...state, mousePosition: value }\n  }\n  \n}\n\nexport default () => {\n  const [state, _dispatch] = useReducer(reducer, initialState)\n  const dispatch = useCallback((type, value) => {\n    _dispatch({type, value})\n  }, [])\n\n  return { taskState: state, taskDispatch: dispatch }\n}","export default (task) => {\n  if (task.mode === 'RANGE') {\n    task.imageSource = 'SATELLITE_IMAGE'\n  }\n\n  if (task.imageSource === 'FIELD_OPERATION_IMAGE') {\n    task.satellite = null\n    task.waveAggregations = []\n  }\n\n  return task\n}","import { useEffect, useCallback } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { cloneDeep } from 'lodash';\n\nimport { useGlobalContext } from 'src/App/globalContext';\n\nexport default ({ name, navList }) => {\n  const history = useHistory();\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    let items = [{\n      name: '样本标注',\n      key: '/app/sample-task'\n    }]\n    \n    if (navList) {\n      items = items.concat(cloneDeep(navList))\n    } else {\n      items = items.concat([{\n        name,\n        key: null\n      }])\n    }\n\n    mount({\n      type: 'breadcrumb',\n      items,\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [unMount, mount, onChange, name, navList]);\n\n  return null\n}","import React, { useState, useMemo, useCallback, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { Button } from 'antd'\nimport { TMap } from '@terraqt/garden'\n\nimport service from 'src/services/samples';\nimport { TASK_MODE, IMAGE_SOURCE } from '../utils/data-map';\nimport { createSampleTask, formatTileList } from '../utils/adapter';\nimport FormCollection from '../FormCollection'\nimport useTaskReducer from '../utils/reducer'\nimport useNav from '../utils/useNav';\n\nconst { BoundsFit, TilePolygon } = TMap\n\nconst Create = (props) => {\n  useNav({ name: '新建任务' });\n  const { taskState, taskDispatch } = useTaskReducer()\n  const { history: { goBack } } = props\n  const [ step, setStep ] = useState(1);\n  const [ loading, setLoading ] = useState(false);\n  const [ nextDisabled, setNextDisabled ] = useState(true);\n\n  const setFilters = useCallback((filters) => {\n    taskDispatch('setTask', filters)\n  }, [taskDispatch])\n\n  const onTileListChange = useCallback((tileList) => {\n    taskDispatch('setTileList', tileList)\n  }, [taskDispatch])\n\n  const getTileList = useCallback(() => {\n    setLoading(true)\n    const { shape } = taskState.task\n    let params = shape\n\n    if (shape.type === 'TILE') {\n      params = {\n        ...shape,\n        value: JSON.stringify(shape.value.split(';'))\n      }\n    }\n    return service.getTileList(params)\n      .then(res => {\n        onTileListChange(formatTileList(res))\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }, [onTileListChange, taskState.task])\n\n  const toStep2 = useCallback(async () => {\n    await getTileList()\n    setStep(2)\n  }, [getTileList])\n  \n  const onSubmit = useCallback(async () => {\n    const sampleTask = createSampleTask(taskState.task, taskState.tileList)\n    await service.createTask(sampleTask)\n    goBack()\n  }, [goBack, taskState.task, taskState.tileList])\n  \n  const footer = useMemo(() => {\n    const MAP = new Map([\n      [1, <>\n        <Button onClick={goBack}>取消</Button>\n        <Button type=\"primary\" onClick={toStep2} loading={loading} disabled={nextDisabled}>下一步</Button>\n      </>],\n      [2, <>\n        <Button onClick={() => setStep(1)}>上一步</Button>\n        <Button type=\"primary\" onClick={onSubmit}>提交</Button>\n      </>],\n    ])  \n    return MAP.get(step)\n  }, [goBack, loading, nextDisabled, onSubmit, step, toStep2])\n\n  const collection = useMemo(() => {\n    let imageFilters = [\n      {\n        label: '底图类型',\n        filterType: 'RADIO_LIST',\n        valueKey: 'imageSource',\n        required: true,\n        optionSource: [...IMAGE_SOURCE].map(([value, label]) => ({ name: label, value }))\n      }\n    ]\n\n    if (taskState.task.mode === 'RANGE') {\n      imageFilters[0] = {\n        ...imageFilters[0],\n        optionSource: [...IMAGE_SOURCE].filter(([value, label]) => label !== '外业').map(([value, label]) => ({ name: label, value }))\n      }\n    }\n\n    if (taskState.task.imageSource === 'SATELLITE_IMAGE') {\n      imageFilters = imageFilters.concat([\n        {\n          filterType: 'SATELLITE',\n          valueKey: 'satellite',\n          required: true,\n        },\n        {\n          filterType: 'WAVE_AGGREGATION',\n          valueKey: 'waveAggregations',\n          label: '彩色合成',\n          satelliteType: taskState.task.satellite,\n          mode: 'multiple',\n          disabled: !taskState.task.satellite,\n          required: true,\n        }\n      ])\n    }\n\n    const MAP = new Map([\n      [1, [\n          {\n            title: '任务信息',\n            form: {\n              type: 'sky-filter',\n              enabledFilters: [\n                {\n                  filterType: 'INPUT',\n                  valueKey: 'name',\n                  label: '任务名称',\n                  required: true\n                },\n                {\n                  filterType: 'TIME_RANGER',\n                  valueKey: 'timeRange',\n                  required: true,\n                },\n                {\n                  filterType: 'SPACE',\n                  valueKey: 'shape',\n                  required: true,\n                },\n                {\n                  label: '任务类型',\n                  filterType: 'RADIO_LIST',\n                  valueKey: 'mode',\n                  required: true,\n                  optionSource: [...TASK_MODE].map(([value, label]) => ({ name: label, value })),\n                },\n                {\n                  filterType: 'INPUT',\n                  valueKey: 'description',\n                  label: '任务描述',\n                },\n              ]\n            }\n          },\n          {\n            title: '设置底图',\n            form: {\n              type: 'sky-filter',\n              enabledFilters: imageFilters\n            }\n          }\n        ]\n      ],\n      [2, [\n          {\n            title: '设置样本',\n            form: {\n              type: 'tile-list',\n              editable: true,\n              dataSource: taskState.tileList,\n              onChange: onTileListChange\n            }\n          }\n        ]\n      ],\n    ])\n    \n    return MAP.get(step)\n  }, [step, taskState.task, taskState.tileList, onTileListChange])\n\n  const fitShapes = useMemo(() => taskState.tileList.map(item => item.shape), [taskState.tileList])\n\n  const validateTask = useCallback(() => {\n    const { imageSource, mode, name, satellite, shape, timeRange, waveAggregations } = taskState.task\n    setNextDisabled(true)\n\n    if(mode\n      && name\n      && (shape && shape.value)\n      && timeRange\n      ) {\n      if (imageSource === 'SATELLITE_IMAGE') {\n        if (satellite && (waveAggregations && waveAggregations.length > 0)) {\n          setNextDisabled(false)\n        }\n      } else if (imageSource === 'FIELD_OPERATION_IMAGE') {\n        setNextDisabled(false)\n      }\n    }\n\n  }, [taskState.task])\n\n  useEffect(() => {\n    validateTask()\n  }, [validateTask])\n\n  return <div className=\"sample-task-layout\">\n    <FormCollection collection={collection} footer={footer} filters={taskState.task} setFilters={setFilters} />\n    <div className=\"t-map\">\n      <TMap>\n        <BoundsFit flyEnable={false} shapes={fitShapes} />\n        {taskState.tileList.map(item => (\n          <TilePolygon key={item.tile} text={item.tile} data={item.shape} />\n        ))}\n      </TMap>\n    </div>\n  </div>\n}\n\nexport default withRouter(Create)","import React, { createContext, useContext } from 'react';\nimport useTaskReducer from './reducer';\nexport const TaskContext = createContext({});\n\nexport const TaskContextProvider = ({ children }) => {\n  const contextValue = {\n    taskReducer: useTaskReducer()\n  };\n\n  return (\n    <TaskContext.Provider value={contextValue}>\n      {children}\n    </TaskContext.Provider>\n  );\n};\n\nexport const useTaskContext = () => {\n  return useContext(TaskContext);\n};\n","import React, { useState } from 'react';\nimport { Button, Form } from 'antd';\nimport ImagesFilter from './index';\n\nconst FormItem = ({\n  label,\n  sampleImages,\n  selectedImageIds,\n  setSelectedImageIds\n}) => {\n  const [imageFilterShow, setImageFilterShow] = useState(false);\n  return (\n    <Form.Item\n      className=\"image-filter-form-item\"\n      label={label}\n    >\n      <Button type=\"link\"\n        disabled={!sampleImages.length}\n        onClick={() => setImageFilterShow(true)}>\n        筛选\n        { sampleImages.length && <span>({sampleImages.length})</span> }\n      </Button>\n      <ImagesFilter\n        visible={imageFilterShow}\n        setVisible={setImageFilterShow}\n        images={sampleImages}\n        value={selectedImageIds}\n        onChange={setSelectedImageIds}\n      />\n    </Form.Item>\n  );\n};\n\nexport default FormItem;\n","import React, { useCallback, useMemo, memo } from 'react';\nimport { Checkbox, Button } from 'antd';\nimport FormItem from './FormItem';\nimport './style.sass';\n\nconst ImageItem = memo(({ value, onSelect, item }) => {\n  let { id, url, ...detail } = item;\n\n  const checked = useMemo(() => {\n    return value && value.includes(id);\n  }, [id, value]);\n\n  return (\n    <li>\n      <div className=\"image-filter-item\">\n        {url ? (\n          <Checkbox\n            value={id}\n            checked={checked}\n            onChange={e => onSelect(e.target.value, value)}\n          >\n            <img src={url} alt=\"\" />\n          </Checkbox>\n        ) : (\n          <h3>无影像</h3>\n        )}\n        <ul>\n          {/* <li>卫星编号: {}</li> */}\n          <li>影像时间: {detail.time.slice(0, 16)}</li>\n          {/* <div>{<CloudFilled /> {detail && detail.cloud_cover}</div> */}\n        </ul>\n      </div>\n    </li>\n  );\n});\n\nconst ImagesFilter = ({ visible, setVisible, images, onChange, value }) => {\n  const onSelect = useCallback(\n    (id, value) => {\n      let val = value.includes(id)\n        ? value.filter(v => v !== id)\n        : [...value, id];\n      onChange(val);\n    },\n    [onChange]\n  );\n\n  const onCancel = useCallback(() => {\n    onChange([]);\n    setVisible(false);\n  }, [onChange, setVisible]);\n\n  return (\n    <>\n      {visible && (\n        <div className=\"images-filter-modal\">\n          <div className=\"image-filter-modal-head\">\n            <Button type=\"default\" onClick={onCancel}>\n              取消\n            </Button>\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                setVisible(false);\n              }}\n            >\n              确定\n            </Button>\n          </div>\n          <ul className=\"images-filter-lists\">\n            {images.map(i => (\n              <ImageItem\n                value={value}\n                key={i.id}\n                item={i}\n                onSelect={onSelect}\n              />\n            ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\n\nImagesFilter.FormItem = FormItem;\n\nexport default ImagesFilter;\n","import { useMemo, useCallback, useState } from 'react'\n\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport { useSampleImages } from 'src/pages/Samples/Marks/Operate/hooks';\n\nexport default (props) => {\n  const { taskReducer: { taskState, taskDispatch } } = useTaskContext()\n  const { curTile, filters, task } = taskState\n  const [ mainImagePath, setMainImagePath ] = useState(null);\n  const [ selectedImageIds, setSelectedImageIds ] = useState([]);\n  const [ satelliteImages ] = useSampleImages(\n    curTile.tile,\n    filters.waveAggregationId,\n    task.id\n  );\n\n  const satellite = useMemo(() => ({\n    title: '卫星影像',\n    form: {\n      type: 'sky-filter',\n      enabledFilters: []\n    }\n  }), [])\n  \n  const images = useMemo(() => {\n    return satelliteImages\n      .filter(i => selectedImageIds.find(s => s === i.id))\n      .map(i => ({\n        ...i,\n        value: i.id,\n        name: i.imageTime.slice(0, 16),\n        path: i.path\n      }));\n  }, [selectedImageIds, satelliteImages]);\n\n  const contrastImages = useMemo(() => {\n    return images.map(s => ({\n      ...s,\n      disabled: s.id === filters.mainImageId || s.id === filters.topLeftImageId || s.id === filters.topRightImageId\n    }));\n  }, [filters.mainImageId, filters.topLeftImageId, filters.topRightImageId, images]);\n\n  const onImageChange = useCallback((key, id) => {\n    let path\n    if (id) {\n      const item = images.find(img => img.id === id);\n      path = item.path\n\n      if (key === 'mainImageId') setMainImagePath(path)\n      \n    }\n    else path = mainImagePath\n\n    setTimeout(() => taskDispatch('setFilters', { mainImagePath: path}))\n  }, [images, mainImagePath, taskDispatch])\n  \n  const onCompairImageChange = useCallback((key, value) => {\n    const item = images.find(img => img.id === value);\n    const path = item.path\n    let filters = {}\n    switch (key) {\n      case 'topLeftImageId':\n        filters.topLeftImagePath = path\n        break\n      case 'topRightImageId':\n        filters.topRightImagePath = path\n        break\n      case 'mainImageId':\n        filters.mainImagePath = path\n        break\n      default:\n        break\n    }\n\n    setTimeout(() => taskDispatch('setFilters', filters))\n  }, [images, taskDispatch])\n  \n  const multiMap = useMemo(() => ({\n    title: '分屏选择',\n    form: {\n      type: 'sky-filter',\n      enabledFilters: [\n        {\n          label: '左上 - 选择影像',\n          filterType: 'SELECT',\n          valueKey: 'topLeftImageId',\n          optionSource: contrastImages,\n          required: true,\n          onChange: onCompairImageChange\n        },\n        {\n          label: '右上 - 选择影像',\n          filterType: 'SELECT',\n          valueKey: 'topRightImageId',\n          optionSource: contrastImages,\n          required: true,\n          onChange: onCompairImageChange\n        },\n        {\n          label: '底部 - 选择影像',\n          filterType: 'SELECT',\n          valueKey: 'mainImageId',\n          optionSource: contrastImages,\n          onChange: onCompairImageChange\n        },\n      ]\n    }\n  }), [contrastImages, onCompairImageChange])\n\n  return { satelliteImages, selectedImageIds, setSelectedImageIds, images,\n    contrastImages, onImageChange, multiMap, satellite\n  }\n}","import { useState, useEffect } from 'react';\nimport sampleService from 'src/services/samples';\n\nexport const useTaskFilter = taskId => {\n  const [taskFilter, setTaskFilter] = useState({\n    tiles: [],\n    waveAggregations: [],\n    condition: {}\n  });\n\n  useEffect(() => {\n    (async () => {\n      const taskFilter = await sampleService.queryTaskMarkFilter(taskId);\n      const [tiles, waveAggregations] = ['tiles', 'waveAggregations'].map(key =>\n        (taskFilter[key] || []).map(t => ({\n          id: t.id || t,\n          value: t.id || t,\n          name: t.description || t\n        }))\n      );\n      setTaskFilter({\n        ...taskFilter,\n        tiles,\n        waveAggregations\n      });\n    })();\n  }, [taskId]);\n\n  return taskFilter;\n};\n\nexport const useSampleImages = (tile, waveAggregationId, taskId) => {\n  const [sampleImages, setSampleImages] = useState([]);\n\n  // fetch sampleImages\n  useEffect(() => {\n    if (tile && waveAggregationId) {\n      (async () => {\n        let _images = await sampleService.querySampleImages(\n          taskId,\n          tile,\n          waveAggregationId\n        );\n        let images = _images.map(i => ({\n          ...i,\n          time: i.imageTime,\n          path: i.url,\n          url: `https://tile-cdn.terraqt.com/${i.url}`\n        }));\n        setSampleImages(images);\n      })();\n    }\n  }, [taskId, tile, waveAggregationId]);\n\n  return [sampleImages, setSampleImages];\n};\n","import { useMemo, useCallback } from 'react'\n\nimport ImagesFilter from 'src/components/ImagesFilter';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport useHistory from './useHistory'\nimport useFieldOperation from './useFieldOperation'\nimport useSatellite from './useSatellite';\n\nconst Comp = (props) => {\n  const { taskReducer: { taskState, taskDispatch } } = useTaskContext()\n  const { filters, task } = taskState\n\n  const { historySample, onTagChange } = useHistory()\n\n  const { onFieldDateChange, fieldOperation, getDisabledDate } = useFieldOperation()\n\n  const { satelliteImages, selectedImageIds, setSelectedImageIds, images,\n    contrastImages, onImageChange, multiMap, satellite\n  } = useSatellite()\n    \n  const setFilters = useCallback((filters) => {\n    taskDispatch('setFilters', filters)\n  }, [taskDispatch])\n\n  const baseSsatelliteCollection = useMemo(() => {\n    let collection = [\n      {\n        label: '彩色合成',\n        filterType: 'SELECT',\n        valueKey: 'waveAggregationId',\n        optionSource: (task.waveAggregations || []).map(({id, description}) => ({ name: description, value: id }))\n      },\n      {\n        label: '筛选影像',\n        filterType: 'CUSTOM',\n        valueKey: 'selectedImageIds',\n        sampleImages: satelliteImages,\n        Component: ImagesFilter.FormItem,\n        selectedImageIds,\n        setSelectedImageIds\n      },\n    ]\n\n    const normalSatelliteCollection = [\n      {\n        label: '主影像',\n        filterType: 'SELECT',\n        valueKey: 'mainImageId',\n        optionSource: images,\n        onChange: onImageChange\n      },\n      {\n        label: '对比影像',\n        filterType: 'RADIO_LIST',\n        valueKey: 'contrastImageId',\n        optionSource: contrastImages,\n        className: 'contrast-image-container',\n        onChange: onImageChange\n      },\n\n    ]\n\n    if (task.mode === 'NORMAL') {\n      collection = collection.concat(normalSatelliteCollection)\n    }\n\n    return collection\n  }, [contrastImages, images, onImageChange, satelliteImages, selectedImageIds, setSelectedImageIds, task])\n\n  const COMP_MAP = useMemo(() => {\n    \n    return new Map([  \n      ['地物标签', [{\n          label: '地物标签',\n          filterType: 'MARK_TAG',\n          valueKey: 'historyTagCode',\n          colon: false,\n          changeOnSelect: true,\n          onChange: onTagChange\n        }]\n      ],\n      ['时间范围', [{\n          label: '时间范围',\n          filterType: 'DATES',\n          colon: false,\n          valueKey: 'fieldDates',\n          onChange: onFieldDateChange,\n          disabledDate: getDisabledDate,\n        }]\n      ],\n      ['卫星影像', baseSsatelliteCollection],\n    ])}, [baseSsatelliteCollection, getDisabledDate, onFieldDateChange, onTagChange])\n\n  const appendFilter = useCallback((item, name) => {\n    return Object.assign({}, item, {\n      form: {\n        ...item.form,\n        enabledFilters: [\n          ...item.form.enabledFilters,\n          ...COMP_MAP.get(name)\n        ]\n      }\n    })\n  }, [COMP_MAP])\n\n  const collection = useMemo(() => {\n    const _collection = []\n\n    if (filters.historySampleEnable) _collection.push(appendFilter(historySample, '地物标签'))\n    else _collection.push(historySample)\n\n    if (task.imageSource === 'SATELLITE_IMAGE') {\n\n      _collection.push(appendFilter(satellite, '卫星影像'))\n\n      if (task.mode === 'RANGE') _collection.push(multiMap)\n\n    } else if (task.imageSource === 'FIELD_OPERATION_IMAGE') {\n\n      if (filters.fieldOperationEnable) _collection.push(appendFilter(fieldOperation, '时间范围'))\n      else _collection.push(fieldOperation)\n\n    }\n\n    return _collection\n  }, [filters, appendFilter, historySample, task, satellite, multiMap, fieldOperation])\n\n  return {\n    collection,\n    setFilters\n  }\n}\n\nexport default Comp","import { useMemo, useCallback, useEffect } from 'react'\nimport { message } from 'antd'\nimport service from 'src/services/samples'\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport { createHistoryParams } from 'src/pages/Samples/Task/utils/adapter'\n\nexport default (props) => {\n  const { taskReducer: { taskState, taskDispatch } } = useTaskContext()\n  const { curTile, task } = taskState\n\n  const onTagChange = useCallback(async (key, value) => {\n    const { timeRange: { beginTime, endTime } } = task\n\n    taskDispatch('setHistorySamples', [])\n\n    const res = await service.querySamples(createHistoryParams({\n      tile: curTile.tile,\n      historyTagCode: value,\n      beginTime,\n      endTime\n    }))\n\n    message.success('获取标签标注成功')\n    taskDispatch('setHistorySamples', res)\n  },\n  [task, curTile.tile, taskDispatch])\n  \n  const onHistoryChange = useCallback(async (key, value) => {\n    if (!value) {\n      taskDispatch('setHistorySamples', [])\n      return \n    }\n\n    onTagChange()\n  }, [onTagChange, taskDispatch])\n  \n  const historySample = useMemo(() => ({\n    form: {\n      type: 'sky-filter',\n      enabledFilters: [\n        {\n          filterType: 'TITLE',\n          valueKey: 'historySampleEnable',\n          label: '历史样本',\n          colon: false,\n          className: \"audit-main-item\",\n          onChange: onHistoryChange\n        }\n      ]\n    }\n  }), [onHistoryChange])\n\n  // 初始化清空\n  useEffect(() => {\n    taskDispatch('setFilters', { historyTagCode: null })\n    taskDispatch('setHistorySamples', [])\n  }, [taskDispatch])\n\n  return {\n    historySample,\n    onTagChange\n  }\n}","import { useMemo, useCallback } from 'react'\nimport { message } from 'antd'\nimport { isEmpty } from 'lodash'\n\nimport service from 'src/services/samples'\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport { createFieldOperationData, createFieldOperationParams } from 'src/pages/Samples/Task/utils/adapter'\n\nexport default (props) => {\n  const { taskReducer: { taskState, taskDispatch } } = useTaskContext()\n  const { curTile } = taskState\n\n  const onFieldDateChange = useCallback(async (key, fieldDates) => {\n    const res = await service.queryFieldOperationData(createFieldOperationParams(curTile.tile, fieldDates))\n    if (isEmpty(res)) message.warn('暂无数据')\n    taskDispatch('setFieldOperationData', createFieldOperationData(res))\n  }, [taskDispatch, curTile])\n  \n  const onFieldChange = useCallback(async (key, value) => {\n    setTimeout(() => {\n      !value && taskDispatch('setFieldOperationData', [])\n      taskDispatch('setFilters', { fieldDates: null })\n    })\n  }, [taskDispatch])\n  \n  const getDisabledDate = useCallback((date) => {\n    const { timeRange: { beginTime, endTime } } = taskState.task\n    return date.isBefore(beginTime) || date.isAfter(endTime)\n  }, [taskState.task])\n\n  const fieldOperation = useMemo(() => ({\n    form: {\n      type: 'sky-filter',\n      enabledFilters: [\n        {\n          filterType: 'TITLE',\n          valueKey: 'fieldOperationEnable',\n          label: '外业数据',\n          colon: false,\n          className: \"audit-main-item\",\n          onChange: onFieldChange\n        }\n      ]\n    }\n  }), [onFieldChange])\n  \n  return {\n    onFieldDateChange,\n    fieldOperation,\n    getDisabledDate\n  }\n}","import React from 'react'\n\nimport FormCollection from 'src/pages/Samples/Task/FormCollection'\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport useCollection from './useCollection';\n\nexport default (props) => {\n  const { footer } = props\n  const { collection, setFilters } = useCollection()\n  const { taskReducer: { taskState: { filters } } } = useTaskContext()\n\n  return <FormCollection collection={collection} filters={filters} setFilters={setFilters} width={350} footer={footer} />\n}","import React, { createContext, useContext, useReducer, useEffect, useCallback } from 'react';\nimport { useLeaflet } from 'react-leaflet'\n\nconst initialState = {\n  maps: [],\n}\n\nconst MapSyncContext = createContext();\n\nfunction reducer(state, action) {\n  const { type, value } = action\n\n  if (type === 'addSyncMap') {\n    return {...state, maps: [...state.maps, value]};\n  } else if(type === 'syncEvent') {\n    const { target } = value\n    const curMapId = target.keyboard._leaflet_id\n    const center = target.getCenter()\n    const zoom = target.getZoom()\n\n    state.maps.forEach(m => {\n      const mapId = m.keyboard._leaflet_id\n      if (curMapId !== mapId) {\n        m.setView(center, zoom)\n      }\n    });\n    return {...state};\n  }\n  \n}\n\nexport const useMapSync = () => {\n  return useContext(MapSyncContext);\n};\n\nexport const SyncTrigger = (props) => {\n  const { map } = useLeaflet()\n  const { dispatch } = useMapSync();\n\n  useEffect(() => {\n    if (!map) return\n    \n    dispatch('addSyncMap', map);\n\n    const cb = (data) => dispatch('syncEvent', data)\n\n    map.on('dragend zoomend', cb)\n    return () => {\n      map.off('dragend zoomend', cb)\n    }\n    \n  }, [dispatch, map])\n  return null\n}\n\nconst MapSync = props => {\n  const { children } = props;\n  const [ state, _dispatch ] = useReducer(reducer, initialState);\n\n  const dispatch = useCallback((type, value) => {\n    _dispatch({type, value})\n  }, [_dispatch])\n\n  return <MapSyncContext.Provider value={{ state, dispatch }}>{children}</MapSyncContext.Provider>;\n};\n\nexport default MapSync;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Drawer, Form, Timeline, DatePicker, Button } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport moment from 'moment';\nimport { get, isEmpty } from 'lodash';\nimport GroundObjectTags from 'src/components/GroundObjectTags';\nimport sampleService from 'src/services/samples';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context';\n\nconst SampleEdit = ({ map, match: { params }, samples, visible, onCancel, onOk }) => {\n  const {\n    taskReducer: {\n      taskState: { filters, task, curTile, curSample }\n    }\n  } = useTaskContext();\n  const [localSample, setLocalSample] = useState({});\n  const [changeLogs, setChangeLogs] = useState([]);\n  const taskId = useMemo(() => params.taskId, [params]);\n  const updateLocalSample = useCallback((key, val, localSample) => {\n    let s = {\n      ...localSample,\n      [key]: val\n    };\n    setLocalSample(s);\n    return s;\n  }, []);\n\n  // 更新样本信息\n  const updateSample = useCallback(\n    async function (localSample, samples) {\n      const { geometry } = map.tool.edit.save();\n      const shape = JSON.stringify(geometry);\n\n      const result = await sampleService.updateSample(\n        localSample.id,\n        shape,\n        localSample.imageTime.format().slice(0, 19),\n        localSample.tagId\n      );\n      onOk('update', result);\n    },\n    [map, onOk]\n  );\n\n  // 删除样本\n  const deleteSample = useCallback(async () => {\n    await sampleService.deleteSample([curSample.id]);\n    onOk('delete', curSample);\n  }, [curSample, onOk]);\n\n  const createSample = useCallback(\n    async localSample => {\n      const { topLeftImageId, topRightImageId, mainImageId } = filters;\n      const { geometry } = map.tool.edit.save();\n      const shape = JSON.stringify(geometry);\n\n      let imageIds = [];\n      if (topLeftImageId) imageIds.push(topLeftImageId);\n      if (topRightImageId) imageIds.push(topRightImageId);\n      if (mainImageId) imageIds.push(mainImageId);\n      imageIds = isEmpty(imageIds) ? null : imageIds;\n\n      const sample = {\n        taskId,\n        shape,\n        tagCode: localSample.tagId,\n        imageIds,\n        imageSource: task.imageSource,\n        tile: curTile.tile,\n        mode: task.mode\n      };\n\n      try {\n        const result = await sampleService.createSample(sample);\n        onOk('create', result);\n      } catch (e) {\n        onCancel();\n      }\n    },\n    [map, taskId, onOk, onCancel, filters, task, curTile]\n  );\n\n  const onCommonlyUsedObjectTagChange = useCallback(\n    (val, localSample, samples, immediateEnable) => {\n      let sample = updateLocalSample('tagId', val, localSample);\n      if (sample.id === -1) {\n        immediateEnable && createSample(sample);\n      } else {\n        immediateEnable && updateSample(sample, samples);\n      }\n    },\n    [createSample, updateLocalSample, updateSample]\n  );\n\n  const footer = useMemo(\n    () => (\n      <div className=\"sample-edit-footer\">\n        <Button onClick={onCancel}>取消</Button>\n\n        {/* 编辑 */}\n        {localSample.id !== -1 && (\n          <>\n            <Button type=\"primary\" onClick={() => updateSample(localSample, samples)}>\n              提交\n            </Button>\n\n            <Button danger onClick={deleteSample}>\n              删除样本\n            </Button>\n          </>\n        )}\n\n        {/* 新建 */}\n        {localSample.id === -1 && (\n          <Button type=\"primary\" onClick={() => createSample(localSample)}>\n            提交\n          </Button>\n        )}\n      </div>\n    ),\n    [createSample, deleteSample, localSample, onCancel, samples, updateSample]\n  );\n\n  const queryChangeLogs = useCallback(async () => {\n    if (!curSample.id || curSample.id === -1) return;\n\n    let logs = await sampleService.queryChangeLogs(curSample.id, 'SAMPLE');\n    setChangeLogs(logs);\n  }, [curSample.id]);\n\n  // 获取样本操作记录\n  useEffect(() => {\n    queryChangeLogs();\n  }, [queryChangeLogs]);\n\n  useEffect(() => {\n    let localSample =\n      curSample.id === -1\n        ? curSample\n        : {\n            ...curSample,\n            imageTime: moment(curSample.imageTime),\n            tagId: get(curSample, 'tag.id')\n          };\n\n    setLocalSample(localSample);\n  }, [curSample]);\n\n  return (\n    <Drawer\n      className=\"sample-edit-drawer\"\n      title=\"样本详情\"\n      placement=\"right\"\n      visible={visible}\n      onClose={onCancel}\n      maskClosable={false}\n      mask={false}\n      footer={footer}>\n      <Form>\n        {curSample.id !== -1 && (\n          <Form.Item label=\"影像时间\" placeholder=\"请选择时间\">\n            <DatePicker\n              className=\"sample-edit-date\"\n              value={localSample.imageTime}\n              onChange={(val, str) => updateLocalSample('imageTime', val, localSample)}\n            />\n          </Form.Item>\n        )}\n        <Form.Item label=\"地物标签\" placeholder=\"请选择标签\">\n          <GroundObjectTags\n            commonlyUsedEnable={true}\n            value={localSample.tagId}\n            changeOnSelect\n            onChange={val => updateLocalSample('tagId', val, localSample)}\n          />\n          <GroundObjectTags.CommonlyUsedList\n            value={localSample.tagId}\n            onChange={(val, immediateEnable) =>\n              onCommonlyUsedObjectTagChange(val, localSample, samples, immediateEnable)\n            }\n          />\n        </Form.Item>\n      </Form>\n      {curSample.id && curSample.id !== -1 && (\n        <Form.Item label=\"操作记录\">\n          <Timeline reverse={false}>\n            {changeLogs.length < 1 && <span>暂无操作记录</span>}\n            {changeLogs.map(c => (\n              <Timeline.Item key={localSample.id + c.time}>\n                <span className=\"opreation-record-user\">{c.user}</span>\n                <span>{c.description}</span> <br />\n                <span>{moment(c.time).format('YYYY-MM-DD hh:mm:ss')}</span>\n              </Timeline.Item>\n            ))}\n          </Timeline>\n        </Form.Item>\n      )}\n    </Drawer>\n  );\n};\n\nexport default withRouter(SampleEdit);\n","export const getPath = (imagePath) => {\n  const paths = imagePath ? imagePath.split('/') : null;\n  const path = paths ? paths.slice(0, paths.length - 1).join('/') : null;\n  \n  return path\n}","import { getPath } from 'src/pages/Samples/Task/utils'\n\nexport default ({ path }) => {\n  return {\n    path: getPath(path)\n  }\n}","import { useState, useMemo, useCallback, useEffect } from 'react';\nimport { get, isEmpty } from 'lodash';\nimport { EditOutlined } from '@ant-design/icons';\nimport { Icons } from '@terraqt/garden';\nimport { useEditableSamples } from 'src/pages/Samples/utils';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\n\nconst { LassoIcon } = Icons\nconst editEvent = 'tool.mark:edit'\n\nexport default (props) => {\n  const { taskReducer: { taskState: { historySamples, markedSamples, auditSamples, curSample }, taskDispatch } } = useTaskContext()\n  const getEditableSamples = useEditableSamples();\n  const [ tempSample, setTempSample ] = useState({});\n  const [ visible, setVisible ] = useState(false);\n  const [ localSamples, setLocalSamples ] = useState([]);\n  const [ activeKey, setActiveKey ] = useState(null);\n  const [ map, setMap ] = useState(null)\n  const [ mainImageVisible, setMainImageVisible ] = useState(true)\n\n  const setCurSample = useCallback((curSample) => {\n    taskDispatch('setCurSample', curSample)\n  }, [taskDispatch])\n\n  const samples = useMemo(() => {\n    const samples = isEmpty(localSamples)\n      ? [...historySamples, ...markedSamples, ...auditSamples]\n      : localSamples;\n    return getEditableSamples(samples);\n  }, [auditSamples, getEditableSamples, historySamples, localSamples, markedSamples]);\n\n  const toggleDatas = useMemo(() => {\n\n    const onDraw = e => {\n    }\n\n    const onEdit = e => {\n      e.toolEvent = editEvent\n      map.tool.emit(e.toolEvent, e)\n    };\n  \n    return [\n      \n      {\n        Icon: LassoIcon,\n        name: '圈选',\n        key: 'sampleTaskMarkAdd',\n        onActive: function onActive() {\n          if (map.tool) {\n            map.tool.on('map.draw:polygon', onDraw);\n            map.tool.draw.polygon.enable();\n          }\n        },\n        onDeactive: () => {\n          if (map.tool) {\n            map.tool.draw.polygon.disable();\n            map.tool.off('map.draw:polygon', onDraw);\n          }\n        }\n      },\n      {\n        Icon: EditOutlined,\n        name: '编辑',\n        key: 'sampleTaskMarkEdit',\n        onActive: () => {\n          if (map.tool) {\n            map.tool.edit.enable();\n            map.tool.on('map.edit:begin', onEdit);\n          }\n        },\n        onDeactive: () => {\n          if (map.tool) {\n            map.tool.edit.disable();\n            map.tool.off('map.edit:begin', onEdit);\n          }\n        }\n      },\n    ]}, [map])\n\n  const continueCreate = useCallback(async () => {\n    await setActiveKey(null)\n    setActiveKey('sampleTaskMarkAdd')\n  }, [setActiveKey]);\n\n  const onClose = useCallback(async () => {\n    setVisible(false);\n  }, [setVisible])\n  \n  const onCancel = useCallback(async () => {\n    if (curSample.id === -1) {\n      // 新增\n      setCurSample({})\n      continueCreate()\n    } else {\n      // 编辑\n      setLocalSamples(samples.map(s => (s.id === tempSample.id ? tempSample : s)));\n      setCurSample({})\n    }\n    onClose();\n  }, [continueCreate, curSample.id, onClose, samples, setCurSample, tempSample])\n\n  const onOk = useCallback(async (opreation, result) => {\n    switch (opreation) {\n      case 'create':\n        setLocalSamples([...samples, result])\n        setCurSample({})\n        continueCreate()\n        break\n      \n      case 'update':\n        setLocalSamples(samples.map(s => (s.id === result.id ? result : s)));\n        break\n    \n      case 'delete':\n        setLocalSamples(samples.filter(s => s.id !== result.id));\n        break\n      \n      default:\n        break\n    }\n    onClose();\n  }, [continueCreate, onClose, samples, setCurSample])\n  \n  const onEdit = useCallback(e => {\n    const id = get(e, 'layer.feature.properties.id')\n    if (!id) return\n\n    let item = samples.find(item => item.id === id)\n\n    setCurSample(item)\n    setTempSample(item)\n    setVisible(true)\n  }, [samples, setCurSample])\n\n  const toggleMainImageVisible = useCallback(() => setMainImageVisible(!mainImageVisible), [mainImageVisible])\n\n  useEffect(() => {\n    if(!map) return\n    \n    map.tool.on(editEvent, onEdit)\n    return () => {\n     map.tool.off(editEvent, onEdit)\n    }\n  }, [map, onEdit])\n\n  return {\n    curSample, setCurSample,\n    tempSample, setTempSample,\n    visible, setVisible,\n    localSamples,\n    activeKey, setActiveKey,\n    map, setMap,\n    mainImageVisible, toggleMainImageVisible,\n    toggleDatas,\n    onCancel,\n    onOk,\n    continueCreate,\n    onClose,\n    samples,\n  }\n}","import React, { useState, useCallback } from 'react';\nimport { TMap } from '@terraqt/garden';\n\nimport common from 'src/services/common';\n\nconst { CoordinateMarker } = TMap;\n\nexport default (props) => {\n  const [coordMarkerProperties, setCoordMarkerProperties] = useState('');\n  \n  const queryIntersectTilesByPoint = useCallback(async coordinates => {\n    const { lng, lat } = coordinates;\n    const tiles = await common.queryIntersectTilesByPoint('MGRS', lng, lat);\n    const properties = tiles.reduce(\n      (a, c) => `${a}<p style=\"margin: 3px;\">${c}</p>`,\n      ''\n    );\n    setCoordMarkerProperties(properties);\n  }, []);\n\n  return <CoordinateMarker properties={coordMarkerProperties} onChange={queryIntersectTilesByPoint} />\n\n};\n","import { useEffect } from 'react';\nimport { useLeaflet } from '@terraqt/garden';\n\nexport default ({\n  setCurSample,\n  samples,\n  setVisible,\n  setMap,\n  toggleMainImageVisible\n}) => {\n  let { map } = useLeaflet();\n\n  useEffect(() => {\n    if (!map) return null;\n    \n    const onCreate = e => {\n      // 有新建\n      if(samples.find(item => item.id === -1)) return\n\n      const { layer } = e\n      let newSample = {\n        id: -1,\n        shape: layer.toGeoJSON().geometry,\n      };\n      setCurSample(newSample);\n      setVisible(true);\n      \n      setTimeout(() => {\n        map.tool.edit.edit(layer);\n      })\n    };\n    \n    map.on('draw:created', onCreate);\n    return () => {\n      map.off('draw:created', onCreate);\n    };\n  }, [map, samples, setMap, setCurSample, setVisible]);\n\n  useEffect(() => {\n    if (!map) return null;\n\n    const cb = () => toggleMainImageVisible()\n\n    map.tool.on('toolbar.hiding:enable', cb);\n    map.tool.on('toolbar.hiding:disable', cb);\n    return () => {\n      map.tool.off('toolbar.hiding:enable', cb);\n      map.tool.off('toolbar.hiding:disable', cb);\n    };\n    \n  }, [map, toggleMainImageVisible]);\n\n  useEffect(() => {\n    map && setMap(map)\n  }, [map, setMap]);\n\n  return null;\n};\n","import React from 'react';\nimport { TMap } from '@terraqt/garden';\n\nconst { TqtTileLayer } = TMap;\n\nexport default props => {\n  const { uavImageData } = props;\n\n  return (\n    <TqtTileLayer\n      path={uavImageData.pyramid}\n      shape={uavImageData.shape}\n      options={{ maxZoom: 30 }}\n      opacity={uavImageData.opacity / 100}\n    />\n  );\n};\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { TMap } from \"@terraqt/garden\";\nimport toolsService from \"src/services/tools\";\n\nconst { GeoJSON } = TMap;\n\nconst Comp = (props) => {\n  const { task } = props;\n  const [taskShape, setTaskShape] = useState(null);\n\n  const getTaskShape = useCallback(async () => {\n    if (!task.shape) return;\n\n    const value = task.shape.value;\n\n    if (task.shape.type === \"TILE\") return;\n\n    if (typeof value === \"string\") {\n      const result = await toolsService.getRegionNode(value);\n      setTaskShape(result.boundary);\n    } else {\n      task.shape && setTaskShape(task.shape.value);\n    }\n  }, [task]);\n\n  useEffect(() => {\n    getTaskShape();\n  }, [getTaskShape]);\n\n  return taskShape ? <GeoJSON data={taskShape} bringToBack={true} /> : null;\n};\n\nexport default Comp;\n","import { useEffect } from 'react';\nimport L from 'leaflet';\nimport { useLeaflet } from 'react-leaflet';\n\nconst geojsonStyle = {\n  color: '#fdd835',\n  weight: 2,\n  fillOpacity: 0,\n  fillColor: '#fff2af'\n};\n\nconst EditingGeoJSON = ({\n  shape,\n}) => {\n  const { map } = useLeaflet();\n\n  useEffect(() => {\n    const layers = L.geoJSON(shape, {\n      style: geojsonStyle,\n      onEachFeature: (feature, layer) => {\n        map.addLayer(layer);\n        if (map.tool) {\n          setTimeout(() => map.tool.edit.edit(layer), 500)\n        }\n      }\n    });\n\n    return () => {\n      layers.eachLayer(layer => map.removeLayer(layer));\n    };\n  }, [shape, map]);\n\n  return '';\n};\nexport default EditingGeoJSON;\n","import React from 'react';\nimport { Slider, Button } from 'antd';\n\nexport default ({ data, opacityonChange, imageOnShow }) => {\n  return (\n    <div className=\"image-layer-slider-container\">\n      <div className=\"image-layer-slider\">\n        <span>透明度</span>\n        <Slider value={data.opacity} onChange={opacityonChange} />\n        <span>{data.opacity}%</span>\n      </div>\n      <Button type=\"primary\" onClick={() => imageOnShow(data)}>\n        查看原图\n      </Button>\n    </div>\n  );\n};\n","import React, { useMemo, useEffect,useState } from 'react'\nimport { CircleMarker, useLeaflet } from 'react-leaflet'\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\n\nconst Trigger = (props) => {\n  const { taskReducer: { taskState: { mousePosition }, taskDispatch } } = useTaskContext()\n  const { map } = useLeaflet()\n  const { setVisible, setCenter } = props\n\n  useEffect(() => {\n    if (!map) return\n    \n    const onMouseOver = (e) => {\n      map.on('mousemove', onMouseMove)\n    }\n    const onMouseMove = (e) => {\n      setVisible(false)\n      taskDispatch('setMousePosition', e.latlng)\n    }\n    const onMouseOut = (e) => {\n      map.off('mousemove', onMouseMove)\n      taskDispatch('setMousePosition', null)\n      setVisible(true)\n    }\n\n    map.on('mouseover', onMouseOver)\n    map.on('mouseout', onMouseOut)\n\n    return () => {\n    map.off('mouseover', onMouseOver)\n    map.off('mouseout', onMouseOut)\n    }\n  }, [map, setVisible, taskDispatch])\n\n  useEffect(() => {\n    setCenter(mousePosition)\n  }, [mousePosition, setCenter])\n\n  return null\n}\n\nexport default (props) => {\n  const [ visible, setVisible ] = useState(true)\n  const [ center, setCenter ] = useState(null)\n\n  const style = useMemo(() => ({\n    radius: 7,\n    weight: 3,\n    color: \"#EA4335\",\n    fillColor: \"#FFF\",\n    fillOpacity: 0\n  }), [])\n  \n  return <>\n    <Trigger setVisible={setVisible} setCenter={setCenter} />\n    { (visible && center) && <CircleMarker center={center} {...style} /> }\n  </>\n}","import React from 'react';\nimport { ImageViewer } from '@terraqt/garden';\n\nexport default props => {\n  const { visible, data, onClose } = props;\n\n  return <ImageViewer title={data.title} url={data.url} visible={visible} onClose={onClose} />;\n};\n","import React, { useMemo } from 'react';\nimport L from 'leaflet';\n\nimport { isEmpty } from 'lodash';\nimport { TMap } from '@terraqt/garden';\n\nimport { SyncTrigger } from './components/MapSync';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context';\nimport SampleEdit from './components/SampleEdit';\nimport useField from './states/useField';\nimport useSatellite from './states/useSatellite';\nimport useMap from './states/useMap';\nimport CoordinateMarker from './components/CoordinateMarker';\nimport Trigger from './components/Trigger';\nimport ImageLayer from './components/ImageLayer';\nimport TaskGeoJSON from './components/TaskGeoJSON';\nimport EditingGeoJSON from './components/EditingGeoJSON';\nimport UavToolbar from './components/UavToolbar';\nimport Mouse from './components/Mouse';\nimport ImageViewer from './components/ImageViewer';\n\nconst { Toolbar, BoundsFit, GeoJSON, EditablePopupedGeoJSON, RotatedMark, TqtTileLayer } = TMap;\n\nconst {\n  UavActiveMark,\n  UavEnableMark,\n  UavDisableMark,\n  MobileActiveMark,\n  MobileEnableMark,\n  MobileDisableMark\n} = RotatedMark;\n\nconst MainMap = props => {\n  const {\n    taskReducer: {\n      taskState: {\n        task,\n        fieldOperationData,\n        curTile,\n        filters: { mainImagePath }\n      }\n    }\n  } = useTaskContext();\n  const { CurTileShape, fitShapes } = useMemo(() => {\n    return {\n      CurTileShape: curTile.shape,\n      fitShapes: [curTile.shape]\n    };\n  }, [curTile]);\n\n  const {\n    curSample,\n    setCurSample,\n    visible,\n    setVisible,\n    activeKey,\n    map,\n    setMap,\n    toggleDatas,\n    onCancel,\n    onOk,\n    continueCreate,\n    onClose,\n    samples,\n    mainImageVisible,\n    toggleMainImageVisible\n  } = useMap();\n\n  const {\n    uavImageData,\n    onUavClick,\n    imageViewerData,\n    onMobileClick,\n    imageViewerOnShow,\n    imageViewerOnClose,\n    onImageLayerOpacityChange\n  } = useField();\n\n  const { path } = useSatellite({ path: mainImagePath });\n\n  const fieldOperationMark = useMemo(() => {\n    const uavEnableList = [];\n    const uavDisableList = [];\n    const mobileEnableList = [];\n    const mobileDisableList = [];\n\n    fieldOperationData.forEach(item => {\n      if (item.source === 'MOBILE_PHONE_CAMERA') {\n        item.used ? mobileDisableList.push(item) : mobileEnableList.push(item);\n      } else if (item.source === 'UAV_CAMERA') {\n        const { lat, lng } = L.geoJSON(item.shape).getBounds().getCenter();\n        item.center = {\n          type: 'Point',\n          coordinates: [lng, lat]\n        };\n\n        item.used ? uavDisableList.push(item) : uavEnableList.push(item);\n      }\n    });\n    return {\n      uavEnableList,\n      uavDisableList,\n      mobileEnableList,\n      mobileDisableList\n    };\n  }, [fieldOperationData]);\n\n  return (\n    <>\n      <TMap className=\"mark-map\" options={{ maxZoom: 30 }}>\n        <SyncTrigger />\n\n        {task.mode === 'RANGE' && <Mouse />}\n\n        <Trigger\n          setCurSample={setCurSample}\n          samples={samples}\n          setVisible={setVisible}\n          setMap={setMap}\n          toggleMainImageVisible={toggleMainImageVisible}\n        />\n\n        <Toolbar options={{ enables: ['hiding'] }} toggleDatas={toggleDatas} activeKey={activeKey} />\n\n        <TaskGeoJSON task={task} />\n\n        {CurTileShape && (\n          <>\n            {/* tile */}\n\n            <GeoJSON data={CurTileShape} bringToBack={true} />\n            <BoundsFit flyEnable={false} shapes={fitShapes} />\n          </>\n        )}\n\n        {path && (\n          <TqtTileLayer path={path} shape={CurTileShape} visible={mainImageVisible} options={{ maxNativeZoom: 16 }} />\n        )}\n\n        {!isEmpty(curSample) && (\n          <SampleEdit\n            visible={visible}\n            onClose={onClose}\n            samples={samples}\n            map={map}\n            onCancel={onCancel}\n            continueCreate={continueCreate}\n            onOk={onOk}\n          />\n        )}\n\n        {fieldOperationMark.uavEnableList &&\n          fieldOperationMark.uavEnableList.map((item, index) => (\n            <UavEnableMark key={index} data={item.center} properties={item} onClick={(e, data) => onUavClick(data)} />\n          ))}\n\n        {fieldOperationMark.uavDisableList &&\n          fieldOperationMark.uavDisableList.map((item, index) => (\n            <UavDisableMark\n              key={index}\n              data={item.center}\n              properties={item}\n              onClick={(e, data) => onUavClick(data, map)}\n            />\n          ))}\n\n        {fieldOperationMark.mobileEnableList &&\n          fieldOperationMark.mobileEnableList.map((item, index) => (\n            <MobileEnableMark\n              key={index}\n              data={item.shape}\n              properties={item}\n              onClick={onMobileClick}\n              angle={item.direction}\n            />\n          ))}\n\n        {fieldOperationMark.mobileDisableList &&\n          fieldOperationMark.mobileDisableList.map((item, index) => (\n            <MobileDisableMark\n              key={index}\n              data={item.shape}\n              properties={item}\n              onClick={onMobileClick}\n              angle={item.direction}\n            />\n          ))}\n\n        {uavImageData.visible && <ImageLayer uavImageData={uavImageData} />}\n\n        {!isEmpty(imageViewerData) && (\n          <>\n            {imageViewerData.source === 'MOBILE_PHONE_CAMERA' && (\n              <MobileActiveMark\n                data={imageViewerData.shape}\n                properties={imageViewerData}\n                onClick={onMobileClick}\n                angle={imageViewerData.direction}\n              />\n            )}\n            {imageViewerData.source === 'UAV_CAMERA' && (\n              <UavActiveMark\n                data={imageViewerData.center}\n                properties={imageViewerData}\n                onClick={(e, data) => onUavClick(data)}\n              />\n            )}\n          </>\n        )}\n\n        {curSample.id === -1 && <EditingGeoJSON shape={curSample.shape} />}\n\n        {!isEmpty(samples) &&\n          samples.map(s => (\n            <EditablePopupedGeoJSON\n              key={s.id}\n              data={s.data}\n              style={s.style}\n              properties={s.properties}\n              bringToFront={true}\n            />\n          ))}\n\n        <CoordinateMarker />\n      </TMap>\n\n      {uavImageData.visible && (\n        <UavToolbar data={uavImageData} opacityonChange={onImageLayerOpacityChange} imageOnShow={imageViewerOnShow} />\n      )}\n\n      <ImageViewer visible={imageViewerData.visible} data={imageViewerData} onClose={imageViewerOnClose} />\n    </>\n  );\n};\n\nexport default MainMap;\n","import { useState, useCallback } from 'react';\nimport { isEmpty } from 'lodash';\nimport moment from 'moment';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context';\n\nconst initialUavImageData = () => ({ opacity: 100, visible: false });\n\nexport default props => {\n  const {\n    taskReducer: { taskDispatch }\n  } = useTaskContext();\n\n  const [imageViewerData, _setImageViewerData] = useState({});\n  const [uavImageData, setUavImageData] = useState(initialUavImageData());\n\n  const setImageViewerData = useCallback(\n    data => {\n      if (isEmpty(data)) {\n        _setImageViewerData({});\n      } else {\n        const date = data.takeTime ? moment(data.takeTime).format('YYYY-MM-DD HH:mm:ss') : '';\n        const comment = data.comment || '';\n        const title = `${date} ${comment}`;\n\n        _setImageViewerData({ ...data, title, url: data.bigImage, opacity: 100 });\n      }\n    },\n    [_setImageViewerData]\n  );\n\n  const imageViewerOnClose = useCallback(() => {\n    setImageViewerData({ ...imageViewerData, visible: false });\n  }, [imageViewerData, setImageViewerData]);\n\n  const imageViewerOnShow = useCallback(\n    item => {\n      setImageViewerData({ ...item, visible: true });\n    },\n    [setImageViewerData]\n  );\n\n  const onUavImageViewerClose = useCallback(() => {\n    setUavImageData(initialUavImageData());\n    taskDispatch('setFilters', { mainImageId: null });\n  }, [taskDispatch]);\n\n  const onMobileImageViewerClose = useCallback(() => {\n    setImageViewerData({});\n    taskDispatch('setFilters', { mainImageId: null });\n  }, [setImageViewerData, taskDispatch]);\n\n  const onUavClick = useCallback(\n    item => {\n      onMobileImageViewerClose();\n      if (uavImageData.id === item.id) return onUavImageViewerClose();\n\n      const data = { ...uavImageData, ...item };\n      setUavImageData({ ...data, visible: true });\n      setImageViewerData({ ...data, visible: false });\n      taskDispatch('setFilters', { mainImageId: item.id });\n    },\n    [\n      onMobileImageViewerClose,\n      onUavImageViewerClose,\n      setImageViewerData,\n      taskDispatch,\n      uavImageData\n    ]\n  );\n\n  const onMobileClick = useCallback(\n    (e, item) => {\n      onUavImageViewerClose();\n      setImageViewerData(item);\n      imageViewerOnShow(item);\n      taskDispatch('setFilters', { mainImageId: item.id });\n    },\n    [imageViewerOnShow, onUavImageViewerClose, setImageViewerData, taskDispatch]\n  );\n\n  const onImageLayerOpacityChange = useCallback(\n    opacity => {\n      setUavImageData({ ...uavImageData, opacity });\n    },\n    [uavImageData]\n  );\n\n  return {\n    imageViewerData,\n    imageViewerOnShow,\n    imageViewerOnClose,\n    uavImageData,\n    onUavClick,\n    onMobileClick,\n    onImageLayerOpacityChange\n  };\n};\n","import React, { useMemo } from 'react';\nimport { TMap } from '@terraqt/garden';\n\nimport { SyncTrigger } from './MapSync';\nimport useSatellite from '../states/useSatellite';\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport TaskGeoJSON from './TaskGeoJSON'\nimport Mouse from './Mouse'\n\nconst {\n  GeoJSON,\n  TqtTileLayer\n} = TMap;\n\nconst CompairMap = ({ imagePath }) => {\n  const { taskReducer: { taskState: { task, curSample, curTile } } } = useTaskContext()\n\n  const { shape } = useMemo(() => {\n    return {\n      shape: curTile.shape,\n    }\n  }, [curTile])\n  \n  const { path } = useSatellite({ path: imagePath })\n\n  return (<>\n    <TMap className=\"mark-map\">\n      { shape && (\n        <>\n          <GeoJSON data={shape} />\n        </>\n      ) }\n      <TaskGeoJSON task={task} />\n\n      <Mouse />\n\n      { path && (\n        <TqtTileLayer\n          path={path}\n          shape={shape}\n          options={{ maxNativeZoom: 16 }}\n        />\n      ) }\n\n      { curSample.shape && <GeoJSON data={curSample.shape} /> }\n\n      <SyncTrigger />\n    </TMap>\n  </>);\n};\n\nexport default CompairMap;\n","import React from 'react'\n\nimport { useTaskContext } from 'src/pages/Samples/Task/utils/context'\nimport MainMap from './MainMap'\nimport MapSync from './components/MapSync'\nimport CompairMap from './components/CompairMap'\n\nexport default (props) => {\n  const { taskReducer: { taskState: { task, filters } } } = useTaskContext()\n  const { topLeftImagePath, topRightImagePath } = filters\n\n  return <div className=\"t-map\">\n    <div className=\"map-container\">\n      <MapSync>\n        { task.mode === 'RANGE' && <><div className=\"compair-map-container\">\n            <CompairMap imagePath={topLeftImagePath} />\n            <CompairMap imagePath={topRightImagePath} />\n          </div>\n          <div className=\"main-map-container\">\n            <MainMap />\n          </div>\n          </>\n        }\n\n        { task.mode !== 'RANGE' &&  <div className=\"main-map-container\">\n            <MainMap />\n          </div>\n        }\n      </MapSync>\n    </div>\n  </div>\n}","import React, { useMemo, useEffect, useCallback } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport service from 'src/services/samples';\nimport { useQuery } from 'src/utils/hooks';\nimport useNav from '../../utils/useNav';\nimport { useTaskContext } from '../../utils/context'\nimport { createStateTask, mergeTileList } from '../../utils/adapter'\n\nimport Form from './Form'\nimport MarkMap from '../Map'\n\nconst Tile = (props) => {\n  const { match: { params }, footer, operation = 'mark' } = props\n  const query = useQuery();\n  const { taskReducer: { taskState, taskDispatch } } = useTaskContext()\n  const taskId = useMemo(() => params.taskId, [params])\n  const taskName = useMemo(() => query.get('taskName'), [query])\n  const tile = useMemo(() => params.tile, [params])\n  const navList = useMemo(() => [\n    { name: taskName, key: `/app/sample-task/${operation}/${taskId}/?taskName=${taskName}` },\n    { name: tile },\n  ], [operation, taskId, taskName, tile])\n\n  useNav({ navList });\n\n  const curTile = useMemo(() => taskState.tileList.find(item => item.tile === tile) || {}, [taskState.tileList, tile])\n\n  const getTask = useCallback(async () => {\n    if (!taskId) return \n    const task = await service.getTask(taskId)\n    taskDispatch('setTask', createStateTask(task))\n    taskDispatch('setTileList', mergeTileList(task.tileList, task.tiles))\n\n  }, [taskId, taskDispatch])\n\n  const getMarked = useCallback(async () => {\n    const res = await service.queryMarked(taskId, tile)\n    taskDispatch('setMarkedSamples', res)\n  }, [taskDispatch, taskId, tile])\n\n  useEffect(() => {\n    getTask()\n  }, [getTask])\n\n  useEffect(() => {\n    getMarked()\n  }, [getMarked])\n  \n  useEffect(() => {\n    taskDispatch('setCurTile', curTile)\n    return () => {\n      taskDispatch('resetFilters')\n    }\n  }, [curTile, taskDispatch])\n  \n  return <div className=\"sample-task-layout\">\n    <Form taskId={taskId} footer={footer} />\n    <MarkMap taskState={taskState} />\n  </div>\n}\n\nexport default withRouter(Tile)","import React, { useMemo, useState, useEffect, useCallback } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { TMap } from '@terraqt/garden'\n\nimport service from 'src/services/samples';\nimport { useQuery } from 'src/utils/hooks';\nimport useNav from '../utils/useNav';\nimport FormCollection from '../FormCollection'\nimport useTaskReducer from '../utils/reducer'\nimport { createStateTask, mergeTileList } from '../utils/adapter'\nimport TaskGeoJSON from './Map/components/TaskGeoJSON'\n\nconst { TilePolygon, BoundsFit } = TMap\n\nconst Detail = (props) => {\n  const { history: { push }, match: { params }, footer, operation = 'mark' } = props\n  const query = useQuery();\n  const { taskState: { task, tileList }, taskDispatch } = useTaskReducer()\n  const [ filters, setFilters ] = useState({});\n\n  const taskId = useMemo(() => params.taskId, [params])\n  const taskName = useMemo(() => query.get('taskName'), [query])\n\n  useNav({ name: taskName });\n\n  const getTask = useCallback(async () => {\n    if (!taskId) return \n    const task = await service.getTask(taskId)\n    taskDispatch('setTask', createStateTask(task))\n    taskDispatch('setTileList', mergeTileList(task.tileList, task.tiles))\n\n  }, [taskId, taskDispatch])\n\n  const onTilePolygonClick = useCallback((e, tile) => {\n    const url = `/app/sample-task/${operation}/${taskId}/${tile}?taskName=${taskName}`\n    push(url)\n  }, [operation, push, taskId, taskName])\n\n  const collection = useMemo(() => {\n    const tileLstCollection = [\n      {\n        form: {\n          type: 'tile-list',\n          editable: false,\n          dataSource: tileList,\n          onTileClick: onTilePolygonClick\n        }\n      }\n    ]\n\n    return tileLstCollection\n  }, [onTilePolygonClick, tileList])\n\n  const fitShapes = useMemo(() => tileList.map(item => item.shape), [tileList])\n\n  useEffect(() => {\n    getTask()\n  }, [getTask])\n\n  return <div className=\"sample-task-layout\">\n    <FormCollection collection={collection} filters={filters} setFilters={setFilters} width={350} footer={footer} />\n    <div className=\"t-map\">\n      <TMap>\n        <TaskGeoJSON task={task} />\n        <BoundsFit flyEnable={false} shapes={fitShapes} />\n        {tileList.map(item => (\n          <TilePolygon key={item.tile} text={item.tile} data={item.shape} onClick={onTilePolygonClick} />\n        ))}\n      </TMap>\n    </div>\n  </div>\n}\n\nexport default withRouter(Detail)","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport { TaskContextProvider } from '../utils/context'\nimport Tile from './Tile'\nimport Task from './Task'\n\nimport './style.sass'\n\nconst Comp = (props) => {\n\n  return <TaskContextProvider>\n    <Switch>\n      <Route exact path=\"/app/sample-task/mark/:taskId\" component={Task} />\n      <Route path=\"/app/sample-task/mark/:taskId/:tile\" component={Tile} />\n    </Switch>\n  </TaskContextProvider>\n}\n\nexport default Comp","import React, { useMemo, useEffect, useCallback } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { Button } from 'antd'\n\nimport service from 'src/services/samples';\nimport { useTaskContext } from '../utils/context'\nimport Tile from '../Mark/Tile'\n\n\nconst Comp = (props) => {\n  const { match: { params } } = props\n  const { taskReducer: { taskState: { auditSamples }, taskDispatch } } = useTaskContext()\n  const taskId = useMemo(() => params.taskId, [params])\n  const tile = useMemo(() => params.tile, [params])\n\n\n  const queryForAudit = useCallback(async () => {\n    const res = await service.queryForAudit(taskId, tile)\n    taskDispatch('setAuditSamples', res)\n  }, [taskDispatch, taskId, tile])\n\n  const passAll = useCallback(async () => {\n    const sampleIds = auditSamples.map(item => item.id)\n    await service.auditSamples(sampleIds, 'PASS')\n  }, [auditSamples])\n\n  useEffect(() => {\n    queryForAudit()\n  }, [queryForAudit])\n\n  const footer = useMemo(() => <Button type=\"primary\" onClick={() => passAll()}>全部审核通过</Button>, [passAll])\n  return <Tile footer={footer} operation=\"audit\" />\n\n}\n\nexport default withRouter(Comp)","import React from 'react'\n\nimport Task from '../Mark/Task'\n\nexport default (props) => {\n  return <Task operation=\"audit\" />\n}","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport { TaskContextProvider } from '../utils/context'\nimport Tile from './Tile'\nimport Task from './Task'\n\nimport '../Mark/style.sass'\n\nconst Comp = (props) => {\n\n  return <TaskContextProvider>\n    <Switch>\n      <Route exact path=\"/app/sample-task/audit/:taskId\" component={Task} />\n      <Route path=\"/app/sample-task/audit/:taskId/:tile\" component={Tile} />\n    </Switch>\n  </TaskContextProvider>\n}\n\nexport default Comp","import React from 'react'\nimport { Route, Redirect, Switch } from 'react-router-dom'\n\n\nimport List from './List'\nimport Create from './Create'\nimport Mark from './Mark'\nimport Audit from './Audit'\n\nimport './style.sass'\n\nexport default (props) => {\n  return <>\n    <Switch>\n      <Route path=\"/app/sample-task/list\" component={List} />\n      <Route path=\"/app/sample-task/create\" component={Create} />\n      <Route path=\"/app/sample-task/mark/\" component={Mark} />\n      <Route path=\"/app/sample-task/audit\" component={Audit} />\n      <Redirect to=\"/app/sample-task/list\" />\n    </Switch>\n  </>\n}","import React, { useState, useCallback } from 'react';\nimport { Table, Button, Modal, Form, Popconfirm, Card, message } from 'antd';\nimport { SketchPicker } from 'react-color';\nimport GroundObjectTags from 'src/components/GroundObjectTags';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport sampleService from 'src/services/account';\nimport './style.sass';\n\nconst { Column } = Table;\n\nconst ColorBar = ({ rgba, ...rest }) => {\n  return (\n    <div\n      className=\"account-mark-colorbar\"\n      {...rest}\n      style={{\n        background: `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`\n      }}\n    />\n  );\n};\n\nconst newTagSettting = {\n  tagCode: null,\n  settings: {\n    borderColor: {\n      r: 241,\n      g: 112,\n      b: 19,\n      a: 100\n    }\n  }\n};\n\nconst MarksColor = () => {\n  const [modalShow, setModalShow] = useState(false);\n  const [sketchPickerShow, setSketchPickerShow] = useState(false);\n  const [tag, setTag] = useState(newTagSettting);\n  const [operate, setOperate] = useState(null);\n  const { account } = useGlobalContext();\n  const { tagSettings, getAllTagSettings, getAllTagColors } = account;\n\n  const onTagChange = useCallback((key, val, tag) => {\n    setTag({\n      ...tag,\n      [key]: val\n    });\n  }, []);\n\n  const onCancel = useCallback(() => {\n    setModalShow(false);\n    setTag(newTagSettting);\n  }, []);\n\n  const onCreate = useCallback(tag => {\n    setModalShow(true);\n    setOperate('创建');\n    setTag(tag);\n  }, []);\n\n  const onEdit = useCallback(tag => {\n    setModalShow(true);\n    setOperate('确定');\n    setTag(tag);\n  }, []);\n\n  const saveTagSettings = useCallback(\n    async tag => {\n      try {\n        await sampleService.saveTagSettings(tag.tagCode, tag.settings);\n        getAllTagSettings();\n        getAllTagColors();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        onCancel();\n      }\n    },\n    [getAllTagColors, getAllTagSettings, onCancel]\n  );\n\n  const deleteTagSettings = useCallback(\n    async tag => {\n      try {\n        await sampleService.deleteTagSettings(tag.tagCode);\n        getAllTagSettings();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [getAllTagSettings]\n  );\n\n  return (\n    <Card className=\"account-mark-color\">\n      <Button type=\"primary\" onClick={() => onCreate(tag)}>\n        新建标签颜色\n      </Button>\n      <Table\n        size=\"small\"\n        className=\"mark-color-table\"\n        dataSource={tagSettings}\n        rowKey={tag => tag.tagCode}\n        pagination={{\n          showSizeChanger: true,\n          defaultPageSize: 30\n        }}\n      >\n        <Column title=\"地物标签\" dataIndex=\"tagPath\" key=\"tagPath\" />\n        <Column\n          title=\"样本描边颜色\"\n          dataIndex=\"settings\"\n          key=\"settings\"\n          render={settings => <ColorBar rgba={settings.borderColor} />}\n        />\n        <Column\n          title=\"操作\"\n          render={t => {\n            return (\n              <>\n                <Button\n                  type=\"link\"\n                  onClick={() => {\n                    onEdit(t);\n                  }}\n                >\n                  编辑\n                </Button>\n\n                <Popconfirm\n                  title=\"确认删除?\"\n                  okText=\"删除\"\n                  cancelText=\"取消\"\n                  onConfirm={() => deleteTagSettings(t)}\n                >\n                  <Button type=\"link\">删除</Button>\n                </Popconfirm>\n              </>\n            );\n          }}\n        />\n      </Table>\n\n      {/* edit mark tag color */}\n      <Modal\n        className=\"mark-color-edit-modal\"\n        zIndex={100}\n        title=\"编辑标签\"\n        visible={modalShow}\n        onCancel={() => setModalShow(false)}\n        footer={\n          <>\n            <Button onClick={onCancel}>取消</Button>\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                saveTagSettings(tag);\n              }}\n              disabled={!tag.tagCode}\n            >\n              {operate}\n            </Button>\n          </>\n        }\n      >\n        <Form.Item label=\"选择地物标签\">\n          <GroundObjectTags\n            value={tag.tagCode}\n            changeOnSelect\n            disabled={operate === '确定'}\n            onChange={val => {\n              onTagChange('tagCode', val, tag);\n            }}\n          />\n        </Form.Item>\n        <Form.Item label=\"样本描边颜色\">\n          {sketchPickerShow ? (\n            <div className=\"account-mark-setcolor-popover\">\n              <div\n                className=\"account-mark-setcolor-close\"\n                onClick={() => {\n                  setSketchPickerShow(false);\n                }}\n              />\n              <SketchPicker\n                color={tag.settings.borderColor}\n                onChange={colors =>\n                  onTagChange('settings', { borderColor: colors.rgb }, tag)\n                }\n              />\n            </div>\n          ) : null}\n\n          <ColorBar\n            onClick={() => {\n              setSketchPickerShow(true);\n            }}\n            rgba={tag.settings.borderColor}\n          />\n        </Form.Item>\n      </Modal>\n    </Card>\n  );\n};\n\nexport default MarksColor;\n","import React, { useState, useCallback } from 'react';\nimport { Spin } from 'antd';\nimport './style.sass';\n\nconst Uploader = ({ onChange, limitInfo, icon, accept }) => {\n  const [loading, setLoading] = useState(false);\n\n  const _onChange = useCallback(\n    async files => {\n      setLoading(true);\n      await onChange(files);\n      setLoading(false);\n    },\n    [onChange]\n  );\n\n  const onDrop = e => {\n    e.preventDefault();\n    const files = (e.dataTransfer && e.dataTransfer.files) || e.target.files;\n    _onChange(files);\n  };\n\n  return (\n    <div className=\"uploader-operation\">\n      <div type=\"file\" className=\"uploader-operation-area\">\n        {!loading ? icon : <Spin />}\n        <h3>点击或将文件拖拽到这里上传</h3>\n        <p>支持扩展名：{limitInfo}</p>\n        <input\n          onDrop={onDrop}\n          onChange={onDrop}\n          type=\"file\"\n          multiple\n          accept={accept}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Uploader;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Table, Card, Button, message } from 'antd';\nimport Uploader from 'src/components/Uploader';\nimport toolsService from 'src/services/tools';\nimport { copyTextToClipboard } from 'src/utils/mixs';\nimport { mGet, mSet } from 'src/utils/ls';\nimport { FileAddOutlined } from '@ant-design/icons';\nimport { fileReadAsDataURL } from 'src/utils/file-reader';\nimport './style.sass';\n\nconst { Column } = Table;\n\nfunction setLocalFiles(files) {\n  mSet('upload-local-records', 'files', files);\n}\n\nfunction getLocalFiles() {\n  return mGet('upload-local-records', 'files') || [];\n}\n\nfunction clearLocalFiles() {\n  mSet('upload-local-records', 'files', null);\n}\n\nconst UploadTool = () => {\n  const [files, setFiles] = useState([]);\n\n  const upload = useCallback(async (files, preFiles) => {\n    const fileList = await fileReadAsDataURL(files);\n    try {\n      const _files = await Promise.all(\n        fileList.map(async f => {\n          let url = await toolsService.upload(f.name, f.base64);\n          return {\n            ...f,\n            url\n          };\n        })\n      );\n\n      let nextFiles = [..._files, ...preFiles];\n      setFiles(nextFiles);\n      setLocalFiles(nextFiles);\n    } catch (e) {\n      message.error(e.message);\n    }\n    return true;\n  }, []);\n\n  const clear = useCallback(() => {\n    clearLocalFiles();\n    setFiles([]);\n  }, []);\n\n  useEffect(() => {\n    let localFiles = getLocalFiles();\n    setFiles(localFiles);\n  }, []);\n\n  return (\n    <div className=\"upload-container\">\n      <Uploader\n        onChange={_files => {\n          upload(_files, files);\n        }}\n        limitInfo=\".png .jpg .gif .pdf .mp4等，最大支持10M\"\n        icon={<FileAddOutlined />}\n      />\n      <Card className=\"upload-lists\">\n        <Button type=\"primary\" className=\"mb12\" onClick={clear}>\n          清除本地记录\n        </Button>\n        <Table\n          size=\"small\"\n          dataSource={files}\n          rowKey={i => i.url}\n          pagination={{\n            showTotal: () => `共${files.length}条`,\n            showSizeChanger: true,\n            defaultPageSize: 30\n          }}>\n          <Column title=\"文件名\" dataIndex=\"name\" />\n\n          <Column\n            title=\"URL地址（点击复制）\"\n            render={f => {\n              return (\n                <Button type=\"link\" onClick={() => copyTextToClipboard(f.url)}>\n                  {f.url}\n                </Button>\n              );\n            }}\n          />\n          <Column\n            title=\"操作\"\n            render={f => {\n              return (\n                <a href={f.url} rel=\"noopener noreferrer\" target=\"_blank\">\n                  查看\n                </a>\n              );\n            }}\n          />\n        </Table>\n      </Card>\n    </div>\n  );\n};\n\nexport default UploadTool;\n","export default function UUID() {\n  var d = new Date().getTime();\n  if (\n    window.performance &&\n    typeof window.performance.now === 'function'\n  ) {\n    d += performance.now();\n  }\n  var uuid = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(\n    /[xy]/g,\n    function(c) {\n      var r = (d + Math.random() * 16) % 16 | 0;\n      d = Math.floor(d / 16);\n      return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    }\n  );\n  return `${uuid.toUpperCase()}`;\n}\n","import { sky } from 'src/utils/api.js';\nimport uuid from 'src/utils/uuid';\n\nclass service {\n  // 标品管理\n  async queryAllPublishedRecords() {\n    let list = await sky.invoke('PublishedRecordService.getAllPublishedRecords');\n    return list.map(record => ({\n      ...record,\n      thumbnail: record.thumbnail || '-',\n      resolution: record.resolution || '-'\n    }));\n  }\n\n  queryAllProducts() {\n    return sky.invoke('DataStandardService.getAllProducts');\n  }\n\n  async queryPublishedRecords(cdpCode, beginTime, endTime, shape) {\n    let list = await sky.invoke('PublishedRecordService.queryPublishedRecords', {\n      cdpCode,\n      beginTime,\n      endTime,\n      shape\n    });\n    if (list.length === 0) {\n      return list;\n    }\n    return list.map(record => ({\n      ...record,\n      thumbnail: record.thumbnail || '-',\n      resolution: record.resolution || '-'\n    }));\n  }\n\n  async querySpaceInfo(publishedRecordId) {\n    let _shape = await sky.invoke('PublishedRecordService.querySpaceInfo', {\n      publishedRecordId\n    });\n    return { shape: { type: 'SHAPE', value: JSON.parse(_shape.geometry) } };\n  }\n  createProduct(publishedRecord) {\n    return sky.invoke('PublishedRecordService.createProduct', {\n      publishedRecord\n    });\n  }\n\n  operatePublishedData(publishedRecordId, operationType) {\n    return sky.invoke('PublishedRecordService.operatePublishedData', {\n      publishedRecordId,\n      operationType\n    });\n  }\n\n  verifyDuplicateData(wantToOnlineId) {\n    return sky.invoke('PublishedRecordService.queryNeedToOffline', {\n      wantToOnlineId\n    });\n  }\n\n  uploadTiff(fileName, data, token) {\n    return sky.invoke('UploadService.uploadFileWithToken', {\n      fileName,\n      data,\n      token\n    });\n  }\n\n  // pros\n  async getAllCategories() {\n    let categories = await sky.invoke('CdpService.getAllCategories', {});\n    return categories.map(k => ({ ...k, value: k.code }));\n  }\n\n  saveCategory(cdp) {\n    return sky.invoke('CdpService.saveCategory', { cdp });\n  }\n\n  deleteCategory(id) {\n    return sky.invoke('CdpService.deleteCategory', { id });\n  }\n\n  // cors\n  async getAllCors() {\n    let cors = await sky.invoke('CdpService.getCdpsByType', {\n      type: 'COR'\n    });\n    return cors.map(k => ({\n      ...k,\n      legend: {\n        ...k.legend,\n        items: k.legend && k.legend.items.map(items => ({ ...items, id: uuid() }))\n      },\n      cmapLegend: k.cmapLegend && {\n        ...k.cmapLegend,\n        items: k.cmapLegend.items.map(items => ({ ...items, id: uuid() }))\n      },\n      cdpName: k.pro.name,\n      proCode: k.pro.code,\n      formEnas: k.enas.map(n => n.code),\n      value: k.code,\n      name: k.name,\n      cmapLegentType: k.cmapLegend ? k.cmapLegend.colorType : null\n    }));\n  }\n\n  saveCor(cor) {\n    return sky.invoke('CdpService.saveCor', { cor });\n  }\n\n  deleteCor(id) {\n    return sky.invoke('CdpService.deleteCdp', { id, type: 'COR' });\n  }\n\n  // ders\n  async getAllDers() {\n    let ders = await sky.invoke('CdpService.getCdpsByType', {\n      type: 'DER'\n    });\n\n    return ders.map(k => ({\n      ...k,\n      legend: {\n        ...k.legend,\n        items: k.legend && k.legend.items.map(items => ({ ...items, id: uuid() }))\n      },\n      cmapLegend: k.cmapLegend && {\n        ...k.cmapLegend,\n        items: k.cmapLegend.items.map(items => ({ ...items, id: uuid() }))\n      },\n      cdpName: k.pro.name,\n      corCode: k.pro.code,\n      formEnas: k.enas.map(n => n.code),\n      cmapLegentType: k.cmapLegend ? k.cmapLegend.colorType : null\n    }));\n  }\n\n  saveDer(der) {\n    return sky.invoke('CdpService.saveDer', { der });\n  }\n\n  deleteDer(id) {\n    return sky.invoke('CdpService.deleteCdp', { id, type: 'DER' });\n  }\n\n  // enas\n  async getAllEnas() {\n    let enas = await sky.invoke('EnaService.getAllEnas', {});\n    return enas.map(k => ({ ...k, value: k.code }));\n  }\n\n  createEna(ena) {\n    return sky.invoke('EnaService.createEna', { ena });\n  }\n\n  deleteEna(id) {\n    return sky.invoke('EnaService.deleteEna', { id });\n  }\n\n  updateEna(ena) {\n    return sky.invoke('EnaService.updateEna', { ena });\n  }\n}\n\nexport default new service();\n","import React, { useState, useMemo, useEffect, useCallback } from 'react';\nimport { Card, Form, Button, message } from 'antd';\nimport SkyFilter from 'src/components/SkyFilter';\nimport { Link } from 'react-router-dom';\nimport standardService from 'src/services/standard';\n\nconst Filters = ({ setStandards, setTableLoading, fetchAllStandards }) => {\n  const [filters, setFilters] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [btnLoading, setBtnLoading] = useState(false);\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: 'COR编号',\n        filterType: 'TREE_SELECT',\n        valueKey: 'cdpCode',\n        treeData: products\n      },\n      {\n        label: '时间范围',\n        filterType: 'DATES',\n        valueKey: 'dates'\n      },\n      {\n        label: '空间范围',\n        filterType: 'SPACE',\n        valueKey: 'shape',\n        spaceOptions: [\n          {\n            key: '行政区域',\n            value: 'ADMINISTRATIVE_REGION'\n          },\n          {\n            key: '手动划区',\n            value: 'SHAPE'\n          },\n          {\n            key: '经纬度',\n            value: 'POINTER'\n          }\n        ]\n      }\n    ],\n    [products]\n  );\n\n  useEffect(() => {\n    (async function () {\n      let products = await standardService.queryAllProducts();\n      setProducts(products);\n    })();\n  }, []);\n\n  // 获取筛选数据\n  const queryFilteredTasksList = useCallback(\n    async filters => {\n      try {\n        if (filters) {\n          setTableLoading(true);\n          setBtnLoading(true);\n          let dates = filters.dates;\n          let shape = { ...filters.shape };\n\n          if (shape.type === 'POINTER') {\n            shape.value = JSON.stringify({\n              type: 'Point',\n              coordinates: [shape.lon, shape.lat]\n            });\n            shape.type = 'SHAPE';\n          }\n\n          let _tasks = await standardService.queryPublishedRecords(\n            filters.cdpCode,\n            dates && dates.length ? dates[0].format('YYYY-MM-DDT00:00:00') : undefined,\n            dates && dates.length ? dates[1].format('YYYY-MM-DDT23:59:59') : undefined,\n            !shape.type ? null : { type: shape.type, value: shape.value }\n          );\n          setStandards(_tasks);\n        }\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setTableLoading(false);\n        setBtnLoading(false);\n      }\n    },\n    [setTableLoading, setStandards]\n  );\n\n  const disableButton = useMemo(() => {\n    return !filters;\n  }, [filters]);\n\n  const cleanFilters = useCallback(() => {\n    setFilters({});\n    fetchAllStandards();\n  }, [fetchAllStandards]);\n\n  return (\n    <Card className=\"standard-publish-card\">\n      <SkyFilter layout=\"inline\" value={filters} enabledFilters={enabledFilters} onChange={setFilters} />\n      <Form.Item>\n        <Button\n          className=\"standard-filters-OKbtn\"\n          type=\"primary\"\n          disabled={disableButton}\n          onClick={() => {\n            queryFilteredTasksList(filters);\n          }}\n          loading={btnLoading}>\n          查询\n        </Button>\n        <Button className=\"standard-filters-cleanbtn\" type=\"primary\" disabled={disableButton} onClick={cleanFilters}>\n          重置\n        </Button>\n        <span>\n          <Link to=\"/app/standard-publish?type=info\">\n            <Button type=\"primary\">数据发布</Button>\n          </Link>\n        </span>\n      </Form.Item>\n    </Card>\n  );\n};\n\nexport default Filters;\n","import React, { useState, useCallback } from 'react';\nimport { Card, Table, Button, message, Popconfirm, Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport getTableFilter from 'src/components/TableFilter';\nimport ConditionModal from 'src/components/ConditionModal';\nimport standardService from 'src/services/standard';\n\nconst { confirm } = Modal;\n\nconst disabledOnline = [\n  { name: '上线', enable: false },\n  { name: '下线', enable: true },\n  { name: '删除', enable: true }\n];\nconst disabledOffline = [\n  { name: '上线', enable: true },\n  { name: '下线', enable: false },\n  { name: '删除', enable: true }\n];\n\nconst QueryResult = ({ standards, setStandards, tableLoading }) => {\n  const [spaceInfos, setSpaceInfos] = useState();\n  const [conditionModalShow, setConditionModalShow] = useState(false);\n  const [conditionModalLoading, setConditionModalLoading] = useState(false);\n\n  const columns = [\n    {\n      title: 'ID',\n      dataIndex: 'id',\n      filteredValue: standards.id,\n      defaultSortOrder: 'descend',\n      sorter: (a, b) => a.id - b.id\n    },\n    {\n      title: '预览',\n      dataIndex: 'thumbnail',\n      render: url =>\n        url === '-' ? '-' : <img alt=\"img\" className=\"standard-simg\" src={`https://tile-cdn.terraqt.com/${url}`} />\n    },\n    {\n      title: '批次时间',\n      dataIndex: 'batchTime',\n      sorter: (a, b) => moment(a.batchTime).valueOf() - moment(b.batchTime).valueOf(),\n      render: time => {\n        return `${time.slice(0, 10)}`;\n      }\n    },\n    {\n      title: 'COR',\n      dataIndex: 'title',\n      ...getTableFilter('title')\n    },\n    { title: '行政区划', dataIndex: 'regionName', width: 120 },\n\n    {\n      title: '空间范围',\n      dataIndex: 'id',\n      render: id => (\n        <Button\n          type=\"link\"\n          onClick={() => {\n            onClickSpaceInfo(id);\n          }}>\n          查看\n        </Button>\n      )\n    },\n    {\n      title: '影像时间范围',\n      dataIndex: 'imgTimeRange',\n      render: img => {\n        return `${img.beginTime.slice(0, 10)}~${img.endTime.slice(0, 10)}`;\n      }\n    },\n    { title: '分辨率', dataIndex: 'resolution' },\n    {\n      title: '发布者',\n      dataIndex: 'uploader',\n      ...getTableFilter('uploader')\n    },\n    {\n      title: '操作',\n      dataIndex: 'operations',\n      render: (operations, standard) => (operations ? operations.map(o => setOperations(o, standard)) : null)\n    }\n  ];\n\n  const deleteStandard = useCallback(\n    async function (standard, opreate) {\n      try {\n        await standardService.operatePublishedData(standard.id, opreate);\n        setStandards(standards.filter(t => t.id !== standard.id));\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [setStandards, standards]\n  );\n\n  // 更新可操作的按钮状态\n  const updateStandard = useCallback(\n    (rId, operate) => {\n      setStandards(\n        standards.map(t => {\n          if (t.id === rId) {\n            return {\n              ...t,\n              operations: operate === 'ONLINE' ? disabledOnline : disabledOffline\n            };\n          } else {\n            return t;\n          }\n        })\n      );\n    },\n    [setStandards, standards]\n  );\n\n  const operationStandard = useCallback(\n    async function (id, operate) {\n      try {\n        await standardService.operatePublishedData(id, operate);\n        updateStandard(id, operate);\n        message.success(`${operate}`);\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [updateStandard]\n  );\n\n  const showConfirm = useCallback(\n    id => {\n      confirm({\n        title: '确认上线此数据？',\n        icon: <ExclamationCircleOutlined />,\n        content: '线上已存在相同数据，选择确认，冲突数据将被自动下线',\n        onOk() {\n          operationStandard(id, 'ONLINE');\n        },\n        onCancel() {}\n      });\n    },\n    [operationStandard]\n  );\n\n  const verifyDuplicateStandard = useCallback(\n    async id => {\n      let content = await standardService.verifyDuplicateData(id);\n      try {\n        if (content.length === 0) {\n          operationStandard(id, 'ONLINE');\n        } else {\n          showConfirm(id);\n        }\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [operationStandard, showConfirm]\n  );\n\n  const onClickSpaceInfo = id => {\n    querySpaceInfo(id);\n    setConditionModalShow(true);\n    setConditionModalLoading(true);\n  };\n\n  const querySpaceInfo = useCallback(async id => {\n    let spaceInfo = await standardService.querySpaceInfo(id);\n    setSpaceInfos(spaceInfo);\n    setConditionModalLoading(false);\n  }, []);\n\n  const setOperations = useCallback(\n    (o, standard) => {\n      return o.name === '删除' ? (\n        <Popconfirm\n          title=\"确认删除?\"\n          key={o.name + standard.id}\n          onConfirm={() => {\n            deleteStandard(standard, 'DELETE');\n          }}\n          okText=\"删除\"\n          cancelText=\"取消\">\n          <Button type=\"link\" disabled={!o.enable} key={o.name}>\n            删除\n          </Button>\n        </Popconfirm>\n      ) : o.name === '上线' ? (\n        <Button type=\"link\" disabled={!o.enable} key={o.name} onClick={() => verifyDuplicateStandard(standard.id)}>\n          上线\n        </Button>\n      ) : (\n        <Button type=\"link\" disabled={!o.enable} key={o.name} onClick={() => operationStandard(standard.id, 'OFFLINE')}>\n          下线\n        </Button>\n      );\n    },\n    [deleteStandard, operationStandard, verifyDuplicateStandard]\n  );\n\n  const onCancel = () => {\n    setSpaceInfos({});\n    setConditionModalShow(false);\n  };\n\n  return (\n    <div className=\"standards-list\">\n      <Card>\n        <Table\n          size=\"small\"\n          dataSource={standards}\n          rowKey={standards => standards.id}\n          columns={columns}\n          loading={tableLoading}\n          pagination={{\n            showTotal: total => `共${total}条`,\n            showSizeChanger: true,\n            defaultPageSize: 30\n          }}\n        />\n      </Card>\n      <ConditionModal\n        infos={spaceInfos}\n        conditionModalShow={conditionModalShow}\n        conditionModalLoading={conditionModalLoading}\n        onCancel={onCancel}\n      />\n    </div>\n  );\n};\n\nexport default QueryResult;\n","import React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { Card, Form, Button, message, Input } from 'antd';\nimport { UploadOutlined, LoadingOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport SkyFilter from 'src/components/SkyFilter';\nimport { fileReadAsDataURL } from 'src/utils/file-reader';\nimport standardService from 'src/services/standard';\n\nconst tiffToken = '7aac4d69-26de-4a10-96f6-c03d7339eda2';\n\nconst StandardInfo = ({ fetchAllStandards }) => {\n  const [formItems, setFormItems] = useState({});\n  const [fileUrl, setFileURL] = useState(null);\n  const [fileName, setFileName] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: '选择产品',\n        filterType: 'TREE_SELECT',\n        valueKey: 'CORs',\n        treeData: products,\n        required: true\n      },\n      {\n        label: '取值映射',\n        filterType: 'INPUT_NUM',\n        valueKey: 'valueMapper',\n        required: true,\n        placeholder: '输入产品对应的数值',\n        disabled: !formItems.CORs\n      },\n      {\n        label: '批次时间',\n        filterType: 'DATE',\n        valueKey: 'batchTime',\n        required: true\n      },\n      {\n        label: '影像时间',\n        filterType: 'DATES',\n        valueKey: 'dates',\n        required: true\n      },\n      {\n        label: '空间范围',\n        filterType: 'SPACE',\n        valueKey: 'shape',\n        required: true,\n        spaceOptions: [\n          {\n            key: '行政区域',\n            value: 'ADMINISTRATIVE_REGION'\n          }\n        ]\n      },\n      {\n        label: '发布方式',\n        filterType: 'RADIO_LIST',\n        className: 'form-publish-type',\n        valueKey: 'publishMethod',\n        optionSource: [\n          { value: 'MANUAL', name: '手动发布' },\n          { value: 'IMMEDIATE', name: '立即发布', disabled: true }\n        ],\n        required: true\n      }\n    ],\n    [products, formItems.CORs]\n  );\n\n  const history = useHistory();\n  const goBack = () => {\n    history.push('/app/standard-publish');\n  };\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n  useEffect(() => {\n    (async function () {\n      let products = await standardService.queryAllProducts();\n      setProducts(products);\n    })();\n  }, []);\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: '发布管理',\n          key: '/app/standard-publish'\n        },\n        {\n          name: '数据发布',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  const cancel = () => {\n    setFormItems(null);\n    goBack();\n  };\n\n  const createTask = async () => {\n    try {\n      let dates = formItems.dates;\n      await standardService.createProduct({\n        cdpCode: formItems.CORs,\n        tiffMeta: { max: null, min: null, dataValue: formItems.valueMapper },\n        batchTime: formItems.batchTime.format('YYYY-MM-DDT00:00:00'),\n        imgTimeRange: {\n          beginTime: dates[0].format('YYYY-MM-DDT00:00:00'),\n          endTime: dates[1].format('YYYY-MM-DDT23:59:59')\n        },\n        tiffUrl: fileUrl,\n        shape: formItems.shape,\n        publishMethod: formItems.publishMethod\n      });\n      message.success('提交成功~');\n      goBack();\n      fetchAllStandards();\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  const disabledButton = useMemo(() => {\n    return (\n      !formItems ||\n      !formItems.CORs ||\n      !formItems.CORs.length ||\n      !formItems.valueMapper ||\n      !formItems.batchTime ||\n      !formItems.dates ||\n      !formItems.dates.length ||\n      !formItems.shape.value ||\n      !formItems.publishMethod ||\n      !fileUrl\n    );\n  }, [fileUrl, formItems]);\n\n  const onSelectTiff = useCallback(async e => {\n    let fileList = (e.dataTransfer && e.dataTransfer.files) || e.target.files;\n    setLoading(true);\n    let tiff = await fileReadAsDataURL(fileList);\n    try {\n      let _imgUrl = await standardService.uploadTiff(tiff[0].name, tiff[0].base64, tiffToken);\n      setLoading(false);\n      message.success('上传成功');\n      setFileURL(_imgUrl);\n      setFileName(tiff ? tiff[0].name : null);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  return (\n    <Card>\n      <div className=\"standard-info-form\">\n        <Form.Item className=\"upload-file\" label=\"文件选择\">\n          <Button type=\"primary\" ghost>\n            <UploadOutlined />\n            <label htmlFor=\"file\" className=\"input-file-label\">\n              上传tiff\n            </label>\n          </Button>\n          <div className=\"details\">\n            <div className=\"details-text\">{fileName ? fileName : '未选择文件'}</div>\n            <div className=\"loading-icon\">{loading ? <LoadingOutlined /> : null}</div>\n          </div>\n          <input className=\"input-file\" name=\"file\" id=\"file\" type=\"file\" accept=\".tif\" onChange={onSelectTiff} />\n        </Form.Item>\n        <Form.Item className=\"input-url\" label=\"文件路径\">\n          <Input placeholder=\"请输入\" value={fileUrl} onChange={e => setFileURL(e.target.value)} />\n        </Form.Item>\n        <SkyFilter layout=\"horizontal\" value={formItems} enabledFilters={enabledFilters} onChange={setFormItems} />\n        <div className=\"operate-btns\">\n          <Button type=\"primary\" onClick={createTask} disabled={disabledButton}>\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={cancel}>\n            取消\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default StandardInfo;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useQuery } from 'src/utils/hooks';\nimport { message } from 'antd';\nimport Filters from './Filters';\nimport QueryResult from './QueryResult';\nimport StandardInfo from './StandardInfo';\nimport standardService from 'src/services/standard';\nimport './style.sass';\n\nconst StandardPublish = () => {\n  const [standards, setStandards] = useState([]);\n  const [tableLoading, setTableLoading] = useState(false);\n\n  const fetchAllStandards = useCallback(async () => {\n    try {\n      setTableLoading(true);\n      let _standards = await standardService.queryAllPublishedRecords();\n      setStandards(_standards);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setTableLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchAllStandards();\n  }, [fetchAllStandards]);\n\n  let query = useQuery();\n  let type = query.get('type');\n\n  return type === 'info' ? (\n    <StandardInfo fetchAllStandards={fetchAllStandards} />\n  ) : (\n    <>\n      <Filters\n        setStandards={setStandards}\n        setTableLoading={setTableLoading}\n        fetchAllStandards={fetchAllStandards}\n      />\n      <QueryResult standards={standards} setStandards={setStandards} tableloading={tableLoading} />\n    </>\n  );\n};\n\nexport default StandardPublish;\n","import React from 'react';\nimport { Table, Button, Card } from 'antd';\nimport { Link } from 'react-router-dom';\nimport './style.sass';\n\nconst SqTable = ({ columns, datas, loading, path, type, text, onClickBtn }) => {\n  return (\n    <Card className=\"standard-list-card\">\n      {path ? (\n        <Link to={`/app/${path}?action=edit`}>\n          <Button type=\"primary\">{`新建${type}`}</Button>\n        </Link>\n      ) : (\n        <Button type=\"primary\" onClick={onClickBtn}>\n          {`新建${text}`}\n        </Button>\n      )}\n      <Table\n        size=\"small\"\n        className=\"cors-table\"\n        rowKey={data => data.id}\n        columns={columns}\n        dataSource={datas}\n        loading={loading}\n        pagination={{\n          showTotal: total => `共${total}条`,\n          showSizeChanger: true,\n          defaultPageSize: 30\n        }}\n      />\n    </Card>\n  );\n};\n\nexport default SqTable;\n","import React, { useEffect, useState, useCallback, useMemo } from 'react';\nimport { Button, Modal, message, Popconfirm } from 'antd';\nimport SkyFilter from 'src/components/SkyFilter';\nimport categoryService from 'src/services/standard';\nimport './style.sass';\nimport SqTable from '../SqTable';\n\nconst enabledFilters = [\n  {\n    label: '名称',\n    filterType: 'INPUT',\n    valueKey: 'name',\n    required: true\n  },\n  {\n    label: '编号',\n    filterType: 'INPUT',\n    valueKey: 'code',\n    required: true\n  }\n];\n\nconst StandardCategories = () => {\n  const [categories, setCategories] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n\n  const categoryColumn = [\n    { title: '产品分类', dataIndex: 'name' },\n    { title: '编号', dataIndex: 'code' },\n    {\n      title: '操作',\n      key: 'action',\n      render: (action, pro) => (\n        <>\n          {/* <Button\n            type=\"link\"\n            onClick={() => {\n              onUpdate(pro);\n            }}\n          >\n            编辑\n          </Button> */}\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteCategory(pro.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      )\n    }\n  ];\n\n  // const onUpdate = useCallback(c => {\n  //   setCategory(c);\n  //   setModalShow(true);\n  // }, []);\n\n  const onCancel = () => {\n    setModalShow(false);\n    setCategory([]);\n  };\n\n  const fetchAllCategories = useCallback(() => {\n    (async function () {\n      try {\n        setLoading(true);\n        let categories = await categoryService.getAllCategories();\n        setCategories(categories);\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  const deleteCategory = useCallback(\n    async id => {\n      try {\n        await categoryService.deleteCategory(id);\n        fetchAllCategories();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [fetchAllCategories]\n  );\n\n  const saveCategory = async category => {\n    setConfirmLoading(true);\n    let _category = category.id\n      ? {\n          name: category.name,\n          code: category.code,\n          id: category.id\n        }\n      : {\n          name: category.name,\n          code: category.code\n        };\n\n    try {\n      await categoryService.saveCategory(_category);\n      fetchAllCategories();\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setModalShow(false);\n      setCategory([]);\n      setConfirmLoading(false);\n    }\n  };\n\n  const disabledBtn = useMemo(() => {\n    return !category || !category.name || !category.code;\n  }, [category]);\n\n  useEffect(() => {\n    fetchAllCategories();\n  }, [fetchAllCategories]);\n\n  return (\n    <>\n      <SqTable\n        columns={categoryColumn}\n        datas={categories}\n        loading={loading}\n        setLoading={setLoading}\n        text=\"分类\"\n        onClickBtn={() => setModalShow(true)}\n      />\n      <Modal\n        title=\"编辑分类\"\n        visible={modalShow}\n        onCancel={onCancel}\n        onOk={() => saveCategory(category)}\n        okButtonProps={{ disabled: disabledBtn }}\n        confirmLoading={confirmLoading}\n      >\n        <SkyFilter\n          value={category}\n          enabledFilters={enabledFilters}\n          onChange={setCategory}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default StandardCategories;\n","import React, { useCallback } from 'react';\nimport { SketchPicker } from 'react-color';\nimport { Popover } from 'antd';\nimport './style.sass';\n\nconst ColorSet = ({ rgba, setColorBar, onChange, ...rest }) => {\n  const onPickerChange = useCallback(\n    colors => {\n      if (setColorBar) {\n        setColorBar({ sqColor: colors.rgb });\n      } else {\n        onChange(colors);\n      }\n    },\n\n    [onChange, setColorBar]\n  );\n  const createSketchPicker = color => {\n    return (\n      <>\n        <SketchPicker color={color} onChange={onPickerChange} />\n      </>\n    );\n  };\n\n  return (\n    <>\n      <Popover\n        content={\n          <div className=\"color-set-popover\">{createSketchPicker(rgba)}</div>\n        }\n        trigger=\"click\"\n      >\n        <div\n          className=\"colorbar\"\n          {...rest}\n          style={{\n            background: `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`\n          }}\n        />\n      </Popover>\n    </>\n  );\n};\n\nexport default ColorSet;\n","import React, { useCallback } from 'react';\nimport { Button, Table, Popconfirm, Input } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport ColorSet from './ColorSet';\nimport uuid from 'src/utils/uuid';\n\nconst IntervalColor = ({ colorData, setColorData, uneditName }) => {\n  const deleteLegend = useCallback(\n    deleteIndex => {\n      let data = colorData.filter((item, index) => index !== deleteIndex);\n      setColorData(data);\n    },\n    [colorData, setColorData]\n  );\n\n  const addLegend = useCallback(() => {\n    let newData = {\n      id: uuid(),\n      value: '',\n      sqColor: {\n        r: 78,\n        g: 124,\n        b: 209,\n        a: 1\n      }\n    };\n    setColorData([...colorData, newData]);\n  }, [colorData, setColorData]);\n\n  const updateColorValue = useCallback(\n    (value, data) => {\n      let newColorData = colorData.find(c => c.id === data.id);\n      newColorData.value = value;\n      setColorData([...colorData]);\n    },\n    [colorData, setColorData]\n  );\n\n  const updateColorData = useCallback(\n    (color, data) => {\n      let newColorData = colorData.find(c => c.id === data.id);\n      newColorData.sqColor = color.rgb;\n      setColorData([...colorData]);\n    },\n    [colorData, setColorData]\n  );\n\n  const renderColor = useCallback(\n    (item, data) => (\n      <ColorSet\n        rgba={item.sqColor}\n        onChange={colors => updateColorData(colors, data)}\n      />\n    ),\n    [updateColorData]\n  );\n\n  const columns = [\n    {\n      title: '插入值',\n      dataIndex: 'value',\n      render: (v, data, index) => {\n        return (\n          <Input\n            style={{ width: 80, textAlign: 'center', marginRight: 5 }}\n            value={v}\n            disabled={uneditName}\n            onChange={e => updateColorValue(e.target.value, data)}\n          />\n        );\n      }\n    },\n    {\n      title: '颜色',\n      render: renderColor\n    },\n    {\n      title: '操作',\n      dataIndex: 'action',\n      render: (item, data, index) => (\n        <Popconfirm\n          title=\"确认删除？\"\n          onConfirm={() => deleteLegend(index)}\n          disabled={\n            data.id !== colorData[colorData.length - 1].id ||\n            colorData.length === 1\n          }\n        >\n          <Button\n            type=\"link\"\n            disabled={\n              data.id !== colorData[colorData.length - 1].id ||\n              colorData.length === 1\n            }\n          >\n            删除\n          </Button>\n        </Popconfirm>\n      )\n    }\n  ];\n\n  return (\n    <>\n      <Table\n        rowKey={data => data.id}\n        className=\"cmap-table\"\n        dataSource={colorData}\n        columns={columns}\n      />\n      <Button className=\"add-row-btn\" type=\"dashed\" onClick={addLegend}>\n        <PlusOutlined />\n        新增\n      </Button>\n    </>\n  );\n};\n\nexport default IntervalColor;\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Button, Table, Popconfirm, Input } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport ColorSet from './ColorSet';\nimport uuid from 'src/utils/uuid';\n\nconst InsertColor = ({ colorData, setColorData }) => {\n  const [page, setPage] = useState(1);\n  const updateInsertLegendValue = useCallback(\n    (value, index) => {\n      // pagination index\n      const _index = (page - 1) * 10 + index;\n      colorData[_index].value = value;\n      setColorData([...colorData]);\n    },\n    [colorData, page, setColorData]\n  );\n\n  const updateInsertLegendColor = useCallback(\n    (colors, index) => {\n      let _index = (page - 1) * 10 + index;\n      colorData[_index].sqColor = colors.rgb;\n      setColorData([...colorData]);\n    },\n    [colorData, page, setColorData]\n  );\n\n  const deleteInsertLegend = useCallback(\n    deleteIndex => {\n      let data = colorData.filter((item, index) => index !== deleteIndex);\n      setColorData(data);\n    },\n    [colorData, setColorData]\n  );\n\n  const addInsertLegend = useCallback(() => {\n    let newData = {\n      id: uuid(),\n      value: '',\n      sqColor: {\n        r: 78,\n        g: 124,\n        b: 209,\n        a: 1\n      }\n    };\n    setColorData([...colorData, newData]);\n  }, [colorData, setColorData]);\n\n  const formColorData = useMemo(() => {\n    let formColorData = [];\n    colorData.forEach((item, index) => {\n      if (index === colorData.length - 1) return;\n      let leftValue = item.value;\n      let rightValue = colorData[index + 1].value;\n      formColorData.push({\n        ...item,\n        value: [leftValue, rightValue],\n        key: index\n      });\n    });\n    return formColorData;\n  }, [colorData]);\n\n  const renderColor = useCallback(\n    (item, data, index) => (\n      <ColorSet\n        rgba={item.sqColor}\n        onChange={colors => updateInsertLegendColor(colors, index)}\n      />\n    ),\n    [updateInsertLegendColor]\n  );\n\n  const columns = [\n    {\n      title: '区间值',\n      dataIndex: 'value',\n      render: (num, data, index) => {\n        return (\n          <>\n            <Input\n              style={{ width: 80, textAlign: 'center', marginRight: 5 }}\n              placeholder=\"Small\"\n              value={num[0]}\n              onChange={e => {\n                updateInsertLegendValue(e.target.value, index);\n              }}\n            />\n            ~\n            <Input\n              className=\"site-input-right\"\n              style={{\n                width: 80,\n                textAlign: 'center',\n                marginLeft: 5\n              }}\n              placeholder=\"Large\"\n              value={num[1]}\n              onChange={e => {\n                updateInsertLegendValue(e.target.value, index + 1);\n              }}\n            />\n          </>\n        );\n      }\n    },\n    {\n      title: '颜色',\n      render: renderColor\n    },\n    {\n      title: '操作',\n      dataIndex: 'action',\n      render: (item, data, index) => (\n        <Popconfirm\n          title=\"确认删除？\"\n          onConfirm={() => deleteInsertLegend(index + 1)}\n          disabled={\n            data.id !== colorData[colorData.length - 2].id ||\n            colorData.length === 2\n          }\n        >\n          <Button\n            type=\"link\"\n            disabled={\n              data.id !== colorData[colorData.length - 2].id ||\n              colorData.length === 2\n            }\n          >\n            删除\n          </Button>\n        </Popconfirm>\n      )\n    }\n  ];\n\n  return (\n    <>\n      <Table\n        className=\"cmap-table\"\n        rowKey={data => data.id}\n        dataSource={formColorData}\n        columns={columns}\n        pagination={{ onChange: setPage }}\n      />\n      <Button className=\"add-row-btn\" type=\"dashed\" onClick={addInsertLegend}>\n        <PlusOutlined />\n        新增\n      </Button>\n    </>\n  );\n};\n\nexport default InsertColor;\n","import React, { useCallback } from 'react';\nimport { Button, Table, Popconfirm, Input } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport ColorSet from './ColorSet';\nimport uuid from 'src/utils/uuid';\n\nconst FixedColor = ({ colorData, setColorData, enableAdd, uneditName }) => {\n  const deleteFixedData = useCallback(\n    deleteIndex => {\n      let data = colorData.filter((item, index) => index !== deleteIndex);\n      setColorData(data);\n    },\n    [colorData, setColorData]\n  );\n\n  const addFixedData = useCallback(() => {\n    let newData = {\n      id: uuid(),\n      value: 0,\n      sqColor: {\n        r: 78,\n        g: 124,\n        b: 209,\n        a: 1\n      }\n    };\n    setColorData([...colorData, newData]);\n  }, [colorData, setColorData]);\n\n  const updateColorName = useCallback(\n    (name, data) => {\n      let newColorData = colorData.find(c => c.id === data.id);\n      newColorData.name = name;\n\n      setColorData([...colorData]);\n    },\n    [colorData, setColorData]\n  );\n\n  const updateColorData = useCallback(\n    (color, data) => {\n      let newColorData = colorData.find(c => c.id === data.id);\n      newColorData.sqColor = color.rgb;\n      setColorData([...colorData]);\n    },\n    [colorData, setColorData]\n  );\n\n  const renderColor = useCallback(\n    (item, data) => (\n      <ColorSet\n        rgba={item.sqColor}\n        onChange={colors => updateColorData(colors, data)}\n      />\n    ),\n    [updateColorData]\n  );\n\n  const columns = [\n    {\n      title: '分段名',\n      dataIndex: 'name',\n      render: (name, data) => {\n        return (\n          <Input\n            style={{ maxWidth: 180, textAlign: 'center', marginRight: 5 }}\n            value={name}\n            disabled={uneditName}\n            onChange={e => updateColorName(e.target.value, data)}\n          />\n        );\n      }\n    },\n    {\n      title: '颜色',\n      render: renderColor\n    },\n    {\n      titile: '编辑',\n      dataIndex: 'action',\n      render: (deleted, data, index) => (\n        <Popconfirm\n          title=\"确认删除？\"\n          onConfirm={() => deleteFixedData(index)}\n          disabled={\n            data.id !== colorData[colorData.length - 1].id ||\n            colorData.length === 1\n          }\n        >\n          <Button\n            type=\"link\"\n            disabled={\n              data.id !== colorData[colorData.length - 1].id ||\n              colorData.length === 1\n            }\n          >\n            删除\n          </Button>\n        </Popconfirm>\n      )\n    }\n  ];\n\n  return (\n    <>\n      <Table\n        className=\"cmap-table\"\n        rowKey=\"id\"\n        dataSource={colorData}\n        columns={columns}\n      />\n      {enableAdd && (\n        <Button className=\"add-row-btn\" type=\"dashed\" onClick={addFixedData}>\n          <PlusOutlined />\n          新增\n        </Button>\n      )}\n    </>\n  );\n};\n\nexport default FixedColor;\n","import React from 'react';\nimport { Form } from 'antd';\nimport IntervalColor from './IntervalColorTable';\nimport InsertColor from './InsertColorTable';\nimport FixedColor from './FixedColorTable';\n\nconst ColorTableSet = ({ legendType, label, ...options }) => {\n  return (\n    <>\n      <Form.Item label={label} required=\"true\">\n        {legendType === 'COLOR_LUMP' ? (\n          <FixedColor {...options} />\n        ) : legendType === 'COLOR_BAR' ? (\n          <IntervalColor {...options} />\n        ) : (\n          <InsertColor {...options} />\n        )}\n      </Form.Item>\n    </>\n  );\n};\n\nexport default ColorTableSet;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { Button, Form, Card, Radio, message } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport SkyFilter from 'src/components/SkyFilter';\nimport corService from 'src/services/standard';\nimport ColorTableSet from 'src/components/SqColorBar';\nimport FixedColor from 'src/components/SqColorBar/FixedColorTable';\n\nconst initCorValue = [\n  { id: '1', name: '', value: 1, sqColor: { a: 1, r: 12, g: 151, b: 151 } }\n];\n\nconst fixedColorData = [\n  { id: '2', name: '', sqColor: { r: 26, g: 150, b: 65, a: 1 }, value: -1 },\n  { id: '3', name: '', sqColor: { r: 255, g: 230, b: 90, a: 1 }, value: 0 },\n  { id: '4', name: '', sqColor: { r: 215, g: 25, b: 28, a: 1 }, value: 1 }\n];\n\nconst CorInfo = ({ cor, fetchCorList }) => {\n  const [pros, setPros] = useState([]);\n  const [enas, setEnas] = useState([]);\n  const [corInfo, setCorInfo] = useState('');\n  const [corLegend, setCorLegend] = useState([]);\n  const [cmapLegendType, setCmapLegendType] = useState(\n    cor.cmapLegentType ? cor.cmapLegentType : 'COLOR_LUMP'\n  );\n  const [cmapLegend, setCmapLegend] = useState([]);\n  let query = useQuery();\n\n  const { headerNav } = useGlobalContext();\n  const history = useHistory();\n  const { mount, unMount } = headerNav;\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: 'COR名称',\n        filterType: 'MARK_TAG',\n        valueKey: 'name',\n        changeOnSelect: true,\n        commonlyUsedEnable: true,\n        required: true,\n        disabled: query.get('id') ? true : false\n      },\n      {\n        label: '编号',\n        filterType: 'INPUT',\n        valueKey: 'code',\n        disabled: query.get('id') ? true : false,\n        placeholder: 'COR编号'\n      },\n      {\n        label: '产品分类',\n        filterType: 'SELECT',\n        optionSource: pros,\n        valueKey: 'proCode',\n        required: true\n      },\n      {\n        label: '显示风格',\n        filterType: 'RADIO_LIST',\n        valueKey: 'dateSelectorType',\n        optionSource: [\n          { value: 'GALLERY', name: '画廊' },\n          { value: 'DATELINE', name: '时间轴' },\n          { value: 'TIMEPLAYER', name: '播放器' }\n        ],\n        required: true\n      },\n      {\n        label: '通用能力',\n        filterType: 'SELECT',\n        optionSource: enas,\n        mode: 'multiple',\n        valueKey: 'formEnas',\n        required: true\n      }\n    ],\n    [query, pros, enas]\n  );\n\n  const goBack = useCallback(() => {\n    history.push('/app/standard-cors');\n  }, [history]);\n\n  const cancel = () => {\n    goBack();\n  };\n\n  const saveCor = useCallback(\n    async corInfo => {\n      let pro = pros.find(p => p.code === corInfo.proCode);\n      let ena = corInfo.formEnas;\n      let _enas = ena.map(e => ({ code: e }));\n      let _cmapLegend =\n        ena.indexOf('CHANGE_MAP') === -1\n          ? null\n          : { colorType: cmapLegendType, items: cmapLegend };\n\n      try {\n        await corService.saveCor({\n          id: corInfo.id ? corInfo.id : undefined,\n          name: corInfo.name,\n          code: corInfo.code,\n          pro: {\n            id: pro.id\n          },\n          enas: _enas,\n          dateSelectorType: corInfo.dateSelectorType,\n          legend: {\n            colorType: 'COLOR_LUMP',\n            items: [\n              {\n                value: 1,\n                name: corLegend[0].name,\n                sqColor: corLegend[0].sqColor\n              }\n            ]\n          },\n          cmapLegend: _cmapLegend\n        });\n        goBack();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        fetchCorList();\n      }\n    },\n    [cmapLegend, corLegend, cmapLegendType, fetchCorList, goBack, pros]\n  );\n\n  const disabledBtn = useMemo(() => {\n    return !corInfo || !corInfo.name || !corInfo.code || !corInfo.proCode;\n  }, [corInfo]);\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'COR管理',\n          key: '/app/standard-cors'\n        },\n        {\n          name: '编辑COR',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    cor.id && setCorInfo(cor);\n    setCorLegend(cor.legend ? cor.legend.items : initCorValue);\n    setCmapLegend(cor.cmapLegend ? cor.cmapLegend.items : fixedColorData);\n  }, [cor]);\n\n  useEffect(() => {\n    (async function () {\n      let [pros, enas] = await Promise.all([\n        corService.getAllCategories(),\n        corService.getAllEnas()\n      ]);\n      setPros(pros);\n      setEnas(enas);\n    })();\n  }, []);\n\n  return (\n    <Card className=\"cor-form-card\">\n      <div className=\"cor-info-form\">\n        <SkyFilter\n          layout=\"horizontal\"\n          value={corInfo}\n          enabledFilters={enabledFilters}\n          onChange={setCorInfo}\n        />\n        <Form.Item label=\"COR图例\" required={true} className=\"color-cor\">\n          <FixedColor\n            enableAdd={false}\n            colorData={corLegend}\n            setColorData={setCorLegend}\n          />\n        </Form.Item>\n        {!corInfo.formEnas ||\n        corInfo.formEnas.indexOf('CHANGE_MAP') === -1 ? null : (\n          <>\n            <Form.Item label=\"变化监测\" required=\"true\" className=\"cmap-color\">\n              <Radio.Group\n                value={cmapLegendType}\n                onChange={e => setCmapLegendType(e.target.value)}\n              >\n                <Radio value=\"COLOR_LUMP\">单值分段</Radio>\n                <Radio value=\"COLOR_RANGE\">区间分段</Radio>\n                <Radio value=\"COLOR_BAR\">插值</Radio>\n              </Radio.Group>\n            </Form.Item>\n            <ColorTableSet\n              label=\"变化监测配置\"\n              legendType={cmapLegendType}\n              colorData={cmapLegend}\n              setColorData={setCmapLegend}\n              enableAdd={true}\n            />\n          </>\n        )}\n        <div className=\"operate-btns\">\n          <Button\n            type=\"primary\"\n            onClick={() => saveCor(corInfo)}\n            disabled={disabledBtn}\n          >\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={cancel}>\n            取消\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default CorInfo;\n","export default {\n  GALLERY: '画廊',\n  DATELINE: '时间轴',\n  TIMEPLAYER: '播放器'\n};\n","import React, { useCallback } from 'react';\nimport { message, Button, Popconfirm } from 'antd';\nimport getTableFilter from 'src/components/TableFilter';\nimport { Link } from 'react-router-dom';\nimport { Legend } from '@terraqt/garden';\nimport SqTable from '../SqTable';\nimport corService from 'src/services/standard';\nimport dateSelectorType from 'src/constants/dateSelectorType';\n\nconst path = 'standard-cors';\n\nconst CorList = ({ loading, setLoading, corList, fetchCorList }) => {\n  const corColumns = [\n    {\n      title: 'COR',\n      dataIndex: 'name',\n      ...getTableFilter('name')\n    },\n    {\n      title: '编号',\n      dataIndex: 'code',\n      ...getTableFilter('code')\n    },\n    {\n      title: '类别',\n      dataIndex: 'cdpName',\n      ...getTableFilter('cdpName')\n    },\n    {\n      title: '显示风格',\n      dataIndex: 'dateSelectorType',\n      render: s => dateSelectorType[s]\n    },\n    {\n      title: '通用能力',\n      dataIndex: 'enas',\n      render: e => e.map(k => <div key={k.code}>{k.name}</div>)\n    },\n    {\n      title: '图例',\n      dataIndex: 'legend',\n      render: l => (\n        <div>{l ? <Legend type={l.colorType} datas={l} /> : null}</div>\n      )\n    },\n    {\n      title: '变化监测图例',\n      dataIndex: 'cmapLegend',\n      render: cmapl => (\n        <div>\n          {cmapl ? <Legend type={cmapl.colorType} datas={cmapl} /> : null}\n        </div>\n      )\n    },\n    {\n      title: '操作',\n      dataIndex: 'action',\n      render: (action, cdp) => (\n        <>\n          <Link to={`/app/${path}?action=edit&id=${cdp.id}`}>\n            <Button type=\"link\">编辑</Button>\n          </Link>\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteCdp(cdp.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      )\n    }\n  ];\n\n  const deleteCdp = useCallback(\n    async id => {\n      try {\n        setLoading(true);\n        await corService.deleteCor(id);\n        fetchCorList();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [fetchCorList, setLoading]\n  );\n\n  return (\n    <SqTable\n      columns={corColumns}\n      datas={corList}\n      loading={loading}\n      setLoading={setLoading}\n      path={path}\n      type=\"COR\"\n    />\n  );\n};\n\nexport default CorList;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { message } from 'antd';\nimport { useQuery } from 'src/utils/hooks';\nimport CorInfo from './CorInfo';\nimport CorList from './CorList';\nimport corService from 'src/services/standard';\nimport './style.sass';\n\nconst StandardCors = () => {\n  const [corList, setCorList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const fetchCorList = useCallback(async () => {\n    try {\n      setLoading(true);\n      let corList = await corService.getAllCors();\n      setCorList(corList);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  let query = useQuery();\n  let action = query.get('action');\n  let corId = query.get('id');\n\n  const cor = useMemo(() => {\n    return corList.find(f => f.id === Number(corId)) || {};\n  }, [corList, corId]);\n\n  useEffect(() => {\n    fetchCorList();\n  }, [fetchCorList]);\n\n  return action === 'edit' ? (\n    <CorInfo cor={cor} fetchCorList={fetchCorList} />\n  ) : (\n    <CorList\n      corList={corList}\n      fetchCorList={fetchCorList}\n      loading={loading}\n      setLoading={setLoading}\n    />\n  );\n};\n\nexport default StandardCors;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { Button, Form, Card, Radio, Select, message } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport SkyFilter from 'src/components/SkyFilter';\nimport derService from 'src/services/standard';\nimport { useQuery } from 'src/utils/hooks';\nimport ColorTableSet from 'src/components/SqColorBar';\n\nconst { Option } = Select;\n\nconst initDerValue = [\n  { id: '1', name: '', value: 1, sqColor: { a: 1, r: 12, g: 151, b: 151 } }\n];\n\nconst fixedColorData = [\n  { id: '2', name: '', sqColor: { r: 26, g: 150, b: 65, a: 1 }, value: -1 },\n  { id: '3', name: '', sqColor: { r: 255, g: 230, b: 90, a: 1 }, value: 0 },\n  { id: '4', name: '', sqColor: { r: 215, g: 25, b: 28, a: 1 }, value: 1 }\n];\n\nconst DerInfo = ({ der, fetchDerList }) => {\n  const [derInfo, setDerInfo] = useState('');\n  const [cors, setCors] = useState([]);\n  const [enas, setEnas] = useState([]);\n  const [derLegend, setDerLegend] = useState([]);\n  const [derLegendType, setDerLegendType] = useState(\n    der.legend ? der.legend.colorType : 'COLOR_LUMP'\n  );\n  const [cmapLegendType, setCmapLegendType] = useState(\n    der.cmapLegend ? der.cmapLegend.colorType : 'COLOR_LUMP'\n  );\n  const [cmapLegend, setCmapLegend] = useState([]);\n\n  let query = useQuery();\n\n  const { headerNav } = useGlobalContext();\n  const history = useHistory();\n  const { mount, unMount } = headerNav;\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: 'DER名称',\n        filterType: 'INPUT',\n        valueKey: 'name',\n        required: true,\n        disabled: query.get('id') ? true : false\n      },\n      {\n        label: '编号',\n        filterType: 'INPUT',\n        valueKey: 'code',\n        required: true,\n        placeholder: 'der编号',\n        disabled: query.get('id') ? true : false\n      },\n      {\n        label: 'COR',\n        filterType: 'SELECT',\n        optionSource: cors,\n        valueKey: 'corCode',\n        required: true\n      },\n      {\n        label: '显示风格',\n        filterType: 'RADIO_LIST',\n        valueKey: 'dateSelectorType',\n        optionSource: [\n          { value: 'GALLERY', name: '画廊' },\n          { value: 'DATELINE', name: '时间轴' },\n          { value: 'TIMEPLAYER', name: '播放器' }\n        ],\n        required: true\n      }\n    ],\n    [cors, query]\n  );\n\n  const goBack = useCallback(() => {\n    history.push('/app/standard-ders');\n  }, [history]);\n\n  const saveDer = useCallback(\n    async derInfo => {\n      let cor = cors.find(c => c.code === derInfo.corCode);\n      let ena = derInfo.formEnas;\n      let _enas = ena ? ena.map(e => ({ code: e })) : undefined;\n      let _cmapLegend =\n        ena.indexOf('CHANGE_MAP') === -1\n          ? null\n          : { colorType: cmapLegendType, items: cmapLegend };\n\n      try {\n        await derService.saveDer({\n          id: derInfo.id ? derInfo.id : undefined,\n          name: derInfo.name,\n          code: derInfo.code,\n          pro: {\n            id: cor.id\n          },\n          enas: _enas,\n          dateSelectorType: derInfo.dateSelectorType,\n          legend: {\n            colorType: derLegendType,\n            items: derLegend\n          },\n          cmapLegend: _cmapLegend\n        });\n        goBack();\n        setDerLegend(initDerValue);\n        setCmapLegend(fixedColorData);\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        fetchDerList();\n      }\n    },\n    [\n      cmapLegend,\n      cmapLegendType,\n      cors,\n      derLegend,\n      derLegendType,\n      fetchDerList,\n      goBack\n    ]\n  );\n\n  const cancel = () => {\n    goBack();\n  };\n\n  const disabledBtn = useMemo(() => {}, []);\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'DER管理',\n          key: '/app/standard-ders'\n        },\n        {\n          name: '编辑DER',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, onChange, unMount]);\n\n  useEffect(() => {\n    der.id && setDerInfo(der);\n    setDerLegend(der.legend ? der.legend.items : initDerValue);\n    setCmapLegend(der.cmapLegend ? der.cmapLegend.items : fixedColorData);\n  }, [der]);\n\n  useEffect(() => {\n    (async function () {\n      let [cors, enas] = await Promise.all([\n        derService.getAllCors(),\n        derService.getAllEnas()\n      ]);\n      setCors(cors);\n      setEnas(enas);\n    })();\n  }, []);\n\n  return (\n    <Card className=\"der-form-card\">\n      <div className=\"der-info-form\">\n        <SkyFilter\n          layout=\"horizontal\"\n          value={derInfo}\n          enabledFilters={enabledFilters}\n          onChange={setDerInfo}\n        />\n        <Form.Item label=\"图例类型\" required=\"true\" className=\"der-color-type\">\n          <Radio.Group\n            value={derLegendType}\n            onChange={e => setDerLegendType(e.target.value)}\n          >\n            <Radio value=\"COLOR_LUMP\">单值分段</Radio>\n            <Radio value=\"COLOR_RANGE\">区间分段</Radio>\n            <Radio value=\"COLOR_BAR\">插值</Radio>\n          </Radio.Group>\n        </Form.Item>\n        <ColorTableSet\n          label=\"DER图例配置\"\n          legendType={derLegendType}\n          colorData={derLegend}\n          setColorData={setDerLegend}\n          enableAdd={true}\n        />\n\n        <Form.Item label=\"通用能力\" required=\"true\" className=\"der-enas\">\n          <Select\n            className=\"ena-set\"\n            placeholder=\"请选择\"\n            value={derInfo.formEnas}\n            mode=\"multiple\"\n            onChange={e => {\n              setDerInfo({ ...derInfo, formEnas: e });\n            }}\n          >\n            {enas.map(ena => (\n              <Option key={ena.id} value={ena.code}>\n                {ena.name}\n              </Option>\n            ))}\n          </Select>\n        </Form.Item>\n        {!derInfo.formEnas ||\n        derInfo.formEnas.indexOf('CHANGE_MAP') === -1 ? null : (\n          <>\n            <Form.Item label=\"变化监测\" required=\"true\" className=\"cmap-color\">\n              <Radio.Group\n                value={cmapLegendType}\n                onChange={e => setCmapLegendType(e.target.value)}\n              >\n                <Radio value=\"COLOR_LUMP\">单值分段</Radio>\n                <Radio value=\"COLOR_RANGE\">区间分段</Radio>\n                <Radio value=\"COLOR_BAR\">插值</Radio>\n              </Radio.Group>\n            </Form.Item>\n\n            <ColorTableSet\n              label=\"变化监测配置\"\n              legendType={cmapLegendType}\n              colorData={cmapLegend}\n              setColorData={setCmapLegend}\n              enableAdd={true}\n            />\n          </>\n        )}\n        <div className=\"operate-btns\">\n          <Button\n            type=\"primary\"\n            onClick={() => saveDer(derInfo)}\n            disabled={disabledBtn}\n          >\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={cancel}>\n            取消\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default DerInfo;\n","import React, { useCallback } from 'react';\nimport { message, Button, Popconfirm } from 'antd';\nimport getTableFilter from 'src/components/TableFilter';\nimport { Link } from 'react-router-dom';\nimport { Legend } from '@terraqt/garden';\nimport SqTable from '../SqTable';\nimport derService from 'src/services/standard';\nimport dateSelectorType from 'src/constants/dateSelectorType';\n\nconst path = 'standard-ders';\n\nconst DerList = ({ derList, loading, setLoading, fetchDerList }) => {\n  const deleteDer = useCallback(\n    async id => {\n      try {\n        setLoading(true);\n        await derService.deleteDer(id);\n        fetchDerList();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [fetchDerList, setLoading]\n  );\n  const derColumns = [\n    {\n      title: 'DER',\n      dataIndex: 'name',\n      ...getTableFilter('name')\n    },\n    {\n      title: '编号',\n      dataIndex: 'code',\n      ...getTableFilter('code')\n    },\n    {\n      title: '类别',\n      dataIndex: 'cdpName',\n      ...getTableFilter('cdpName')\n    },\n    {\n      title: '显示风格',\n      dataIndex: 'dateSelectorType',\n      render: s => dateSelectorType[s]\n    },\n    {\n      title: '通用能力',\n      dataIndex: 'enas',\n      render: e => e.map(k => <div key={k.code}>{k.name}</div>)\n    },\n    {\n      title: '图例',\n      dataIndex: 'legend',\n      render: l => (\n        <div>{l ? <Legend type={l.colorType} datas={l} /> : null}</div>\n      )\n    },\n    {\n      title: '变化监测图例',\n      dataIndex: 'cmapLegend',\n      render: cmapl => (\n        <div>\n          {cmapl ? <Legend type={cmapl.colorType} datas={cmapl} /> : null}\n        </div>\n      )\n    },\n    {\n      title: '操作',\n      dataIndex: 'action',\n      render: (action, cdp) => (\n        <>\n          <Link to={`/app/${path}?action=edit&id=${cdp.id}`}>\n            <Button type=\"link\">编辑</Button>\n          </Link>\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteDer(cdp.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      )\n    }\n  ];\n\n  return (\n    <SqTable\n      columns={derColumns}\n      datas={derList}\n      loading={loading}\n      setLoading={setLoading}\n      path={path}\n      type=\"DER\"\n    />\n  );\n};\n\nexport default DerList;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { message } from 'antd';\nimport { useQuery } from 'src/utils/hooks';\nimport derService from 'src/services/standard';\nimport './style.sass';\nimport DerInfo from './DerInfo';\nimport DerList from './DerList';\n\nconst StandardDers = () => {\n  const [derList, setDerList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchDerList = useCallback(async () => {\n    try {\n      setLoading(true);\n      let derList = await derService.getAllDers();\n      setDerList(derList);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  let query = useQuery();\n  let action = query.get('action');\n  let derId = query.get('id');\n\n  const der = useMemo(() => {\n    return derList.find(f => f.id === Number(derId)) || {};\n  }, [derList, derId]);\n\n  useEffect(() => {\n    fetchDerList();\n  }, [fetchDerList]);\n\n  return action === 'edit' ? (\n    <DerInfo der={der} fetchDerList={fetchDerList} />\n  ) : (\n    <DerList\n      derList={derList}\n      fetchDerList={fetchDerList}\n      loading={loading}\n      setLoading={setLoading}\n    />\n  );\n};\n\nexport default StandardDers;\n","import React, { useEffect, useState, useCallback, useMemo } from 'react';\nimport { Button, Modal, message, Popconfirm } from 'antd';\nimport enaService from 'src/services/standard';\nimport './style.sass';\nimport SqTable from '../SqTable';\nimport SkyFilter from 'src/components/SkyFilter';\n\nconst enaLevel = {\n  GLOBAL: '全局',\n  CDP: 'CDP级'\n};\n\nconst StandardEnas = () => {\n  const [enas, setEnas] = useState([]);\n  const [ena, setEna] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: '名称',\n        filterType: 'INPUT',\n        valueKey: 'name',\n        required: true\n      },\n      {\n        label: '编号',\n        filterType: 'INPUT',\n        valueKey: 'code',\n        required: true,\n        disabled: ena.id ? true : false\n      },\n      {\n        label: '类型',\n        filterType: 'RADIO_LIST',\n        valueKey: 'enaLevel',\n        optionSource: [\n          { value: 'GLOBAL', name: '全局' },\n          { value: 'CDP', name: 'CDP级' }\n        ],\n        required: true\n      }\n    ],\n    [ena]\n  );\n\n  const enaColumn = [\n    { title: '通用能力', dataIndex: 'name' },\n    { title: '编号', dataIndex: 'code' },\n    {\n      title: '类型',\n      dataIndex: 'enaLevel',\n      render: e => enaLevel[e]\n    },\n    {\n      title: '操作',\n      dataIndex: 'action',\n      render: (action, ena) => (\n        <>\n          {/* <Button\n            type=\"link\"\n            onClick={() => {\n              onUpdate(ena);\n            }}\n          >\n            编辑\n          </Button> */}\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteEna(ena.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      )\n    }\n  ];\n\n  const onCancel = () => {\n    setModalShow(false);\n    setEna([]);\n  };\n\n  const fetchAllEnas = useCallback(() => {\n    (async function () {\n      try {\n        setLoading(true);\n        let enas = await enaService.getAllEnas();\n\n        setEnas(enas);\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  const createEna = useCallback(\n    async ena => {\n      try {\n        await enaService.createEna({\n          name: ena.name,\n          code: ena.code,\n          enaLevel: ena.enaLevel\n        });\n        fetchAllEnas();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setModalShow(false);\n        setEna([]);\n        setConfirmLoading(false);\n      }\n    },\n    [fetchAllEnas]\n  );\n\n  const updateEna = useCallback(\n    async ena => {\n      try {\n        await enaService.updateEna({\n          id: ena.id,\n          name: ena.name,\n          code: ena.code,\n          enaLevel: ena.enaLevel\n        });\n        fetchAllEnas();\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setModalShow(false);\n        setEna([]);\n        setConfirmLoading(false);\n      }\n    },\n    [fetchAllEnas]\n  );\n\n  const deleteEna = useCallback(\n    async id => {\n      try {\n        await enaService.deleteEna(id);\n        fetchAllEnas();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [fetchAllEnas]\n  );\n\n  const createOrUpdate = ena => {\n    setConfirmLoading(true);\n    if (!ena.id) {\n      createEna(ena);\n    } else {\n      updateEna(ena);\n    }\n  };\n\n  const disabledBtn = useMemo(() => {\n    return !ena || !ena.name || !ena.code || !ena.enaLevel;\n  }, [ena]);\n\n  useEffect(() => {\n    fetchAllEnas();\n  }, [fetchAllEnas]);\n\n  return (\n    <>\n      <SqTable\n        columns={enaColumn}\n        datas={enas}\n        loading={loading}\n        setLoading={setLoading}\n        text=\"通用能力\"\n        onClickBtn={() => setModalShow(true)}\n      />\n      <Modal\n        title=\"编辑通用能力\"\n        visible={modalShow}\n        onCancel={onCancel}\n        onOk={() => createOrUpdate(ena)}\n        okButtonProps={{ disabled: disabledBtn }}\n        confirmLoading={confirmLoading}\n      >\n        <SkyFilter\n          value={ena}\n          enabledFilters={enabledFilters}\n          onChange={setEna}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default StandardEnas;\n","import { getURL } from 'src/utils/env';\n\nexport const tileUrl = 'https://tile-cdn.terraqt.com/';\n\nexport const sqUploadUrl = getURL() + '/common/uploadFile';\n\nexport const sqTokenUrl = getURL() + '/common/upload/getToken?type=SQ_PUBLIC';\n","import ExifReader from 'exifreader';\n\n// 校验Exif中是否有地理信息\nconst verifyKey = file => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onload = () => {\n      const tags = ExifReader.load(reader.result);\n      if ('GPSLatitude' in tags && 'GPSLongitude' in tags) {\n        resolve();\n      } else {\n        reject(new Error('缺少地理信息'));\n      }\n    };\n  });\n};\n\nexport default verifyKey;\n","import React, { useState, useCallback } from 'react';\nimport { message, Radio } from 'antd';\nimport { isEmpty } from 'lodash';\nimport { PictureOutlined } from '@ant-design/icons';\nimport { sqUploadUrl, sqTokenUrl } from 'src/configs/cdn.config';\nimport verifyKey from 'src/utils/exif-verify';\nimport sampleService from 'src/services/samples';\nimport axios from 'axios';\nimport './style.sass';\nimport Uploader from 'src/components/Uploader';\n\nconst options = [\n  { label: '无人机拍摄上传', value: 'UAV_CAMERA' },\n  { label: '手机拍摄上传', value: 'MOBILE_PHONE_CAMERA' }\n];\n\nconst headers = { 'Content-Type': 'multipart/form-data' };\n\nconst UploadImage = ({ uploadDispatch, showUploadDraw, fetchImages }) => {\n  const [source, setSource] = useState('UAV_CAMERA');\n\n  const getFileExtendingName = fileName => {\n    // 文件扩展名匹配\n    var reg = /\\.[^.]+$/;\n    var matches = reg.exec(fileName);\n    if (matches) {\n      return matches[0];\n    }\n    return;\n  };\n\n  const verifyFormat = useCallback(fileList => {\n    let filesFormat = fileList.map(f => getFileExtendingName(f.name));\n    let accept = [\n      '.jpg',\n      '.JPG',\n      '.jpeg',\n      '.JEPG',\n      '.png',\n      '.PNG',\n      '.heif',\n      '.HEIF',\n      '.heic',\n      '.HEIC',\n      '.dng',\n      '.DNG',\n      '.bmp',\n      '.BMP',\n      '.tif',\n      '.TIF',\n      '.tiff',\n      '.TIFF',\n      '.raw',\n      '.RAW'\n    ];\n\n    try {\n      filesFormat.forEach(v => {\n        if (accept.indexOf(v) === -1) {\n          throw message.error('文件格式有误，请重新选择！');\n        }\n      });\n    } catch (err) {\n      return true;\n    }\n  }, []);\n\n  const onSelect = async fileList => {\n    fileList = Array.from(fileList);\n\n    if (isEmpty(fileList)) {\n      return;\n    } else if (fileList.length > 30) {\n      fileList = [];\n      message.error('最多选择30个文件，请重新选择');\n      return;\n    } else if (verifyFormat(fileList)) {\n      fileList = [];\n      return;\n    }\n\n    const asyncUpload = async file => {\n      if (!file) return Promise.reject();\n\n      try {\n        await verifyKey(file);\n      } catch (err) {\n        throw err;\n      }\n\n      const getToken = () => {\n        return axios.get(sqTokenUrl).then(result => result.data);\n      };\n      const token = await getToken();\n      const formData = new FormData();\n      formData.append('token', token);\n      formData.append('fileName', file.name);\n      formData.append('file', file);\n\n      return axios\n        .post(sqUploadUrl, formData, { headers: headers })\n        .then(url => {\n          message.success('上传成功');\n          uploadImage(url.data, source);\n        })\n        .catch(() => {\n          const msg = '上传失败';\n          message.error(msg);\n          throw msg;\n        });\n    };\n\n    uploadDispatch('setAsyncData', { fileList, asyncFunc: asyncUpload });\n    showUploadDraw();\n  };\n\n  const uploadImage = async (url, type) => {\n    try {\n      await sampleService.uploadImage(url, type);\n      fetchImages();\n    } catch (e) {\n      message.error(e.message);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"sample-img-type\">\n        <Radio.Group options={options} onChange={e => setSource(e.target.value)} value={source} optionType=\"button\" />\n      </div>\n\n      <Uploader\n        onChange={onSelect}\n        accept=\".jpg, .png, .heif, .heic, .dng, .bmp, .tif, .tiff, .raw\"\n        limitInfo=\".png .jpg .jpeg .heic .dng 等, 最多选择30个\"\n        icon={<PictureOutlined />}\n      />\n    </>\n  );\n};\n\nexport default UploadImage;\n","import React from 'react';\nimport { Drawer, Progress, Tag } from 'antd';\nimport { isEqual } from 'lodash';\nimport './style.sass';\n\nexport default class extends React.Component {\n  state = {\n    localFileList: []\n  };\n\n  componentDidUpdate(preProps) {\n    if (!isEqual(this.props.uploadState.fileList, preProps.uploadState.fileList)) this.initFileList();\n  }\n\n  async initFileList() {\n    const { uploadState } = this.props;\n    const { fileList } = uploadState;\n    const list = fileList.map(file => {\n      const { name, size } = file;\n      let approxTime = size / 1024 / 50;\n\n      return {\n        name,\n        size,\n        percent: 0,\n        status: 'active',\n        approxTime,\n        errorMessage: null,\n        timer: null\n      };\n    });\n    await this.setState({ localFileList: list });\n\n    this.run();\n  }\n\n  run() {\n    const { uploadState } = this.props;\n    const { fileList, asyncFunc } = uploadState;\n\n    fileList.forEach(async (file, index) => {\n      this.randomRate(index);\n      asyncFunc(file)\n        .then(() => this.randomRate(index, true))\n        .catch(err => this.handleUploadError(err, index));\n    });\n  }\n\n  handleUploadError(err, index) {\n    const { localFileList } = this.state;\n    localFileList[index].errorMessage = err.message;\n    this.handleStatusChange(index, 'exception');\n    this.clearTimeout(index);\n    this.setState({ localFileList });\n  }\n\n  handleStatusChange = (index, status) => {\n    const { localFileList } = this.state;\n    localFileList[index].status = status;\n    this.setState({ localFileList });\n  };\n\n  randomRate(index, finished = false) {\n    const { localFileList } = this.state;\n    const { approxTime } = localFileList[index];\n    let interval = 1000 / approxTime;\n    interval = interval < 100 ? 100 : interval;\n    interval = interval + Math.random() * 200;\n    if (finished) {\n      this.uploadFinished(index);\n    } else {\n      localFileList[index].timer = setTimeout(async () => {\n        this.handlePercentChange(index);\n      }, interval);\n    }\n  }\n\n  async handlePercentChange(index) {\n    const { localFileList } = this.state;\n    const { approxTime, percent } = localFileList[index];\n\n    if (percent >= 99) {\n      localFileList[index].percent = 99;\n      this.setState({ localFileList });\n    } else {\n      const res = percent + 300 / approxTime;\n\n      localFileList[index].percent = res >= 99 ? 99 : Number((Number(res.toFixed(2)) + 0.2).toFixed(2));\n      await this.setState({ localFileList });\n      this.randomRate(index);\n    }\n  }\n\n  uploadFinished(index) {\n    const { localFileList } = this.state;\n\n    this.clearTimeout(index);\n    localFileList[index].percent = 100;\n    this.handleStatusChange(index, 'success');\n    this.setState({ localFileList });\n  }\n\n  clearTimeout(index) {\n    const { localFileList } = this.state;\n    clearTimeout(localFileList[index].timer);\n    localFileList[index].timer = null;\n    this.setState({ localFileList });\n  }\n\n  render() {\n    const { visible, onClose } = this.props;\n    const { localFileList } = this.state;\n\n    return (\n      <Drawer title=\"上传进度\" width={350} keyboard={false} maskClosable={false} onClose={onClose} visible={visible}>\n        <div className=\"file-list\">\n          {localFileList.map(file => (\n            <div className=\"item\" key={file.name}>\n              <div className=\"file-name\">\n                {file.errorMessage && <Tag color=\"red\">{file.errorMessage}</Tag>}\n                {file.name}\n                ，进度:{file.percent}%\n              </div>\n              <Progress percent={file.percent} size=\"small\" status={file.status} />\n            </div>\n          ))}\n        </div>\n      </Drawer>\n    );\n  }\n}\n","export default {\n  UAV_CAMERA: '无人机',\n  MOBILE_PHONE_CAMERA: '手机'\n};\n","import React from 'react';\nimport { Tag } from 'antd';\n\nexport default {\n  FINISHED: <Tag color=\"success\">已完成</Tag>,\n  PROCESSING: <Tag color=\"processing\">处理中</Tag>,\n  FAILED: <Tag color=\"red\">失败</Tag>\n};\n","import { useReducer, useCallback } from 'react'\n\nconst initialState = {\n  fileList: [],\n  asyncFunc: () => Promise.resolve()\n}\n\nconst reducer = (state, action) => {\n  const { type, value } = action\n  if (type === 'setAsyncData') {\n    const { fileList, asyncFunc } = value\n    return {...state, fileList, asyncFunc }\n  }\n}\n\nexport default () => {\n  const [state, _dispatch] = useReducer(reducer, initialState)\n  const dispatch = useCallback((type, value) => {\n    _dispatch({type, value})\n  }, [])\n\n  return { uploadState: state, uploadDispatch: dispatch }\n}","import React, { useEffect, useState, useCallback } from 'react';\nimport { Card, Button, Popconfirm, message, Table, Input } from 'antd';\nimport sampleService from 'src/services/samples';\nimport UploadImage from './UploadImage';\nimport Drawer from './Drawer';\nimport { ImageViewer } from '@terraqt/garden';\nimport getTableFilter from 'src/components/TableFilter';\nimport moment from 'moment';\nimport sampleImageType from 'src/constants/sampleImageType';\nimport sampleImageStatus from 'src/constants/sampleImageStatus';\nimport useImageViewReducer from 'src/pages/hooks/useImageViewReducer';\nimport useUploadReducer from './useUploadReducer';\nimport './style.sass';\n\nconst DataUpload = () => {\n  const [images, setImages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [imageViewState, imageViewDispatch] = useImageViewReducer();\n  const { uploadState, uploadDispatch } = useUploadReducer();\n  const [drawerVisible, setDrawerVisible] = useState(false);\n\n  const fetchImages = useCallback(async () => {\n    try {\n      setLoading(true);\n      let _images = await sampleService.queryImageList();\n      setImages(_images);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const deleteImage = useCallback(\n    async id => {\n      try {\n        await sampleService.deleteImage(id);\n        fetchImages();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [fetchImages]\n  );\n\n  const operation = useCallback(\n    (action, data) => {\n      return (\n        <Popconfirm title=\"确认删除？\" onConfirm={() => deleteImage(data.id)} okText=\"删除\" cancelText=\"取消\">\n          <Button type=\"link\" className=\"delete-btn\">\n            删除\n          </Button>\n        </Popconfirm>\n      );\n    },\n    [deleteImage]\n  );\n\n  const thumbnail = useCallback(\n    (img, data) => {\n      return img ? (\n        <img\n          className=\"table-thumbnail\"\n          src={img}\n          alt=\"small-img\"\n          onClick={() => {\n            imageViewDispatch('imageShow', data.bigImage);\n          }}\n        />\n      ) : (\n        '-'\n      );\n    },\n    [imageViewDispatch]\n  );\n\n  const updateComment = useCallback(\n    async (comment, data) => {\n      let newComments = images.find(c => c.id === data.id);\n      newComments.comment = comment;\n      setImages([...images]);\n    },\n    [images]\n  );\n\n  const onSubmitComment = useCallback(async (id, comment) => {\n    try {\n      await sampleService.updateImageComment(id, comment);\n      message.success('修改成功！');\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  const editComment = (comment, data) => {\n    return (\n      <>\n        <Input\n          size=\"small\"\n          className=\"table-input\"\n          value={comment}\n          onChange={e => updateComment(e.target.value, data)}\n        />\n        <Button size=\"small\" type=\"link\" onClick={() => onSubmitComment(data.id, comment)}>\n          提交\n        </Button>\n      </>\n    );\n  };\n\n  const columns = [\n    { title: '照片', dataIndex: 'thumbnail', render: thumbnail },\n    {\n      title: '备注',\n      dataIndex: 'comment',\n      render: editComment\n    },\n    {\n      title: '类型',\n      dataIndex: 'source',\n      render: s => sampleImageType[s]\n    },\n    {\n      title: '上传时间',\n      dataIndex: 'createTime',\n      sorter: (a, b) => moment(a.createTime).valueOf() - moment(b.createTime).valueOf()\n    },\n    {\n      title: '拍摄时间',\n      dataIndex: 'takeTime',\n      sorter: (a, b) => moment(a.takeTime).valueOf() - moment(b.takeTime).valueOf()\n    },\n    { title: '上传用户', dataIndex: 'uploader', ...getTableFilter('uploader') },\n    {\n      title: '处理状态',\n      dataIndex: 'status',\n      render: s => sampleImageStatus[s]\n    },\n    // {\n    //   title: '详情',\n    //   dataIndex: 'failedReason'\n    // },\n    { title: '操作', dataIndex: 'action', render: operation }\n  ];\n\n  const showUploadDraw = useCallback(() => setDrawerVisible(true), []);\n\n  useEffect(() => {\n    fetchImages();\n  }, [fetchImages]);\n\n  const onDrawerClose = useCallback(() => {\n    uploadDispatch('setAsyncData', {\n      fileList: [],\n      asyncFunc: () => Promise.resolve()\n    });\n    setDrawerVisible(false);\n  }, [uploadDispatch]);\n\n  return (\n    <>\n      <UploadImage uploadDispatch={uploadDispatch} showUploadDraw={showUploadDraw} fetchImages={fetchImages} />\n      <Card className=\"sample-upload-data\">\n        <Table\n          size=\"small\"\n          columns={columns}\n          dataSource={images}\n          pagination={{\n            showTotal: () => `共${images.length}条`,\n            defaultPageSize: 30,\n            showSizeChanger: true\n          }}\n          rowKey={data => data.id}\n          loading={loading}\n        />\n      </Card>\n      <ImageViewer\n        visible={imageViewState.modalShow}\n        url={imageViewState.imgUrl}\n        onClose={() => {\n          imageViewDispatch('imageHide');\n        }}\n      />\n      <Drawer visible={drawerVisible} onClose={onDrawerClose} uploadState={uploadState} />\n    </>\n  );\n};\n\nexport default DataUpload;\n","import { ai } from 'src/utils/api.js';\nimport moment from 'moment';\n\nclass service {\n  async queryWorkSpaceList() {\n    let workSpace = await ai.invoke('WorkSpaceService.queryWorkSpaceList');\n    return workSpace.map(space => ({\n      ...space,\n      createdAt: space.createdAt.slice(0, 10)\n    }));\n  }\n\n  createSpace(workSpace) {\n    return ai.invoke('WorkSpaceService.createWorkSpace', { workSpace });\n  }\n\n  updateSpace(workSpace) {\n    return ai.invoke('WorkSpaceService.updateWorkSpace', { workSpace });\n  }\n\n  deleteSpace(workSpaceId) {\n    return ai.invoke('WorkSpaceService.deleteWorkSpace', { workSpaceId });\n  }\n\n  queryDashboard(workSpaceId) {\n    return ai.invoke('WorkSpaceService.queryDashboard', { workSpaceId });\n  }\n\n  async querySampleSetList(workSpaceId) {\n    let samplesSet = await ai.invoke('SampleService.querySampleSetList', {\n      workSpaceId\n    });\n    return samplesSet.map(sampleSet => ({\n      ...sampleSet,\n      value: sampleSet.id,\n      createdAt: sampleSet.createdAt.slice(0, 10),\n      timeRange: `${sampleSet.timeRange.beginTime.slice(\n        0,\n        10\n      )} ~ ${sampleSet.timeRange.endTime.slice(0, 10)}`,\n\n      times: [\n        moment(sampleSet.timeRange.beginTime),\n        moment(sampleSet.timeRange.endTime)\n      ],\n      tags: sampleSet.tags.map(t => ({ ...t, title: t.name }))\n    }));\n  }\n\n  deleteSampleSet(sampleSetId) {\n    return ai.invoke('SampleService.deleteSampleSet', { sampleSetId });\n  }\n\n  createSampleSet(sampleSet) {\n    return ai.invoke('SampleService.createSampleSet', { sampleSet });\n  }\n\n  updateSampleSet(sampleSet) {\n    return ai.invoke('SampleService.updateSampleSet', { sampleSet });\n  }\n\n  async querySampleDataList(workSpaceId) {\n    let sampleDataList = await ai.invoke('SampleService.querySampleDataList', {\n      workSpaceId\n    });\n\n    return sampleDataList.map(sampleSet => ({\n      ...sampleSet,\n      createdAt: sampleSet.createdAt.slice(0, 10),\n      timeRange: `${sampleSet.timeRange.beginTime.slice(\n        0,\n        10\n      )} ~ ${sampleSet.timeRange.endTime.slice(0, 10)}`,\n\n      times: [\n        moment(sampleSet.timeRange.beginTime),\n        moment(sampleSet.timeRange.endTime)\n      ],\n      waves: sampleSet.waves\n        ? sampleSet.waves.map(t => ({ ...t, title: t.name, code: t.key }))\n        : []\n    }));\n  }\n\n  deleteSampleData(sampleDataId) {\n    return ai.invoke('SampleService.deleteSampleData', { sampleDataId });\n  }\n\n  createSampleData(sampleData) {\n    return ai.invoke('SampleService.createSampleData', { sampleData });\n  }\n\n  updateSampleData(sampleData) {\n    return ai.invoke('SampleService.updateSampleData', { sampleData });\n  }\n\n  //获取波段树\n  queryAllWaves() {\n    return ai.invoke('SampleService.queryAllWaves');\n  }\n\n  //获取样本标签树\n  queryAllSampleTags() {\n    return ai.invoke('SampleService.queryAllSampleTags');\n  }\n}\n\nexport default new service();\n","import React from 'react';\nimport { Table, Button, Card } from 'antd';\nimport { Link } from 'react-router-dom';\nimport './style.sass';\n\nconst SqTable = ({\n  columns,\n  datas,\n  loading,\n  path,\n  type,\n  onClickBtn,\n  hideBtn,\n  className\n}) => {\n  return (\n    <Card className={className}>\n      {path ? (\n        <Link to={`/app/${path}?action=edit`}>\n          <Button type=\"primary\">{`新建${type}`}</Button>\n        </Link>\n      ) : hideBtn ? (\n        <></>\n      ) : (\n        <Button type=\"primary\" onClick={onClickBtn}>\n          新建\n        </Button>\n      )}\n      <Table\n        size=\"small\"\n        className=\"ai-space-table\"\n        rowKey={data => data.id}\n        columns={columns}\n        dataSource={datas}\n        loading={loading}\n        pagination={{\n          showTotal: total => `共${total}条`,\n          showSizeChanger: true,\n          defaultPageSize: 30\n        }}\n      />\n    </Card>\n  );\n};\n\nexport default SqTable;\n","import React, { useState, useCallback, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Modal, Button, Popconfirm, message } from 'antd';\nimport SqTable from './SqTable';\nimport SkyFilter from 'src/components/SkyFilter';\nimport algorithmService from 'src/services/algorithm';\n\nconst enabledFilters = [\n  {\n    label: '名称',\n    filterType: 'INPUT',\n    valueKey: 'name',\n    required: true\n  },\n  {\n    label: '描述',\n    filterType: 'INPUT',\n    valueKey: 'info'\n  }\n];\n\nconst SpaceList = ({ spaceList, fetchSpaceList, loading }) => {\n  const [space, setSpace] = useState([]);\n  const [modalShow, setModalShow] = useState(false);\n\n  const onCancel = () => {\n    setModalShow(false);\n    setSpace([]);\n  };\n\n  const deleteSpace = useCallback(\n    async id => {\n      await algorithmService.deleteSpace(id);\n      fetchSpaceList();\n    },\n    [fetchSpaceList]\n  );\n\n  const onUpdate = useCallback(space => {\n    setSpace(space);\n    setModalShow(true);\n  }, []);\n\n  const saveSpace = useCallback(\n    async space => {\n      let _space = space.id\n        ? { name: space.name, info: space.info, id: space.id }\n        : { name: space.name, info: space.info };\n      try {\n        space.id\n          ? await algorithmService.updateSpace(_space)\n          : await algorithmService.createSpace(_space);\n        fetchSpaceList();\n        setSpace([]);\n      } catch (e) {\n        message.error(e.message);\n      } finally {\n        setModalShow(false);\n      }\n    },\n    [fetchSpaceList]\n  );\n\n  const spaceInfo = useCallback((name, space) => {\n    return (\n      <Link\n        to={`/app/algorithm-space?type=setting&manner=dash-board&id=${space.id}&name=${space.name}`}\n      >\n        {name}\n      </Link>\n    );\n  }, []);\n\n  const operation = useCallback(\n    (operation, space) => {\n      return (\n        <>\n          <Button type=\"link\" onClick={() => onUpdate(space)}>\n            编辑\n          </Button>\n\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteSpace(space.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      );\n    },\n    [deleteSpace, onUpdate]\n  );\n\n  const spaceColumns = [\n    { title: 'WorkSpace', dataIndex: 'name', render: spaceInfo },\n    { title: '描述', dataIndex: 'info' },\n    { title: '创建时间', dataIndex: 'createdAt' },\n    { title: '创建用户', dataIndex: 'createdBy' },\n    { title: '操作', dataIndex: 'operation', render: operation }\n  ];\n\n  const disabledBtn = useMemo(() => {\n    return !space.name;\n  }, [space.name]);\n\n  return (\n    <>\n      <SqTable\n        className=\"ai-space-list-card\"\n        columns={spaceColumns}\n        datas={spaceList}\n        loading={loading}\n        onClickBtn={() => setModalShow(true)}\n      />\n      <Modal\n        title=\"新建WorkSpace\"\n        visible={modalShow}\n        onCancel={onCancel}\n        onOk={() => saveSpace(space)}\n        okButtonProps={{ disabled: disabledBtn }}\n      >\n        <SkyFilter\n          value={space}\n          enabledFilters={enabledFilters}\n          onChange={setSpace}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default SpaceList;\n","import React, { useEffect, useCallback, useState } from 'react';\nimport { Card, Divider } from 'antd';\nimport algorithmService from 'src/services/algorithm';\nimport './style.sass';\n\nconst DashBoard = ({ spaceId }) => {\n  const [boardData, setBoardData] = useState([]);\n\n  const fetchDashBoardData = useCallback(async () => {\n    let boardData = await algorithmService.queryDashboard(spaceId);\n    setBoardData(boardData);\n  }, [spaceId]);\n\n  useEffect(() => {\n    fetchDashBoardData();\n  }, [fetchDashBoardData]);\n\n  return (\n    <Card className=\"ai-dash-board-card\">\n      <Card bordered={false}>\n        <p>Sample Set统计</p>\n        <h2>{boardData.sampleSetSize}个</h2>\n      </Card>\n      <Divider type=\"vertical\" style={{ height: 100 }} />\n      <Card bordered={false}>\n        <p>Sample Data统计</p>\n        <h2>{boardData.sampleDataSize}个</h2>\n      </Card>\n      <Divider type=\"vertical\" style={{ height: 100 }} />\n      <Card bordered={false}>\n        <p className=\"no-data\">-</p>\n      </Card>\n    </Card>\n  );\n};\n\nexport default DashBoard;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Popconfirm, message, Card } from 'antd';\nimport SqTable from '../SqTable';\nimport algorithmService from 'src/services/algorithm';\nimport { useHistory } from 'react-router-dom';\nimport { useGlobalContext } from 'src/App/globalContext';\n\nconst SampleSetList = ({\n  spaceId,\n  spaceName,\n  type,\n  settingList,\n  fetchSampleSetList\n}) => {\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n\n  const manner = type === 'sampleSet' ? 'sample-set' : 'sample-data';\n\n  const deleteSetting = useCallback(\n    async id => {\n      try {\n        type === 'sampleSet'\n          ? await algorithmService.deleteSampleSet(id)\n          : await algorithmService.deleteSampleData(id);\n        fetchSampleSetList();\n      } catch (e) {\n        message.error(e.message);\n      }\n    },\n    [fetchSampleSetList, type]\n  );\n\n  const operate = useCallback(\n    (operate, setting) => {\n      return (\n        <>\n          <Link\n            to={`/app/algorithm-space?type=setting&manner=${manner}&id=${spaceId}&name=${spaceName}&sId=${setting.id}`}\n          >\n            <Button type=\"link\">编辑</Button>\n          </Link>\n\n          <Popconfirm\n            title=\"确认删除?\"\n            onConfirm={() => {\n              deleteSetting(setting.id);\n            }}\n            okText=\"删除\"\n            cancelText=\"取消\"\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n        </>\n      );\n    },\n    [deleteSetting, manner, spaceId, spaceName]\n  );\n\n  const settingColumns = [\n    { title: '名称', dataIndex: 'name' },\n    { title: '时间范围', dataIndex: 'timeRange' },\n    { title: '创建时间', dataIndex: 'createdAt' },\n    { title: '创建用户', dataIndex: 'createdBy' },\n    { title: '操作', dataIndex: 'operate', render: operate }\n  ];\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'WorkSpace',\n          key: '/app/algorithm-space?type=list'\n        },\n        {\n          name: spaceName,\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, unMount, onChange, spaceName]);\n\n  useEffect(() => {\n    fetchSampleSetList();\n  }, [fetchSampleSetList]);\n\n  return (\n    <>\n      <Card className=\"ai-sample-set-card\">\n        <Link\n          to={`/app/algorithm-space?type=setting&manner=${manner}&id=${spaceId}&name=${spaceName}&action=edit`}\n        >\n          <Button type=\"primary\">新建</Button>\n        </Link>\n\n        <SqTable\n          className=\"ai-sample-set-list\"\n          columns={settingColumns}\n          datas={settingList}\n          loading={loading}\n          setLoading={setLoading}\n          hideBtn={true}\n        />\n      </Card>\n    </>\n  );\n};\n\nexport default SampleSetList;\n","import React, { useCallback } from 'react';\nimport { Tree, Form } from 'antd';\nimport { sortableContainer, sortableElement } from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nimport './style.sass';\n\nconst SortableItem = sortableElement(({ value }) => (\n  <div className=\"tags\">{value}</div>\n));\n\nconst SortableContainer = sortableContainer(({ children }) => {\n  return <div className=\"selected-tags\">{children}</div>;\n});\n\nconst SortableTags = ({\n  treeData,\n  label,\n  selectedTags = [],\n  setSelectedTags = [],\n  loading\n}) => {\n  const onSelect = (selectedKeys, info) => {\n    setSelectedTags(info.selectedNodes);\n  };\n\n  const onSortEnd = useCallback(\n    ({ oldIndex, newIndex }) => {\n      setSelectedTags(selectedTags =>\n        arrayMove(selectedTags, oldIndex, newIndex)\n      );\n    },\n    [setSelectedTags]\n  );\n\n  return (\n    <Form.Item label={label} required={true} className=\"sortable-item\">\n      <div className=\"sortable-container\">\n        <Tree\n          className=\"select-tree\"\n          defaultSelectedKeys={selectedTags.map(t => t.code)}\n          treeData={treeData}\n          onSelect={onSelect}\n          multiple={true}\n          height={232}\n        />\n        <SortableContainer onSortEnd={item => onSortEnd(item)}>\n          {selectedTags.map((tag, index) => (\n            <SortableItem\n              key={tag.code ? tag.code : tag.key}\n              index={index}\n              value={tag.title}\n            />\n          ))}\n        </SortableContainer>\n      </div>\n    </Form.Item>\n  );\n};\n\nexport default SortableTags;\n","export class EventEmitter {\n  constructor () {\n    this._events = {};\n  }\n\n  on (type, handler) {\n    this._events[type] = this._events[type] || [];\n    this._events[type].push(handler);\n  }\n\n  off (type, handler) {\n    this._events[type] = this._events[type] || [];\n    if (!handler) {\n      this._events[type] = [];\n    } else {\n      let index = this._events[type].indexOf(handler);\n      if (index > -1) {\n        this._events[type].splice(index, 1);\n      }\n    }\n  }\n\n  emit(type, data) {\n    const handlers = this._events[type];\n    if (!handlers || !handlers.length) {\n      return\n    }\n    var args = Array.prototype.slice.call(arguments, 1);\n    handlers.forEach(handler => {\n      handler.apply(this, args);\n    })\n  }\n}\n\nexport const emitter = new EventEmitter();\n","import React, { useEffect, useState } from 'react';\nimport { message } from 'antd';\nimport JSONEditor from 'jsoneditor';\nimport 'jsoneditor/dist/jsoneditor.min.css';\nimport { Form } from 'antd';\nimport { emitter } from 'src/utils/event-emitter';\nimport { set } from 'src/utils/ls';\nimport './style.sass';\n\nconst JsonInput = ({ param, setParam, label }) => {\n  const [editor, setEditor] = useState(null);\n\n  useEffect(() => {\n    const container = document.querySelector('.json-editor');\n    const options = {\n      mode: 'text'\n    };\n    const editor = new JSONEditor(container, options);\n    setEditor(editor);\n  }, []);\n\n  useEffect(() => {\n    if (!editor) return;\n\n    const value = param || {};\n\n    editor.set(value);\n\n    const onSave = () => {\n      try {\n        const value = editor.get();\n        set('jsonText', JSON.stringify(value));\n\n        setParam(value);\n      } catch (e) {\n        message.error('JSON 格式错误');\n      }\n    };\n    emitter.on('json-editor-save', onSave);\n    return () => {\n      emitter.off('json-editor-save', onSave);\n    };\n  }, [param, editor, setParam]);\n\n  return (\n    <Form.Item label={label} required={true}>\n      <div className=\"json-editor\"></div>\n    </Form.Item>\n  );\n};\n\nexport default JsonInput;\n","export const defaultJsonText = {\n  balance_strat: {\n    default: {\n      type: 'PROPORTION',\n      strat_param: 0.0125,\n      label_change: {\n        levelto: 1\n      }\n    },\n    delete: [],\n    specific_label: {}\n  }\n};\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { message, Card, Button } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport SkyFilter from 'src/components/SkyFilter';\nimport SortableTags from 'src/components/SortableTags';\nimport JsonInput from 'src/components/JsonInput';\nimport algorithmService from 'src/services/algorithm';\nimport { flatTree } from 'src/utils/mixs';\nimport { get } from 'src/utils/ls';\nimport { emitter } from 'src/utils/event-emitter';\nimport { defaultJsonText } from 'src/constants/defaultJsonText';\nimport './style.sass';\n\nconst enabledFilters = [\n  {\n    label: '名称',\n    filterType: 'INPUT',\n    valueKey: 'name',\n    required: true\n  },\n  {\n    label: '时间范围',\n    filterType: 'DATES',\n    valueKey: 'times',\n    required: true\n  },\n  {\n    label: '空间范围',\n    filterType: 'SPACE',\n    valueKey: 'space',\n    required: true\n  }\n];\n\nconst initvalue = {\n  name: '',\n  timeRange: []\n};\n\nconst SampleSetInfo = ({ spaceName, spaceId, sampleSetInfo }) => {\n  const [tags, setTags] = useState([]);\n  const [info, setInfo] = useState(sampleSetInfo ? sampleSetInfo : initvalue);\n  const [selectedTag, setSelectedTag] = useState(info.tags || []);\n  const [jsonText, setJsonText] = useState(\n    info.param ? JSON.parse(info.param) : defaultJsonText\n  );\n\n  const history = useHistory();\n  const query = useQuery();\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n  let sId = query.get('sId');\n\n  const goBack = useCallback(() => {\n    history.push(\n      `/app/algorithm-space?type=setting&manner=sample-set&id=${spaceId}&name=${spaceName}`\n    );\n  }, [history, spaceId, spaceName]);\n\n  const saveInfo = useCallback(async () => {\n    emitter.emit('json-editor-save');\n    const _jsonText = get('jsonText');\n    let sid = sId ? sId : undefined;\n    let params = {\n      ...info,\n      createdAt: undefined,\n      createdBy: undefined,\n      times: undefined,\n      id: sid,\n      workSpaceId: spaceId,\n      timeRange: {\n        beginTime: info.times[0].format('YYYY-MM-DDT00:00:00'),\n        endTime: info.times[1].format('YYYY-MM-DDT23:59:59')\n      },\n      tags: selectedTag.map(t => ({ name: t.name, code: t.code })),\n      param: _jsonText\n    };\n    try {\n      if (sId) {\n        await algorithmService.updateSampleSet(params);\n      } else {\n        await algorithmService.createSampleSet(params);\n      }\n\n      goBack();\n      setInfo([]);\n      setSelectedTag([]);\n      setJsonText([]);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, [goBack, info, sId, selectedTag, spaceId]);\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'WorkSpace',\n          key: '/app/algorithm-space?type=list'\n        },\n        {\n          name: spaceName,\n          key: `/app/algorithm-space?type=setting&manner=sample-set&id=${spaceId}&name=${spaceName}`\n        },\n        {\n          name: sId ? `编辑${sId}` : '新建',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, unMount, onChange, spaceName, sId, spaceId]);\n\n  const queryTags = useCallback(async () => {\n    try {\n      let tags = await algorithmService.queryAllSampleTags();\n      let flatedTags = flatTree(tags, true);\n      flatedTags.forEach(tag => {\n        let children = tag.children;\n        tag.title = tag.name;\n        tag.selectable = true;\n        tag.key = tag.code;\n        tag.children = children.length ? children : null;\n      });\n      setTags(tags);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, []);\n\n  useEffect(() => {\n    queryTags();\n  }, [queryTags]);\n\n  const disabledBtn = useMemo(() => {\n    return !info.name || !info.times || !info.space;\n  }, [info]);\n\n  return (\n    <Card className=\"ai-setting-info-card\">\n      <div className=\"setting-info-form\">\n        <SkyFilter\n          layout=\"horizontal\"\n          enabledFilters={enabledFilters}\n          value={info}\n          onChange={setInfo}\n        />\n\n        <SortableTags\n          treeData={tags}\n          label=\"样本标签\"\n          selectedTags={selectedTag}\n          setSelectedTags={setSelectedTag}\n        />\n\n        <JsonInput label=\"平衡参数\" param={jsonText} setParam={setJsonText} />\n        <div className=\"operate-btns\">\n          <Button type=\"primary\" onClick={saveInfo} disabled={disabledBtn}>\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={goBack}>\n            取消\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default SampleSetInfo;\n","import React, { useEffect, useCallback, useState, useMemo } from 'react';\nimport { message, Card, Button } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport SkyFilter from 'src/components/SkyFilter';\nimport SortableTags from 'src/components/SortableTags';\nimport JsonInput from 'src/components/JsonInput';\nimport algorithmService from 'src/services/algorithm';\nimport { get } from 'src/utils/ls';\nimport { emitter } from 'src/utils/event-emitter';\nimport { defaultJsonText } from 'src/constants/defaultJsonText';\nimport './style.sass';\n\nconst initvalue = {\n  name: '',\n  timeRange: []\n};\n\nconst SampleDataInfo = ({ spaceId, spaceName, sampleSetInfo }) => {\n  const [info, setInfo] = useState(sampleSetInfo ? sampleSetInfo : initvalue);\n  const [waves, setWaves] = useState([]);\n  const [selectedWaves, setSelectedWaves] = useState(info.waves || []);\n  const [sampleSetList, setSampleSetList] = useState([]);\n\n  const [jsonText, setJsonText] = useState(\n    info.param ? JSON.parse(info.param) : defaultJsonText\n  );\n\n  const history = useHistory();\n  const query = useQuery();\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n  let sId = query.get('sId');\n\n  const enabledFilters = useMemo(\n    () => [\n      {\n        label: '名称',\n        filterType: 'INPUT',\n        valueKey: 'name',\n        required: true\n      },\n      {\n        label: 'Sample',\n        filterType: 'SELECT',\n        valueKey: 'sampleSetIds',\n        optionSource: sampleSetList,\n        mode: 'multiple',\n        required: true\n      },\n      {\n        label: '时间范围',\n        filterType: 'DATES',\n        valueKey: 'times',\n        required: true\n      }\n    ],\n    [sampleSetList]\n  );\n\n  const goBack = useCallback(() => {\n    history.push(\n      `/app/algorithm-space?type=setting&manner=sample-data&id=${spaceId}&name=${spaceName}`\n    );\n  }, [history, spaceId, spaceName]);\n\n  const saveInfo = useCallback(async () => {\n    emitter.emit('json-editor-save');\n    const _jsonText = get('jsonText');\n    let sid = sId ? sId : undefined;\n    let params = {\n      ...info,\n      createdAt: undefined,\n      createdBy: undefined,\n      times: undefined,\n      id: sid,\n      workSpaceId: spaceId,\n      timeRange: {\n        beginTime: info.times[0].format('YYYY-MM-DDT00:00:00'),\n        endTime: info.times[1].format('YYYY-MM-DDT23:59:59')\n      },\n      waves: selectedWaves.map(t => ({ name: t.title, key: t.key })),\n      param: _jsonText\n    };\n    try {\n      if (sId) {\n        await algorithmService.updateSampleData(params);\n      } else {\n        await algorithmService.createSampleData(params);\n      }\n      goBack();\n      setInfo([]);\n      setSelectedWaves([]);\n      setJsonText([]);\n    } catch (e) {\n      message.error(e.message);\n    }\n  }, [goBack, info, sId, selectedWaves, spaceId]);\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'WorkSpace',\n          key: '/app/algorithm-space?type=list'\n        },\n        {\n          name: spaceName,\n          key: `/app/algorithm-space?type=setting&manner=sample-data&id=${spaceId}&name=${spaceName}`\n        },\n        {\n          name: sId ? `编辑${sId}` : '新建',\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, unMount, onChange, spaceName, sId, spaceId]);\n\n  const queryWaves = useCallback(async () => {\n    let waves = await algorithmService.queryAllWaves();\n    setWaves(waves);\n  }, []);\n\n  const querySampleSetList = useCallback(async spaceId => {\n    let list = await algorithmService.querySampleSetList(spaceId);\n    setSampleSetList(list);\n  }, []);\n\n  useEffect(() => {\n    queryWaves();\n    querySampleSetList(spaceId);\n  }, [querySampleSetList, queryWaves, spaceId]);\n\n  const disabledBtn = useMemo(() => {\n    return !info.name || !info.sampleSetIds || !info.times;\n  }, [info]);\n\n  return (\n    <Card className=\"ai-setting-info-card\">\n      <div className=\"setting-info-form\">\n        <SkyFilter\n          enabledFilters={enabledFilters}\n          value={info}\n          onChange={setInfo}\n        />\n        <SortableTags\n          treeData={waves}\n          label=\"选择波段\"\n          selectedTags={selectedWaves}\n          setSelectedTags={setSelectedWaves}\n        />\n        <JsonInput label=\"滤波\" param={jsonText} setParam={setJsonText} />\n        <div className=\"operate-btns\">\n          <Button type=\"primary\" onClick={saveInfo} disabled={disabledBtn}>\n            提交\n          </Button>\n          <Button className=\"cancel-btn\" onClick={goBack}>\n            取消\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default SampleDataInfo;\n","import React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Tabs } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport { useQuery } from 'src/utils/hooks';\nimport { useGlobalContext } from 'src/App/globalContext';\nimport DashBoard from './Samples/DashBoard';\nimport SampleSetList from './Samples/SampleSetList';\nimport SampleSetInfo from './Samples/SampleSetInfo';\nimport SampleDataInfo from './Samples/SampleDataInfo';\nimport algorithmService from 'src/services/algorithm';\nimport './style.sass';\n\nconst { TabPane } = Tabs;\n\n// 根据manner不同跳转不同Tab\nconst SpaceInfo = ({ spaceId, spaceName }) => {\n  const [settingList, setSettingList] = useState([]);\n\n  const history = useHistory();\n  const query = useQuery();\n  const { headerNav } = useGlobalContext();\n  const { mount, unMount } = headerNav;\n  let manner = query.get('manner');\n  let sId = query.get('sId');\n  let action = query.get('action');\n\n  const onChange = useCallback(\n    path => {\n      path && history.push(path);\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    mount({\n      type: 'breadcrumb',\n      items: [\n        {\n          name: 'WorkSpace',\n          key: '/app/algorithm-space?type=list'\n        },\n        {\n          name: spaceName,\n          key: null\n        }\n      ],\n      onChange\n    });\n\n    return () => {\n      unMount();\n    };\n  }, [mount, unMount, onChange, spaceName, manner]);\n\n  const onTabChange = useCallback(\n    path => {\n      history.push(\n        `/app/algorithm-space?type=setting&manner=${path}&id=${spaceId}&name=${spaceName}`\n      );\n    },\n    [history, spaceId, spaceName]\n  );\n\n  const fetchSampleSetList = useCallback(async () => {\n    if (manner === 'sample-set') {\n      let settingList = await algorithmService.querySampleSetList(spaceId);\n      setSettingList(settingList);\n    } else {\n      let settingList = await algorithmService.querySampleDataList(spaceId);\n      setSettingList(settingList);\n    }\n  }, [spaceId, manner]);\n\n  const info = useMemo(() => {\n    return settingList.find(f => f.id === Number(sId)) || {};\n  }, [settingList, sId]);\n\n  useEffect(() => {\n    fetchSampleSetList();\n  }, [fetchSampleSetList]);\n\n  return (\n    <>\n      <Tabs\n        className=\"ai-space-tabs-nav\"\n        onChange={onTabChange}\n        activeKey={manner}\n      >\n        <TabPane tab=\"DashBoard\" key=\"dash-board\" />\n        <TabPane tab=\"SampleSet\" key=\"sample-set\" />\n        <TabPane tab=\"SampleData\" key=\"sample-data\" />\n      </Tabs>\n\n      {manner === 'dash-board' && <DashBoard spaceId={spaceId} />}\n      {manner === 'sample-set' &&\n        (sId !== null || action === 'edit' ? (\n          <SampleSetInfo\n            spaceId={spaceId}\n            spaceName={spaceName}\n            sampleSetInfo={info}\n          />\n        ) : (\n          <SampleSetList\n            spaceId={spaceId}\n            spaceName={spaceName}\n            type=\"sampleSet\"\n            settingList={settingList}\n            fetchSampleSetList={fetchSampleSetList}\n          />\n        ))}\n\n      {manner === 'sample-data' &&\n        (sId !== null || action === 'edit' ? (\n          <SampleDataInfo\n            spaceId={spaceId}\n            spaceName={spaceName}\n            sampleSetInfo={info}\n          />\n        ) : (\n          <SampleSetList\n            spaceId={spaceId}\n            spaceName={spaceName}\n            type=\"sampleData\"\n            settingList={settingList}\n            fetchSampleSetList={fetchSampleSetList}\n          />\n        ))}\n    </>\n  );\n};\n\nexport default SpaceInfo;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { message } from 'antd';\nimport { useQuery } from 'src/utils/hooks';\nimport algorithmService from 'src/services/algorithm';\nimport SpaceList from './SpaceList';\nimport SpaceInfo from './SpaceInfo';\nimport './style.sass';\n\nconst WorkSpace = () => {\n  const [spaceList, setSpaceList] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchSpaceList = useCallback(async () => {\n    try {\n      setLoading(true);\n      let spaceList = await algorithmService.queryWorkSpaceList();\n      setSpaceList(spaceList);\n    } catch (e) {\n      message.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  let query = useQuery();\n  let type = query.get('type');\n  let spaceId = query.get('id');\n  let spaceName = query.get('name');\n\n  useEffect(() => {\n    fetchSpaceList();\n  }, [fetchSpaceList]);\n\n  return type === 'setting' ? (\n    <SpaceInfo spaceId={spaceId} spaceName={spaceName} />\n  ) : (\n    <SpaceList\n      spaceList={spaceList}\n      fetchSpaceList={fetchSpaceList}\n      loading={loading}\n      setLoading={setLoading}\n    />\n  );\n};\n\nexport default WorkSpace;\n","import React from 'react';\nimport { Layout } from 'antd';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport DataDownload from 'src/pages/Datas/Download';\nimport DataTasks from 'src/pages/Datas/Tasks';\nimport DataWave from 'src/pages/Datas/Wave';\nimport SapmleTags from 'src/pages/Datas/SampleTags';\nimport RegionTags from 'src/pages/Datas/RegionTags';\n\nimport SampleFiles from 'src/pages/Samples/Files';\nimport SampleManagement from 'src/pages/Samples/Management';\nimport SampleTask from 'src/pages/Samples/Task';\n\nimport MarksColor from 'src/pages/Account/MarkColor';\nimport Upload from 'src/pages/Tools/Upload';\nimport StandardPublish from 'src/pages/Standard/Publish';\nimport StandardCategories from 'src/pages/Standard/Categories';\nimport StandardCors from 'src/pages/Standard/Cors';\nimport StandardDers from 'src/pages/Standard/Ders';\nimport StandardEnas from 'src/pages/Standard/Enas';\nimport DataUpload from 'src/pages/Samples/DataUpload';\nimport WorkSpace from 'src/pages/Algorithm/WorkSpace';\n\nconst { Content } = Layout;\n\nconst TContent = ({ services }) => {\n  return (\n    <Content id=\"content\">\n      <Switch>\n        <Route exact path=\"/app/data/satellite-download\" component={DataDownload}></Route>\n        <Route exact path=\"/app/data/satellite-tasks\" component={DataTasks}></Route>\n        <Route exact path=\"/app/data/tag-regions\" component={RegionTags}></Route>\n        <Route exact path=\"/app/data/tag-samples\" component={SapmleTags}></Route>\n        <Route exact path=\"/app/data-wave\" component={DataWave}></Route>\n\n        <Route exact path=\"/app/sample-file\" component={SampleFiles}></Route>\n        <Route exact path=\"/app/sample-management\" component={SampleManagement}></Route>\n        <Route path=\"/app/sample-task\" component={SampleTask}></Route>\n        <Route exact path=\"/app/account-marks-color\" component={MarksColor}></Route>\n        <Route exact path=\"/app/sample-dataUpload\" component={DataUpload} />\n\n        <Route exact path=\"/app/tools-upload\" component={Upload}></Route>\n\n        <Route exact path=\"/app/standard-publish\" component={StandardPublish}></Route>\n        <Route exact path=\"/app/standard-publish\" component={StandardPublish} />\n        <Route exact path=\"/app/standard-categories\" component={StandardCategories} />\n        <Route exact path=\"/app/standard-cors\" component={StandardCors} />\n        <Route exact path=\"/app/standard-ders\" component={StandardDers} />\n        <Route exact path=\"/app/standard-enas\" component={StandardEnas} />\n\n        <Route exact path=\"/app/algorithm-space\" component={WorkSpace} />\n        <Redirect to=\"/app/data/satellite-download\" />\n      </Switch>\n    </Content>\n  );\n};\n\nexport default TContent;\n","import React from 'react';\nimport { Layout } from 'antd';\nimport 'garden/dist/lib/style.css';\nimport THeader from './Header';\nimport SideMenu from './SideMenu';\nimport TContent from './Content';\nimport './style.sass';\n\nconst { Content } = Layout;\n\nconst TLayout = ({ location }) => {\n  return (\n    <>\n      <SideMenu location={location} />\n      <Content>\n        <THeader></THeader>\n        <TContent />\n      </Content>\n    </>\n  );\n};\n\nexport default TLayout;\n","import React from 'react';\nimport { ConfigProvider as AntdConfigProvider } from 'antd';\n// import enUS from 'antd/es/locale/en_US';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport { GlobalContextProvider } from './globalContext';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\nimport Layout from './Layout';\nimport '@terraqt/garden/dist/lib/style.css';\n\nconst App = () => {\n  moment.locale('zh-cn');\n  return (\n    <AntdConfigProvider locale={zhCN}>\n      <GlobalContextProvider>\n        <Router>\n          <Switch>\n            <Route path=\"/app\" component={Layout} />\n            <Redirect to=\"/app\" />\n          </Switch>\n        </Router>\n      </GlobalContextProvider>\n    </AntdConfigProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/common.sass';\nimport './styles/custom-theme.less';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Ace from '@terraqt/ace';\nimport cookies from 'src/utils/cookies';\nimport { getURL, env } from './env';\nimport './mock';\n\nconst ls = global.localStorage;\n\nconst urls = {\n  development: {\n    uri: getURL(),\n    meta: getURL() + '/meta/invoke/',\n    sky: getURL() + '/sky/quanta/invoke',\n    // sky: 'http://dev-node-01.host.terraqt.net:6377/invoke',\n    sso: getURL() + '/sso/invoke/',\n    ai: 'http://dev-node-02.host.terraqt.net:7123/invoke'\n  },\n  production: {\n    uri: getURL(),\n    meta: getURL() + '/meta',\n    sky: getURL() + '/sky/quanta',\n    sso: getURL() + '/sso',\n    ai: getURL() + '/breeze'\n  }\n};\n\nconst configs = {\n  ace: {\n    metas: {\n      appName: 'hera',\n      appVersion: '1.0.0'\n    },\n    qcp: '1.0.0',\n    headers: {\n      'x-RMB-ksid': cookies.get('SessionId') || ''\n    }\n  },\n  meta: {\n    uri: urls[env].meta,\n    debug: {\n      mock: false\n    },\n    qcp: '1.0.0',\n    secure: false,\n    throttle: 3,\n    timeout: 10000\n  },\n  message: {\n    uri: urls[env].message,\n    debug: {\n      mock: false\n    },\n    qcp: '1.0.0',\n    secure: false,\n    throttle: 3,\n    timeout: 10000\n  },\n  sky: {\n    uri: urls[env].sky,\n    debug: {\n      mock: false\n    },\n    qcp: '1.0.0',\n    secure: false,\n    throttle: 3,\n    timeout: 10000\n  },\n  sso: {\n    uri: urls[env].sso,\n    debug: {\n      mock: false\n    },\n    qcp: '1.0.0',\n    secure: false,\n    throttle: 3,\n    timeout: 10000\n  },\n  ai: {\n    uri: urls[env].ai,\n    debug: {\n      mock: false\n    },\n    qcp: '1.0.0',\n    secure: false,\n    throttle: 3,\n    timeout: 10000\n  }\n};\n\nAce.config(configs.ace);\n\n// global\nAce.onError(error => {\n  if (error.code === 'UNAUTHORIZED') {\n    ls.setItem('SessionId', null);\n    global.location.href = `//sso.terraqt.ink/login`;\n  }\n});\n\nexport const sky = new Ace(configs.sky);\nexport const meta = new Ace(configs.meta);\nexport const sso = new Ace(configs.sso);\nexport const message = new Ace(configs.message);\nexport const ai = new Ace(configs.ai);\nexport const getModules = Ace.getModules;\n","/*\n * Cookies.js - 1.2.4-pre\n * https://github.com/ScottHamper/Cookies\n *\n * This is free and unencumbered software released into the public domain.\n */\n/* eslint-disable */\n(function(global, undefined) {\n  var factory = function(window) {\n    if (typeof window.document !== 'object') {\n      throw new Error(\n        'Cookies.js requires a `window` with a `document` object'\n      );\n    }\n\n    var Cookies = function(key, value, options) {\n      return arguments.length === 1\n        ? Cookies.get(key)\n        : Cookies.set(key, value, options);\n    };\n\n    // Allows for setter injection in unit tests\n    Cookies._document = window.document;\n\n    // Used to ensure cookie keys do not collide with\n    // built-in `Object` properties\n    Cookies._cacheKeyPrefix = 'cookey.'; // Hurr hurr, :)\n\n    Cookies._maxExpireDate = new Date('Fri, 31 Dec 9999 23:59:59 UTC');\n\n    Cookies.defaults = {\n      path: '/',\n      secure: false\n    };\n\n    Cookies.get = function(key) {\n      if (Cookies._cachedDocumentCookie !== Cookies._document.cookie) {\n        Cookies._renewCache();\n      }\n\n      var value = Cookies._cache[Cookies._cacheKeyPrefix + key];\n\n      return value === undefined ? undefined : decodeURIComponent(value);\n    };\n\n    Cookies.set = function(key, value, options) {\n      options = Cookies._getExtendedOptions(options);\n      options.expires = Cookies._getExpiresDate(\n        value === undefined ? -1 : options.expires\n      );\n\n      Cookies._document.cookie = Cookies._generateCookieString(\n        key,\n        value,\n        options\n      );\n\n      return Cookies;\n    };\n\n    Cookies.expire = function(key, options) {\n      return Cookies.set(key, undefined, options);\n    };\n\n    Cookies._getExtendedOptions = function(options) {\n      return {\n        path: (options && options.path) || Cookies.defaults.path,\n        domain: (options && options.domain) || Cookies.defaults.domain,\n        expires: (options && options.expires) || Cookies.defaults.expires,\n        secure:\n          options && options.secure !== undefined\n            ? options.secure\n            : Cookies.defaults.secure\n      };\n    };\n\n    Cookies._isValidDate = function(date) {\n      return (\n        Object.prototype.toString.call(date) === '[object Date]' &&\n        !isNaN(date.getTime())\n      );\n    };\n\n    Cookies._getExpiresDate = function(expires, now) {\n      now = now || new Date();\n\n      if (typeof expires === 'number') {\n        expires =\n          expires === Infinity\n            ? Cookies._maxExpireDate\n            : new Date(now.getTime() + expires * 1000);\n      } else if (typeof expires === 'string') {\n        expires = new Date(expires);\n      }\n\n      if (expires && !Cookies._isValidDate(expires)) {\n        throw new Error(\n          '`expires` parameter cannot be converted to a valid Date instance'\n        );\n      }\n\n      return expires;\n    };\n\n    Cookies._generateCookieString = function(key, value, options) {\n      key = key.replace(/[^#$&+\\^`|]/g, encodeURIComponent);\n      key = key.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n      value = (value + '').replace(\n        /[^!#$&-+\\--:<-\\[\\]-~]/g,\n        encodeURIComponent\n      );\n      options = options || {};\n\n      var cookieString = key + '=' + value;\n      cookieString += options.path ? ';path=' + options.path : '';\n      cookieString += options.domain ? ';domain=' + options.domain : '';\n      cookieString += options.expires\n        ? ';expires=' + options.expires.toUTCString()\n        : '';\n      cookieString += options.secure ? ';secure' : '';\n\n      return cookieString;\n    };\n\n    Cookies._getCacheFromString = function(documentCookie) {\n      var cookieCache = {};\n      var cookiesArray = documentCookie ? documentCookie.split('; ') : [];\n\n      for (var i = 0; i < cookiesArray.length; i++) {\n        var cookieKvp = Cookies._getKeyValuePairFromCookieString(\n          cookiesArray[i]\n        );\n\n        if (\n          cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] === undefined\n        ) {\n          cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] =\n            cookieKvp.value;\n        }\n      }\n\n      return cookieCache;\n    };\n\n    Cookies._getKeyValuePairFromCookieString = function(cookieString) {\n      // \"=\" is a valid character in a cookie value according to RFC6265, so cannot `split('=')`\n      var separatorIndex = cookieString.indexOf('=');\n\n      // IE omits the \"=\" when the cookie value is an empty string\n      separatorIndex =\n        separatorIndex < 0 ? cookieString.length : separatorIndex;\n\n      var key = cookieString.substr(0, separatorIndex);\n      var decodedKey;\n      try {\n        decodedKey = decodeURIComponent(key);\n      } catch (e) {\n        if (console && typeof console.error === 'function') {\n          console.error('Could not decode cookie with key \"' + key + '\"', e);\n        }\n      }\n\n      return {\n        key: decodedKey,\n        value: cookieString.substr(separatorIndex + 1) // Defer decoding value until accessed\n      };\n    };\n\n    Cookies._renewCache = function() {\n      Cookies._cache = Cookies._getCacheFromString(Cookies._document.cookie);\n      Cookies._cachedDocumentCookie = Cookies._document.cookie;\n    };\n\n    Cookies._areEnabled = function() {\n      var testKey = 'cookies.js';\n      var areEnabled = Cookies.set(testKey, 1).get(testKey) === '1';\n      Cookies.expire(testKey);\n      return areEnabled;\n    };\n\n    Cookies.enabled = Cookies._areEnabled();\n\n    return Cookies;\n  };\n  var cookiesExport =\n    global && typeof global.document === 'object' ? factory(global) : factory;\n\n  // AMD support\n  if (typeof define === 'function' && define.amd) {\n    define(function() {\n      return cookiesExport;\n    });\n    // CommonJS/Node.js support\n  } else if (typeof exports === 'object') {\n    // Support Node.js specific `module.exports` (which can be a function)\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n      exports = module.exports = cookiesExport;\n    }\n    // But always support CommonJS module 1.1.1 spec (`exports` cannot be a function)\n    exports.Cookies = cookiesExport;\n  } else {\n    global.Cookies = cookiesExport;\n  }\n})(typeof window === 'undefined' ? this : window);\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo-white.4da645a8.png\";","const ls = global.localStorage;\n\nexport function set(key, value) {\n  ls.setItem(key, value);\n}\n\nexport function get(key) {\n  return ls.getItem(key);\n}\n\nexport function remove(key) {\n  return ls.removeItem(key);\n}\n\nlet prefix = 'm-';\n\n// 存储map中某一项数据\nexport function mSet(itemName, key, value) {\n  let item = ls.getItem(`${prefix}${itemName}`)\n    ? JSON.parse(ls.getItem(`${prefix}${itemName}`))\n    : {};\n  item = { ...item, [key]: value };\n  ls.setItem(`${prefix}${itemName}`, JSON.stringify(item));\n}\n\n// 读取map中某一项数据\nexport function mGet(itemName, key) {\n  let item = JSON.parse(ls.getItem(`${prefix}${itemName}`));\n  if (key) {\n    return item ? item[key] : null;\n  } else {\n    return item;\n  }\n}\n\n// 移除 map中某一项数据\nexport function mRemove(itemName, key) {\n  let item = JSON.parse(ls.getItem(`${prefix}${itemName}`));\n  if (!item[key]) return;\n  delete item[key];\n  ls.setItem(`${prefix}${itemName}`, JSON.stringify(item));\n}\n"],"sourceRoot":""}